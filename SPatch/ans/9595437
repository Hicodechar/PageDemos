
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
 <head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
  <title>[1/3] gpu: drm: amd/radeon: Convert printk(KERN_&lt;LEVEL&gt; to pr_&lt;level&gt; - Patchwork</title>
  <link rel="stylesheet" type="text/css" href="/static/css/style.css"/>
  <script type="text/javascript" src="/static/js/common.js"></script>
  <script type="text/javascript" src="/static/js/jquery-1.10.1.min.js"></script>

 </head>
 <body>
  <div id="title">
  <h1 style="float: left;">
     <a
      href="/">Patchwork</a>
    [1/3] gpu: drm: amd/radeon: Convert printk(KERN_&lt;LEVEL&gt; to pr_&lt;level&gt;</h1>
  <div id="auth">

     <a href="/user/login/">login</a>
     <br/>
     <a href="/register/">register</a>
     <br/>
     <a href="/mail/">mail settings</a>

   </div>
   <div style="clear: both;"></div>
  </div>
  <div id="nav">
   <div id="navleft">
   
    <strong>Project</strong>: LKML
     :
     <a href="/project/LKML/list/"
      >patches</a>
     :
     <a href="/project/LKML/"
      >project info</a>
    
     :
     <a href="/"
     >other projects</a>
     
    
   </div>
   <div id="navright">
    <a href="/help/about/">about</a>
   </div>
   <div style="clear: both"></div>
  </div>

  <div id="content">

<script language="JavaScript" type="text/javascript">
function toggle_headers(link_id, headers_id)
{
    var link = document.getElementById(link_id)
    var headers = document.getElementById(headers_id)

    var hidden = headers.style['display'] == 'none';

    if (hidden) {
        link.innerHTML = 'hide';
        headers.style['display'] = 'block';
    } else {
        link.innerHTML = 'show';
        headers.style['display'] = 'none';
    }

}
</script>

<table class="patchmeta">
 <tr>
  <th>Submitter</th>
  <td><a href="/project/LKML/list/?submitter=325">Joe Perches</a></td>
 </tr>
 <tr>
  <th>Date</th>
  <td>Feb. 28, 2017, 12:55 p.m.</td>
 </tr>
 <tr>
  <th>Message ID</th>
  <td>&lt;c1d0b86774e43880aa0ae8ab8118082ad8d6cc0e.1488285953.git.joe@perches.com&gt;</td>
 </tr>
 <tr>
  <th>Download</th>
  <td>
   <a href="/patch/9595437/mbox/"
   >mbox</a>
|
   <a href="/patch/9595437/raw/"
   >patch</a>

   </td>
 </tr>
 <tr>
  <th>Permalink</th>
  <td><a href="/patch/9595437/">/patch/9595437/</a>
 </tr>
  <tr>
   <th>State</th>
   <td>New</td>
  </tr>


 <tr>
  <th>Headers</th>
  <td><a id="togglepatchheaders"
   href="javascript:toggle_headers('togglepatchheaders', 'patchheaders')"
   >show</a>
   <div id="patchheaders" class="patchheaders" style="display:none;">
    <pre>Return-Path: &lt;linux-kernel-owner@kernel.org&gt;
Received: from mail.wl.linuxfoundation.org (pdx-wl-mail.web.codeaurora.org
	[172.30.200.125])
	by pdx-korg-patchwork.web.codeaurora.org (Postfix) with ESMTP id
	5FC7360429 for &lt;patchwork-LKML@patchwork.kernel.org&gt;;
	Tue, 28 Feb 2017 12:57:00 +0000 (UTC)
Received: from mail.wl.linuxfoundation.org (localhost [127.0.0.1])
	by mail.wl.linuxfoundation.org (Postfix) with ESMTP id 4A6FF27F60
	for &lt;patchwork-LKML@patchwork.kernel.org&gt;;
	Tue, 28 Feb 2017 12:57:00 +0000 (UTC)
Received: by mail.wl.linuxfoundation.org (Postfix, from userid 486)
	id 3D9E628159; Tue, 28 Feb 2017 12:57:00 +0000 (UTC)
X-Spam-Checker-Version: SpamAssassin 3.3.1 (2010-03-16) on
	pdx-wl-mail.web.codeaurora.org
X-Spam-Level: 
X-Spam-Status: No, score=-6.9 required=2.0 tests=BAYES_00,RCVD_IN_DNSWL_HI
	autolearn=ham version=3.3.1
Received: from vger.kernel.org (vger.kernel.org [209.132.180.67])
	by mail.wl.linuxfoundation.org (Postfix) with ESMTP id 1E654280FC
	for &lt;patchwork-LKML@patchwork.kernel.org&gt;;
	Tue, 28 Feb 2017 12:56:57 +0000 (UTC)
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
	id S1752539AbdB1M4u (ORCPT
	&lt;rfc822;patchwork-LKML@patchwork.kernel.org&gt;);
	Tue, 28 Feb 2017 07:56:50 -0500
Received: from smtprelay0118.hostedemail.com ([216.40.44.118]:35498 &quot;EHLO
	smtprelay.hostedemail.com&quot; rhost-flags-OK-OK-OK-FAIL)
	by vger.kernel.org with ESMTP id S1752288AbdB1M4R (ORCPT
	&lt;rfc822;linux-kernel@vger.kernel.org&gt;);
	Tue, 28 Feb 2017 07:56:17 -0500
Received: from filter.hostedemail.com (clb03-v110.bra.tucows.net
	[216.40.38.60])
	by smtprelay02.hostedemail.com (Postfix) with ESMTP id 55BAB12BA13;
	Tue, 28 Feb 2017 12:56:13 +0000 (UTC)
X-Session-Marker: 6A6F6540706572636865732E636F6D
X-HE-Tag: hen99_531f8bad19855
X-Filterd-Recvd-Size: 67770
Received: from joe-laptop.perches.com (unknown [47.151.132.55])
	(Authenticated sender: joe@perches.com)
	by omf04.hostedemail.com (Postfix) with ESMTPA;
	Tue, 28 Feb 2017 12:56:11 +0000 (UTC)
From: Joe Perches &lt;joe@perches.com&gt;
To: Daniel Vetter &lt;daniel.vetter@intel.com&gt;,
	Alex Deucher &lt;alexander.deucher@amd.com&gt;,
	=?UTF-8?q?Christian=20K=C3=B6nig?= &lt;christian.koenig@amd.com&gt;
Cc: David Airlie &lt;airlied@linux.ie&gt;, amd-gfx@lists.freedesktop.org,
	dri-devel@lists.freedesktop.org, linux-kernel@vger.kernel.org
Subject: [PATCH 1/3] gpu: drm: amd/radeon: Convert printk(KERN_&lt;LEVEL&gt; to
	pr_&lt;level&gt;
Date: Tue, 28 Feb 2017 04:55:52 -0800
Message-Id: &lt;c1d0b86774e43880aa0ae8ab8118082ad8d6cc0e.1488285953.git.joe@perches.com&gt;
X-Mailer: git-send-email 2.10.0.rc2.1.g053435c
In-Reply-To: &lt;20170228090409.722xmltrx4g6i3tz@phenom.ffwll.local&gt;
References: &lt;20170228090409.722xmltrx4g6i3tz@phenom.ffwll.local&gt;
In-Reply-To: &lt;cover.1488285953.git.joe@perches.com&gt;
References: &lt;cover.1488285953.git.joe@perches.com&gt;
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: &lt;linux-kernel.vger.kernel.org&gt;
X-Mailing-List: linux-kernel@vger.kernel.org
X-Virus-Scanned: ClamAV using ClamSMTP
</pre>
   </div>
  </td>
 </tr>
</table>

<div class="patchforms">





 <div style="clear: both;">
 </div>
</div>



<h2>Comments</h2>

<div class="comment">
<div class="meta"><a href="/project/LKML/list/?submitter=325">Joe Perches</a> - Feb. 28, 2017, 12:55 p.m.</div>
<pre class="content">
Use a more common logging style.

Miscellanea:

o Coalesce formats and realign arguments
o Neaten a few macros now using pr_&lt;level&gt;
<span class="signed-off-by">
Signed-off-by: Joe Perches &lt;joe@perches.com&gt;</span>
---
 drivers/gpu/drm/amd/amdgpu/amdgpu.h                |  3 +-
 drivers/gpu/drm/amd/amdgpu/amdgpu_afmt.c           |  4 +-
 drivers/gpu/drm/amd/amdgpu/amdgpu_atpx_handler.c   |  4 +-
 drivers/gpu/drm/amd/amdgpu/amdgpu_device.c         |  4 +-
 drivers/gpu/drm/amd/amdgpu/amdgpu_fb.c             |  3 +-
 drivers/gpu/drm/amd/amdgpu/amdgpu_test.c           |  2 +-
 drivers/gpu/drm/amd/amdgpu/atom.c                  | 44 ++++++++---------
 drivers/gpu/drm/amd/amdgpu/ci_dpm.c                |  4 +-
 drivers/gpu/drm/amd/amdgpu/cik_sdma.c              |  4 +-
 drivers/gpu/drm/amd/amdgpu/gfx_v6_0.c              |  4 +-
 drivers/gpu/drm/amd/amdgpu/gfx_v7_0.c              |  4 +-
 drivers/gpu/drm/amd/amdgpu/gmc_v7_0.c              |  8 ++--
 drivers/gpu/drm/amd/amdgpu/gmc_v8_0.c              |  8 ++--
 drivers/gpu/drm/amd/amdgpu/sdma_v2_4.c             |  4 +-
 drivers/gpu/drm/amd/amdgpu/sdma_v3_0.c             |  4 +-
 drivers/gpu/drm/amd/include/amd_pcie_helpers.h     |  4 +-
 drivers/gpu/drm/amd/powerplay/hwmgr/smu7_hwmgr.c   |  2 +-
 drivers/gpu/drm/amd/powerplay/inc/pp_debug.h       |  2 +-
 drivers/gpu/drm/amd/powerplay/smumgr/fiji_smc.c    |  4 +-
 drivers/gpu/drm/amd/powerplay/smumgr/iceland_smc.c | 14 +++---
 .../gpu/drm/amd/powerplay/smumgr/polaris10_smc.c   |  4 +-
 drivers/gpu/drm/amd/powerplay/smumgr/tonga_smc.c   |  4 +-
 drivers/gpu/drm/radeon/atom.c                      | 46 ++++++++----------
 drivers/gpu/drm/radeon/cik.c                       | 56 ++++++++--------------
 drivers/gpu/drm/radeon/evergreen.c                 |  2 +-
 drivers/gpu/drm/radeon/evergreen_cs.c              |  7 ++-
 drivers/gpu/drm/radeon/ni.c                        | 22 +++------
 drivers/gpu/drm/radeon/r100.c                      | 18 +++----
 drivers/gpu/drm/radeon/r200.c                      |  3 +-
 drivers/gpu/drm/radeon/r300.c                      | 13 ++---
 drivers/gpu/drm/radeon/r420.c                      |  9 ++--
 drivers/gpu/drm/radeon/r520.c                      |  3 +-
 drivers/gpu/drm/radeon/r600.c                      | 21 +++-----
 drivers/gpu/drm/radeon/r600_cs.c                   |  7 ++-
 drivers/gpu/drm/radeon/radeon.h                    |  3 +-
 drivers/gpu/drm/radeon/radeon_atpx_handler.c       |  4 +-
 drivers/gpu/drm/radeon/radeon_audio.c              |  4 +-
 drivers/gpu/drm/radeon/radeon_clocks.c             |  2 +-
 drivers/gpu/drm/radeon/radeon_device.c             |  8 ++--
 drivers/gpu/drm/radeon/radeon_fb.c                 |  3 +-
 drivers/gpu/drm/radeon/radeon_gem.c                |  4 +-
 drivers/gpu/drm/radeon/radeon_test.c               |  6 +--
 drivers/gpu/drm/radeon/rs400.c                     |  4 +-
 drivers/gpu/drm/radeon/rs690.c                     |  3 +-
 drivers/gpu/drm/radeon/rv515.c                     |  9 ++--
 drivers/gpu/drm/radeon/si.c                        | 45 ++++++-----------
 46 files changed, 172 insertions(+), 268 deletions(-)
</pre>
</div>

<div class="comment">
<div class="meta"><a href="/project/LKML/list/?submitter=1662">Alex Deucher</a> - March 1, 2017, 11:19 p.m.</div>
<pre class="content">
On Tue, Feb 28, 2017 at 7:55 AM, Joe Perches &lt;joe@perches.com&gt; wrote:
<span class="quote">&gt; Use a more common logging style.</span>
<span class="quote">&gt;</span>
<span class="quote">&gt; Miscellanea:</span>
<span class="quote">&gt;</span>
<span class="quote">&gt; o Coalesce formats and realign arguments</span>
<span class="quote">&gt; o Neaten a few macros now using pr_&lt;level&gt;</span>
<span class="quote">&gt;</span>
<span class="quote">&gt; Signed-off-by: Joe Perches &lt;joe@perches.com&gt;</span>

Applied.  Thanks!

Alex
<span class="quote">

&gt; ---</span>
<span class="quote">&gt;  drivers/gpu/drm/amd/amdgpu/amdgpu.h                |  3 +-</span>
<span class="quote">&gt;  drivers/gpu/drm/amd/amdgpu/amdgpu_afmt.c           |  4 +-</span>
<span class="quote">&gt;  drivers/gpu/drm/amd/amdgpu/amdgpu_atpx_handler.c   |  4 +-</span>
<span class="quote">&gt;  drivers/gpu/drm/amd/amdgpu/amdgpu_device.c         |  4 +-</span>
<span class="quote">&gt;  drivers/gpu/drm/amd/amdgpu/amdgpu_fb.c             |  3 +-</span>
<span class="quote">&gt;  drivers/gpu/drm/amd/amdgpu/amdgpu_test.c           |  2 +-</span>
<span class="quote">&gt;  drivers/gpu/drm/amd/amdgpu/atom.c                  | 44 ++++++++---------</span>
<span class="quote">&gt;  drivers/gpu/drm/amd/amdgpu/ci_dpm.c                |  4 +-</span>
<span class="quote">&gt;  drivers/gpu/drm/amd/amdgpu/cik_sdma.c              |  4 +-</span>
<span class="quote">&gt;  drivers/gpu/drm/amd/amdgpu/gfx_v6_0.c              |  4 +-</span>
<span class="quote">&gt;  drivers/gpu/drm/amd/amdgpu/gfx_v7_0.c              |  4 +-</span>
<span class="quote">&gt;  drivers/gpu/drm/amd/amdgpu/gmc_v7_0.c              |  8 ++--</span>
<span class="quote">&gt;  drivers/gpu/drm/amd/amdgpu/gmc_v8_0.c              |  8 ++--</span>
<span class="quote">&gt;  drivers/gpu/drm/amd/amdgpu/sdma_v2_4.c             |  4 +-</span>
<span class="quote">&gt;  drivers/gpu/drm/amd/amdgpu/sdma_v3_0.c             |  4 +-</span>
<span class="quote">&gt;  drivers/gpu/drm/amd/include/amd_pcie_helpers.h     |  4 +-</span>
<span class="quote">&gt;  drivers/gpu/drm/amd/powerplay/hwmgr/smu7_hwmgr.c   |  2 +-</span>
<span class="quote">&gt;  drivers/gpu/drm/amd/powerplay/inc/pp_debug.h       |  2 +-</span>
<span class="quote">&gt;  drivers/gpu/drm/amd/powerplay/smumgr/fiji_smc.c    |  4 +-</span>
<span class="quote">&gt;  drivers/gpu/drm/amd/powerplay/smumgr/iceland_smc.c | 14 +++---</span>
<span class="quote">&gt;  .../gpu/drm/amd/powerplay/smumgr/polaris10_smc.c   |  4 +-</span>
<span class="quote">&gt;  drivers/gpu/drm/amd/powerplay/smumgr/tonga_smc.c   |  4 +-</span>
<span class="quote">&gt;  drivers/gpu/drm/radeon/atom.c                      | 46 ++++++++----------</span>
<span class="quote">&gt;  drivers/gpu/drm/radeon/cik.c                       | 56 ++++++++--------------</span>
<span class="quote">&gt;  drivers/gpu/drm/radeon/evergreen.c                 |  2 +-</span>
<span class="quote">&gt;  drivers/gpu/drm/radeon/evergreen_cs.c              |  7 ++-</span>
<span class="quote">&gt;  drivers/gpu/drm/radeon/ni.c                        | 22 +++------</span>
<span class="quote">&gt;  drivers/gpu/drm/radeon/r100.c                      | 18 +++----</span>
<span class="quote">&gt;  drivers/gpu/drm/radeon/r200.c                      |  3 +-</span>
<span class="quote">&gt;  drivers/gpu/drm/radeon/r300.c                      | 13 ++---</span>
<span class="quote">&gt;  drivers/gpu/drm/radeon/r420.c                      |  9 ++--</span>
<span class="quote">&gt;  drivers/gpu/drm/radeon/r520.c                      |  3 +-</span>
<span class="quote">&gt;  drivers/gpu/drm/radeon/r600.c                      | 21 +++-----</span>
<span class="quote">&gt;  drivers/gpu/drm/radeon/r600_cs.c                   |  7 ++-</span>
<span class="quote">&gt;  drivers/gpu/drm/radeon/radeon.h                    |  3 +-</span>
<span class="quote">&gt;  drivers/gpu/drm/radeon/radeon_atpx_handler.c       |  4 +-</span>
<span class="quote">&gt;  drivers/gpu/drm/radeon/radeon_audio.c              |  4 +-</span>
<span class="quote">&gt;  drivers/gpu/drm/radeon/radeon_clocks.c             |  2 +-</span>
<span class="quote">&gt;  drivers/gpu/drm/radeon/radeon_device.c             |  8 ++--</span>
<span class="quote">&gt;  drivers/gpu/drm/radeon/radeon_fb.c                 |  3 +-</span>
<span class="quote">&gt;  drivers/gpu/drm/radeon/radeon_gem.c                |  4 +-</span>
<span class="quote">&gt;  drivers/gpu/drm/radeon/radeon_test.c               |  6 +--</span>
<span class="quote">&gt;  drivers/gpu/drm/radeon/rs400.c                     |  4 +-</span>
<span class="quote">&gt;  drivers/gpu/drm/radeon/rs690.c                     |  3 +-</span>
<span class="quote">&gt;  drivers/gpu/drm/radeon/rv515.c                     |  9 ++--</span>
<span class="quote">&gt;  drivers/gpu/drm/radeon/si.c                        | 45 ++++++-----------</span>
<span class="quote">&gt;  46 files changed, 172 insertions(+), 268 deletions(-)</span>
<span class="quote">&gt;</span>
<span class="quote">&gt; diff --git a/drivers/gpu/drm/amd/amdgpu/amdgpu.h b/drivers/gpu/drm/amd/amdgpu/amdgpu.h</span>
<span class="quote">&gt; index c1b913541739..3f636632c289 100644</span>
<span class="quote">&gt; --- a/drivers/gpu/drm/amd/amdgpu/amdgpu.h</span>
<span class="quote">&gt; +++ b/drivers/gpu/drm/amd/amdgpu/amdgpu.h</span>
<span class="quote">&gt; @@ -1515,7 +1515,8 @@ void amdgpu_mm_wdoorbell(struct amdgpu_device *adev, u32 index, u32 v);</span>
<span class="quote">&gt;   */</span>
<span class="quote">&gt;  #define RREG32(reg) amdgpu_mm_rreg(adev, (reg), false)</span>
<span class="quote">&gt;  #define RREG32_IDX(reg) amdgpu_mm_rreg(adev, (reg), true)</span>
<span class="quote">&gt; -#define DREG32(reg) printk(KERN_INFO &quot;REGISTER: &quot; #reg &quot; : 0x%08X\n&quot;, amdgpu_mm_rreg(adev, (reg), false))</span>
<span class="quote">&gt; +#define DREG32(reg) pr_info(&quot;REGISTER: &quot; #reg &quot; : 0x%08X\n&quot;,           \</span>
<span class="quote">&gt; +                           amdgpu_mm_rreg(adev, (reg), false))</span>
<span class="quote">&gt;  #define WREG32(reg, v) amdgpu_mm_wreg(adev, (reg), (v), false)</span>
<span class="quote">&gt;  #define WREG32_IDX(reg, v) amdgpu_mm_wreg(adev, (reg), (v), true)</span>
<span class="quote">&gt;  #define REG_SET(FIELD, v) (((v) &lt;&lt; FIELD##_SHIFT) &amp; FIELD##_MASK)</span>
<span class="quote">&gt; diff --git a/drivers/gpu/drm/amd/amdgpu/amdgpu_afmt.c b/drivers/gpu/drm/amd/amdgpu/amdgpu_afmt.c</span>
<span class="quote">&gt; index 857ba0897159..3889486f71fe 100644</span>
<span class="quote">&gt; --- a/drivers/gpu/drm/amd/amdgpu/amdgpu_afmt.c</span>
<span class="quote">&gt; +++ b/drivers/gpu/drm/amd/amdgpu/amdgpu_afmt.c</span>
<span class="quote">&gt; @@ -74,9 +74,9 @@ static void amdgpu_afmt_calc_cts(uint32_t clock, int *CTS, int *N, int freq)</span>
<span class="quote">&gt;</span>
<span class="quote">&gt;         /* Check that we are in spec (not always possible) */</span>
<span class="quote">&gt;         if (n &lt; (128*freq/1500))</span>
<span class="quote">&gt; -               printk(KERN_WARNING &quot;Calculated ACR N value is too small. You may experience audio problems.\n&quot;);</span>
<span class="quote">&gt; +               pr_warn(&quot;Calculated ACR N value is too small. You may experience audio problems.\n&quot;);</span>
<span class="quote">&gt;         if (n &gt; (128*freq/300))</span>
<span class="quote">&gt; -               printk(KERN_WARNING &quot;Calculated ACR N value is too large. You may experience audio problems.\n&quot;);</span>
<span class="quote">&gt; +               pr_warn(&quot;Calculated ACR N value is too large. You may experience audio problems.\n&quot;);</span>
<span class="quote">&gt;</span>
<span class="quote">&gt;         *N = n;</span>
<span class="quote">&gt;         *CTS = cts;</span>
<span class="quote">&gt; diff --git a/drivers/gpu/drm/amd/amdgpu/amdgpu_atpx_handler.c b/drivers/gpu/drm/amd/amdgpu/amdgpu_atpx_handler.c</span>
<span class="quote">&gt; index 6c343a933182..c13c51af0b68 100644</span>
<span class="quote">&gt; --- a/drivers/gpu/drm/amd/amdgpu/amdgpu_atpx_handler.c</span>
<span class="quote">&gt; +++ b/drivers/gpu/drm/amd/amdgpu/amdgpu_atpx_handler.c</span>
<span class="quote">&gt; @@ -583,8 +583,8 @@ static bool amdgpu_atpx_detect(void)</span>
<span class="quote">&gt;</span>
<span class="quote">&gt;         if (has_atpx &amp;&amp; vga_count == 2) {</span>
<span class="quote">&gt;                 acpi_get_name(amdgpu_atpx_priv.atpx.handle, ACPI_FULL_PATHNAME, &amp;buffer);</span>
<span class="quote">&gt; -               printk(KERN_INFO &quot;vga_switcheroo: detected switching method %s handle\n&quot;,</span>
<span class="quote">&gt; -                      acpi_method_name);</span>
<span class="quote">&gt; +               pr_info(&quot;vga_switcheroo: detected switching method %s handle\n&quot;,</span>
<span class="quote">&gt; +                       acpi_method_name);</span>
<span class="quote">&gt;                 amdgpu_atpx_priv.atpx_detected = true;</span>
<span class="quote">&gt;                 amdgpu_atpx_priv.bridge_pm_usable = d3_supported;</span>
<span class="quote">&gt;                 amdgpu_atpx_init();</span>
<span class="quote">&gt; diff --git a/drivers/gpu/drm/amd/amdgpu/amdgpu_device.c b/drivers/gpu/drm/amd/amdgpu/amdgpu_device.c</span>
<span class="quote">&gt; index 6abb238b25c9..85eeae05ac27 100644</span>
<span class="quote">&gt; --- a/drivers/gpu/drm/amd/amdgpu/amdgpu_device.c</span>
<span class="quote">&gt; +++ b/drivers/gpu/drm/amd/amdgpu/amdgpu_device.c</span>
<span class="quote">&gt; @@ -1059,7 +1059,7 @@ static void amdgpu_switcheroo_set_state(struct pci_dev *pdev, enum vga_switchero</span>
<span class="quote">&gt;         if (state == VGA_SWITCHEROO_ON) {</span>
<span class="quote">&gt;                 unsigned d3_delay = dev-&gt;pdev-&gt;d3_delay;</span>
<span class="quote">&gt;</span>
<span class="quote">&gt; -               printk(KERN_INFO &quot;amdgpu: switched on\n&quot;);</span>
<span class="quote">&gt; +               pr_info(&quot;amdgpu: switched on\n&quot;);</span>
<span class="quote">&gt;                 /* don&#39;t suspend or resume card normally */</span>
<span class="quote">&gt;                 dev-&gt;switch_power_state = DRM_SWITCH_POWER_CHANGING;</span>
<span class="quote">&gt;</span>
<span class="quote">&gt; @@ -1070,7 +1070,7 @@ static void amdgpu_switcheroo_set_state(struct pci_dev *pdev, enum vga_switchero</span>
<span class="quote">&gt;                 dev-&gt;switch_power_state = DRM_SWITCH_POWER_ON;</span>
<span class="quote">&gt;                 drm_kms_helper_poll_enable(dev);</span>
<span class="quote">&gt;         } else {</span>
<span class="quote">&gt; -               printk(KERN_INFO &quot;amdgpu: switched off\n&quot;);</span>
<span class="quote">&gt; +               pr_info(&quot;amdgpu: switched off\n&quot;);</span>
<span class="quote">&gt;                 drm_kms_helper_poll_disable(dev);</span>
<span class="quote">&gt;                 dev-&gt;switch_power_state = DRM_SWITCH_POWER_CHANGING;</span>
<span class="quote">&gt;                 amdgpu_device_suspend(dev, true, true);</span>
<span class="quote">&gt; diff --git a/drivers/gpu/drm/amd/amdgpu/amdgpu_fb.c b/drivers/gpu/drm/amd/amdgpu/amdgpu_fb.c</span>
<span class="quote">&gt; index 36ce3cac81ba..35a287280363 100644</span>
<span class="quote">&gt; --- a/drivers/gpu/drm/amd/amdgpu/amdgpu_fb.c</span>
<span class="quote">&gt; +++ b/drivers/gpu/drm/amd/amdgpu/amdgpu_fb.c</span>
<span class="quote">&gt; @@ -150,8 +150,7 @@ static int amdgpufb_create_pinned_object(struct amdgpu_fbdev *rfbdev,</span>
<span class="quote">&gt;                                        AMDGPU_GEM_CREATE_VRAM_CONTIGUOUS,</span>
<span class="quote">&gt;                                        true, &amp;gobj);</span>
<span class="quote">&gt;         if (ret) {</span>
<span class="quote">&gt; -               printk(KERN_ERR &quot;failed to allocate framebuffer (%d)\n&quot;,</span>
<span class="quote">&gt; -                      aligned_size);</span>
<span class="quote">&gt; +               pr_err(&quot;failed to allocate framebuffer (%d)\n&quot;, aligned_size);</span>
<span class="quote">&gt;                 return -ENOMEM;</span>
<span class="quote">&gt;         }</span>
<span class="quote">&gt;         abo = gem_to_amdgpu_bo(gobj);</span>
<span class="quote">&gt; diff --git a/drivers/gpu/drm/amd/amdgpu/amdgpu_test.c b/drivers/gpu/drm/amd/amdgpu/amdgpu_test.c</span>
<span class="quote">&gt; index e05a24325eeb..b0483e6e536f 100644</span>
<span class="quote">&gt; --- a/drivers/gpu/drm/amd/amdgpu/amdgpu_test.c</span>
<span class="quote">&gt; +++ b/drivers/gpu/drm/amd/amdgpu/amdgpu_test.c</span>
<span class="quote">&gt; @@ -228,7 +228,7 @@ static void amdgpu_do_test_moves(struct amdgpu_device *adev)</span>
<span class="quote">&gt;  out_cleanup:</span>
<span class="quote">&gt;         kfree(gtt_obj);</span>
<span class="quote">&gt;         if (r) {</span>
<span class="quote">&gt; -               printk(KERN_WARNING &quot;Error while testing BO move.\n&quot;);</span>
<span class="quote">&gt; +               pr_warn(&quot;Error while testing BO move\n&quot;);</span>
<span class="quote">&gt;         }</span>
<span class="quote">&gt;  }</span>
<span class="quote">&gt;</span>
<span class="quote">&gt; diff --git a/drivers/gpu/drm/amd/amdgpu/atom.c b/drivers/gpu/drm/amd/amdgpu/atom.c</span>
<span class="quote">&gt; index 1b50e6c13fb3..d1444aaca038 100644</span>
<span class="quote">&gt; --- a/drivers/gpu/drm/amd/amdgpu/atom.c</span>
<span class="quote">&gt; +++ b/drivers/gpu/drm/amd/amdgpu/atom.c</span>
<span class="quote">&gt; @@ -166,7 +166,7 @@ static uint32_t atom_iio_execute(struct atom_context *ctx, int base,</span>
<span class="quote">&gt;                 case ATOM_IIO_END:</span>
<span class="quote">&gt;                         return temp;</span>
<span class="quote">&gt;                 default:</span>
<span class="quote">&gt; -                       printk(KERN_INFO &quot;Unknown IIO opcode.\n&quot;);</span>
<span class="quote">&gt; +                       pr_info(&quot;Unknown IIO opcode\n&quot;);</span>
<span class="quote">&gt;                         return 0;</span>
<span class="quote">&gt;                 }</span>
<span class="quote">&gt;  }</span>
<span class="quote">&gt; @@ -190,22 +190,19 @@ static uint32_t atom_get_src_int(atom_exec_context *ctx, uint8_t attr,</span>
<span class="quote">&gt;                         val = gctx-&gt;card-&gt;reg_read(gctx-&gt;card, idx);</span>
<span class="quote">&gt;                         break;</span>
<span class="quote">&gt;                 case ATOM_IO_PCI:</span>
<span class="quote">&gt; -                       printk(KERN_INFO</span>
<span class="quote">&gt; -                              &quot;PCI registers are not implemented.\n&quot;);</span>
<span class="quote">&gt; +                       pr_info(&quot;PCI registers are not implemented\n&quot;);</span>
<span class="quote">&gt;                         return 0;</span>
<span class="quote">&gt;                 case ATOM_IO_SYSIO:</span>
<span class="quote">&gt; -                       printk(KERN_INFO</span>
<span class="quote">&gt; -                              &quot;SYSIO registers are not implemented.\n&quot;);</span>
<span class="quote">&gt; +                       pr_info(&quot;SYSIO registers are not implemented\n&quot;);</span>
<span class="quote">&gt;                         return 0;</span>
<span class="quote">&gt;                 default:</span>
<span class="quote">&gt;                         if (!(gctx-&gt;io_mode &amp; 0x80)) {</span>
<span class="quote">&gt; -                               printk(KERN_INFO &quot;Bad IO mode.\n&quot;);</span>
<span class="quote">&gt; +                               pr_info(&quot;Bad IO mode\n&quot;);</span>
<span class="quote">&gt;                                 return 0;</span>
<span class="quote">&gt;                         }</span>
<span class="quote">&gt;                         if (!gctx-&gt;iio[gctx-&gt;io_mode &amp; 0x7F]) {</span>
<span class="quote">&gt; -                               printk(KERN_INFO</span>
<span class="quote">&gt; -                                      &quot;Undefined indirect IO read method %d.\n&quot;,</span>
<span class="quote">&gt; -                                      gctx-&gt;io_mode &amp; 0x7F);</span>
<span class="quote">&gt; +                               pr_info(&quot;Undefined indirect IO read method %d\n&quot;,</span>
<span class="quote">&gt; +                                       gctx-&gt;io_mode &amp; 0x7F);</span>
<span class="quote">&gt;                                 return 0;</span>
<span class="quote">&gt;                         }</span>
<span class="quote">&gt;                         val =</span>
<span class="quote">&gt; @@ -469,22 +466,19 @@ static void atom_put_dst(atom_exec_context *ctx, int arg, uint8_t attr,</span>
<span class="quote">&gt;                                 gctx-&gt;card-&gt;reg_write(gctx-&gt;card, idx, val);</span>
<span class="quote">&gt;                         break;</span>
<span class="quote">&gt;                 case ATOM_IO_PCI:</span>
<span class="quote">&gt; -                       printk(KERN_INFO</span>
<span class="quote">&gt; -                              &quot;PCI registers are not implemented.\n&quot;);</span>
<span class="quote">&gt; +                       pr_info(&quot;PCI registers are not implemented\n&quot;);</span>
<span class="quote">&gt;                         return;</span>
<span class="quote">&gt;                 case ATOM_IO_SYSIO:</span>
<span class="quote">&gt; -                       printk(KERN_INFO</span>
<span class="quote">&gt; -                              &quot;SYSIO registers are not implemented.\n&quot;);</span>
<span class="quote">&gt; +                       pr_info(&quot;SYSIO registers are not implemented\n&quot;);</span>
<span class="quote">&gt;                         return;</span>
<span class="quote">&gt;                 default:</span>
<span class="quote">&gt;                         if (!(gctx-&gt;io_mode &amp; 0x80)) {</span>
<span class="quote">&gt; -                               printk(KERN_INFO &quot;Bad IO mode.\n&quot;);</span>
<span class="quote">&gt; +                               pr_info(&quot;Bad IO mode\n&quot;);</span>
<span class="quote">&gt;                                 return;</span>
<span class="quote">&gt;                         }</span>
<span class="quote">&gt;                         if (!gctx-&gt;iio[gctx-&gt;io_mode &amp; 0xFF]) {</span>
<span class="quote">&gt; -                               printk(KERN_INFO</span>
<span class="quote">&gt; -                                      &quot;Undefined indirect IO write method %d.\n&quot;,</span>
<span class="quote">&gt; -                                      gctx-&gt;io_mode &amp; 0x7F);</span>
<span class="quote">&gt; +                               pr_info(&quot;Undefined indirect IO write method %d\n&quot;,</span>
<span class="quote">&gt; +                                       gctx-&gt;io_mode &amp; 0x7F);</span>
<span class="quote">&gt;                                 return;</span>
<span class="quote">&gt;                         }</span>
<span class="quote">&gt;                         atom_iio_execute(gctx, gctx-&gt;iio[gctx-&gt;io_mode &amp; 0xFF],</span>
<span class="quote">&gt; @@ -850,17 +844,17 @@ static void atom_op_postcard(atom_exec_context *ctx, int *ptr, int arg)</span>
<span class="quote">&gt;</span>
<span class="quote">&gt;  static void atom_op_repeat(atom_exec_context *ctx, int *ptr, int arg)</span>
<span class="quote">&gt;  {</span>
<span class="quote">&gt; -       printk(KERN_INFO &quot;unimplemented!\n&quot;);</span>
<span class="quote">&gt; +       pr_info(&quot;unimplemented!\n&quot;);</span>
<span class="quote">&gt;  }</span>
<span class="quote">&gt;</span>
<span class="quote">&gt;  static void atom_op_restorereg(atom_exec_context *ctx, int *ptr, int arg)</span>
<span class="quote">&gt;  {</span>
<span class="quote">&gt; -       printk(KERN_INFO &quot;unimplemented!\n&quot;);</span>
<span class="quote">&gt; +       pr_info(&quot;unimplemented!\n&quot;);</span>
<span class="quote">&gt;  }</span>
<span class="quote">&gt;</span>
<span class="quote">&gt;  static void atom_op_savereg(atom_exec_context *ctx, int *ptr, int arg)</span>
<span class="quote">&gt;  {</span>
<span class="quote">&gt; -       printk(KERN_INFO &quot;unimplemented!\n&quot;);</span>
<span class="quote">&gt; +       pr_info(&quot;unimplemented!\n&quot;);</span>
<span class="quote">&gt;  }</span>
<span class="quote">&gt;</span>
<span class="quote">&gt;  static void atom_op_setdatablock(atom_exec_context *ctx, int *ptr, int arg)</span>
<span class="quote">&gt; @@ -1023,7 +1017,7 @@ static void atom_op_switch(atom_exec_context *ctx, int *ptr, int arg)</span>
<span class="quote">&gt;                         }</span>
<span class="quote">&gt;                         (*ptr) += 2;</span>
<span class="quote">&gt;                 } else {</span>
<span class="quote">&gt; -                       printk(KERN_INFO &quot;Bad case.\n&quot;);</span>
<span class="quote">&gt; +                       pr_info(&quot;Bad case\n&quot;);</span>
<span class="quote">&gt;                         return;</span>
<span class="quote">&gt;                 }</span>
<span class="quote">&gt;         (*ptr) += 2;</span>
<span class="quote">&gt; @@ -1316,14 +1310,14 @@ struct atom_context *amdgpu_atom_parse(struct card_info *card, void *bios)</span>
<span class="quote">&gt;         ctx-&gt;bios = bios;</span>
<span class="quote">&gt;</span>
<span class="quote">&gt;         if (CU16(0) != ATOM_BIOS_MAGIC) {</span>
<span class="quote">&gt; -               printk(KERN_INFO &quot;Invalid BIOS magic.\n&quot;);</span>
<span class="quote">&gt; +               pr_info(&quot;Invalid BIOS magic\n&quot;);</span>
<span class="quote">&gt;                 kfree(ctx);</span>
<span class="quote">&gt;                 return NULL;</span>
<span class="quote">&gt;         }</span>
<span class="quote">&gt;         if (strncmp</span>
<span class="quote">&gt;             (CSTR(ATOM_ATI_MAGIC_PTR), ATOM_ATI_MAGIC,</span>
<span class="quote">&gt;              strlen(ATOM_ATI_MAGIC))) {</span>
<span class="quote">&gt; -               printk(KERN_INFO &quot;Invalid ATI magic.\n&quot;);</span>
<span class="quote">&gt; +               pr_info(&quot;Invalid ATI magic\n&quot;);</span>
<span class="quote">&gt;                 kfree(ctx);</span>
<span class="quote">&gt;                 return NULL;</span>
<span class="quote">&gt;         }</span>
<span class="quote">&gt; @@ -1332,7 +1326,7 @@ struct atom_context *amdgpu_atom_parse(struct card_info *card, void *bios)</span>
<span class="quote">&gt;         if (strncmp</span>
<span class="quote">&gt;             (CSTR(base + ATOM_ROM_MAGIC_PTR), ATOM_ROM_MAGIC,</span>
<span class="quote">&gt;              strlen(ATOM_ROM_MAGIC))) {</span>
<span class="quote">&gt; -               printk(KERN_INFO &quot;Invalid ATOM magic.\n&quot;);</span>
<span class="quote">&gt; +               pr_info(&quot;Invalid ATOM magic\n&quot;);</span>
<span class="quote">&gt;                 kfree(ctx);</span>
<span class="quote">&gt;                 return NULL;</span>
<span class="quote">&gt;         }</span>
<span class="quote">&gt; @@ -1356,7 +1350,7 @@ struct atom_context *amdgpu_atom_parse(struct card_info *card, void *bios)</span>
<span class="quote">&gt;                         break;</span>
<span class="quote">&gt;                 }</span>
<span class="quote">&gt;         }</span>
<span class="quote">&gt; -       printk(KERN_INFO &quot;ATOM BIOS: %s\n&quot;, name);</span>
<span class="quote">&gt; +       pr_info(&quot;ATOM BIOS: %s\n&quot;, name);</span>
<span class="quote">&gt;</span>
<span class="quote">&gt;         return ctx;</span>
<span class="quote">&gt;  }</span>
<span class="quote">&gt; diff --git a/drivers/gpu/drm/amd/amdgpu/ci_dpm.c b/drivers/gpu/drm/amd/amdgpu/ci_dpm.c</span>
<span class="quote">&gt; index f97ecb49972e..b59e7e5d7279 100644</span>
<span class="quote">&gt; --- a/drivers/gpu/drm/amd/amdgpu/ci_dpm.c</span>
<span class="quote">&gt; +++ b/drivers/gpu/drm/amd/amdgpu/ci_dpm.c</span>
<span class="quote">&gt; @@ -5804,9 +5804,7 @@ static int ci_dpm_init_microcode(struct amdgpu_device *adev)</span>
<span class="quote">&gt;</span>
<span class="quote">&gt;  out:</span>
<span class="quote">&gt;         if (err) {</span>
<span class="quote">&gt; -               printk(KERN_ERR</span>
<span class="quote">&gt; -                      &quot;cik_smc: Failed to load firmware \&quot;%s\&quot;\n&quot;,</span>
<span class="quote">&gt; -                      fw_name);</span>
<span class="quote">&gt; +               pr_err(&quot;cik_smc: Failed to load firmware \&quot;%s\&quot;\n&quot;, fw_name);</span>
<span class="quote">&gt;                 release_firmware(adev-&gt;pm.fw);</span>
<span class="quote">&gt;                 adev-&gt;pm.fw = NULL;</span>
<span class="quote">&gt;         }</span>
<span class="quote">&gt; diff --git a/drivers/gpu/drm/amd/amdgpu/cik_sdma.c b/drivers/gpu/drm/amd/amdgpu/cik_sdma.c</span>
<span class="quote">&gt; index 810bba533975..c33bc1bb4655 100644</span>
<span class="quote">&gt; --- a/drivers/gpu/drm/amd/amdgpu/cik_sdma.c</span>
<span class="quote">&gt; +++ b/drivers/gpu/drm/amd/amdgpu/cik_sdma.c</span>
<span class="quote">&gt; @@ -142,9 +142,7 @@ static int cik_sdma_init_microcode(struct amdgpu_device *adev)</span>
<span class="quote">&gt;         }</span>
<span class="quote">&gt;  out:</span>
<span class="quote">&gt;         if (err) {</span>
<span class="quote">&gt; -               printk(KERN_ERR</span>
<span class="quote">&gt; -                      &quot;cik_sdma: Failed to load firmware \&quot;%s\&quot;\n&quot;,</span>
<span class="quote">&gt; -                      fw_name);</span>
<span class="quote">&gt; +               pr_err(&quot;cik_sdma: Failed to load firmware \&quot;%s\&quot;\n&quot;, fw_name);</span>
<span class="quote">&gt;                 for (i = 0; i &lt; adev-&gt;sdma.num_instances; i++) {</span>
<span class="quote">&gt;                         release_firmware(adev-&gt;sdma.instance[i].fw);</span>
<span class="quote">&gt;                         adev-&gt;sdma.instance[i].fw = NULL;</span>
<span class="quote">&gt; diff --git a/drivers/gpu/drm/amd/amdgpu/gfx_v6_0.c b/drivers/gpu/drm/amd/amdgpu/gfx_v6_0.c</span>
<span class="quote">&gt; index 2086e7e68de4..c8f9c1414940 100644</span>
<span class="quote">&gt; --- a/drivers/gpu/drm/amd/amdgpu/gfx_v6_0.c</span>
<span class="quote">&gt; +++ b/drivers/gpu/drm/amd/amdgpu/gfx_v6_0.c</span>
<span class="quote">&gt; @@ -378,9 +378,7 @@ static int gfx_v6_0_init_microcode(struct amdgpu_device *adev)</span>
<span class="quote">&gt;</span>
<span class="quote">&gt;  out:</span>
<span class="quote">&gt;         if (err) {</span>
<span class="quote">&gt; -               printk(KERN_ERR</span>
<span class="quote">&gt; -                      &quot;gfx6: Failed to load firmware \&quot;%s\&quot;\n&quot;,</span>
<span class="quote">&gt; -                      fw_name);</span>
<span class="quote">&gt; +               pr_err(&quot;gfx6: Failed to load firmware \&quot;%s\&quot;\n&quot;, fw_name);</span>
<span class="quote">&gt;                 release_firmware(adev-&gt;gfx.pfp_fw);</span>
<span class="quote">&gt;                 adev-&gt;gfx.pfp_fw = NULL;</span>
<span class="quote">&gt;                 release_firmware(adev-&gt;gfx.me_fw);</span>
<span class="quote">&gt; diff --git a/drivers/gpu/drm/amd/amdgpu/gfx_v7_0.c b/drivers/gpu/drm/amd/amdgpu/gfx_v7_0.c</span>
<span class="quote">&gt; index 1f9354541f29..82c574cf3658 100644</span>
<span class="quote">&gt; --- a/drivers/gpu/drm/amd/amdgpu/gfx_v7_0.c</span>
<span class="quote">&gt; +++ b/drivers/gpu/drm/amd/amdgpu/gfx_v7_0.c</span>
<span class="quote">&gt; @@ -972,9 +972,7 @@ static int gfx_v7_0_init_microcode(struct amdgpu_device *adev)</span>
<span class="quote">&gt;</span>
<span class="quote">&gt;  out:</span>
<span class="quote">&gt;         if (err) {</span>
<span class="quote">&gt; -               printk(KERN_ERR</span>
<span class="quote">&gt; -                      &quot;gfx7: Failed to load firmware \&quot;%s\&quot;\n&quot;,</span>
<span class="quote">&gt; -                      fw_name);</span>
<span class="quote">&gt; +               pr_err(&quot;gfx7: Failed to load firmware \&quot;%s\&quot;\n&quot;, fw_name);</span>
<span class="quote">&gt;                 release_firmware(adev-&gt;gfx.pfp_fw);</span>
<span class="quote">&gt;                 adev-&gt;gfx.pfp_fw = NULL;</span>
<span class="quote">&gt;                 release_firmware(adev-&gt;gfx.me_fw);</span>
<span class="quote">&gt; diff --git a/drivers/gpu/drm/amd/amdgpu/gmc_v7_0.c b/drivers/gpu/drm/amd/amdgpu/gmc_v7_0.c</span>
<span class="quote">&gt; index 8d05e0c4e3d7..52594b9fd182 100644</span>
<span class="quote">&gt; --- a/drivers/gpu/drm/amd/amdgpu/gmc_v7_0.c</span>
<span class="quote">&gt; +++ b/drivers/gpu/drm/amd/amdgpu/gmc_v7_0.c</span>
<span class="quote">&gt; @@ -161,9 +161,7 @@ static int gmc_v7_0_init_microcode(struct amdgpu_device *adev)</span>
<span class="quote">&gt;</span>
<span class="quote">&gt;  out:</span>
<span class="quote">&gt;         if (err) {</span>
<span class="quote">&gt; -               printk(KERN_ERR</span>
<span class="quote">&gt; -                      &quot;cik_mc: Failed to load firmware \&quot;%s\&quot;\n&quot;,</span>
<span class="quote">&gt; -                      fw_name);</span>
<span class="quote">&gt; +               pr_err(&quot;cik_mc: Failed to load firmware \&quot;%s\&quot;\n&quot;, fw_name);</span>
<span class="quote">&gt;                 release_firmware(adev-&gt;mc.fw);</span>
<span class="quote">&gt;                 adev-&gt;mc.fw = NULL;</span>
<span class="quote">&gt;         }</span>
<span class="quote">&gt; @@ -938,12 +936,12 @@ static int gmc_v7_0_sw_init(void *handle)</span>
<span class="quote">&gt;         if (r) {</span>
<span class="quote">&gt;                 adev-&gt;need_dma32 = true;</span>
<span class="quote">&gt;                 dma_bits = 32;</span>
<span class="quote">&gt; -               printk(KERN_WARNING &quot;amdgpu: No suitable DMA available.\n&quot;);</span>
<span class="quote">&gt; +               pr_warn(&quot;amdgpu: No suitable DMA available\n&quot;);</span>
<span class="quote">&gt;         }</span>
<span class="quote">&gt;         r = pci_set_consistent_dma_mask(adev-&gt;pdev, DMA_BIT_MASK(dma_bits));</span>
<span class="quote">&gt;         if (r) {</span>
<span class="quote">&gt;                 pci_set_consistent_dma_mask(adev-&gt;pdev, DMA_BIT_MASK(32));</span>
<span class="quote">&gt; -               printk(KERN_WARNING &quot;amdgpu: No coherent DMA available.\n&quot;);</span>
<span class="quote">&gt; +               pr_warn(&quot;amdgpu: No coherent DMA available\n&quot;);</span>
<span class="quote">&gt;         }</span>
<span class="quote">&gt;</span>
<span class="quote">&gt;         r = gmc_v7_0_init_microcode(adev);</span>
<span class="quote">&gt; diff --git a/drivers/gpu/drm/amd/amdgpu/gmc_v8_0.c b/drivers/gpu/drm/amd/amdgpu/gmc_v8_0.c</span>
<span class="quote">&gt; index 7669b3259f35..421507aea36a 100644</span>
<span class="quote">&gt; --- a/drivers/gpu/drm/amd/amdgpu/gmc_v8_0.c</span>
<span class="quote">&gt; +++ b/drivers/gpu/drm/amd/amdgpu/gmc_v8_0.c</span>
<span class="quote">&gt; @@ -245,9 +245,7 @@ static int gmc_v8_0_init_microcode(struct amdgpu_device *adev)</span>
<span class="quote">&gt;</span>
<span class="quote">&gt;  out:</span>
<span class="quote">&gt;         if (err) {</span>
<span class="quote">&gt; -               printk(KERN_ERR</span>
<span class="quote">&gt; -                      &quot;mc: Failed to load firmware \&quot;%s\&quot;\n&quot;,</span>
<span class="quote">&gt; -                      fw_name);</span>
<span class="quote">&gt; +               pr_err(&quot;mc: Failed to load firmware \&quot;%s\&quot;\n&quot;, fw_name);</span>
<span class="quote">&gt;                 release_firmware(adev-&gt;mc.fw);</span>
<span class="quote">&gt;                 adev-&gt;mc.fw = NULL;</span>
<span class="quote">&gt;         }</span>
<span class="quote">&gt; @@ -950,12 +948,12 @@ static int gmc_v8_0_sw_init(void *handle)</span>
<span class="quote">&gt;         if (r) {</span>
<span class="quote">&gt;                 adev-&gt;need_dma32 = true;</span>
<span class="quote">&gt;                 dma_bits = 32;</span>
<span class="quote">&gt; -               printk(KERN_WARNING &quot;amdgpu: No suitable DMA available.\n&quot;);</span>
<span class="quote">&gt; +               pr_warn(&quot;amdgpu: No suitable DMA available\n&quot;);</span>
<span class="quote">&gt;         }</span>
<span class="quote">&gt;         r = pci_set_consistent_dma_mask(adev-&gt;pdev, DMA_BIT_MASK(dma_bits));</span>
<span class="quote">&gt;         if (r) {</span>
<span class="quote">&gt;                 pci_set_consistent_dma_mask(adev-&gt;pdev, DMA_BIT_MASK(32));</span>
<span class="quote">&gt; -               printk(KERN_WARNING &quot;amdgpu: No coherent DMA available.\n&quot;);</span>
<span class="quote">&gt; +               pr_warn(&quot;amdgpu: No coherent DMA available\n&quot;);</span>
<span class="quote">&gt;         }</span>
<span class="quote">&gt;</span>
<span class="quote">&gt;         r = gmc_v8_0_init_microcode(adev);</span>
<span class="quote">&gt; diff --git a/drivers/gpu/drm/amd/amdgpu/sdma_v2_4.c b/drivers/gpu/drm/amd/amdgpu/sdma_v2_4.c</span>
<span class="quote">&gt; index 896be64b7013..a881cf475a19 100644</span>
<span class="quote">&gt; --- a/drivers/gpu/drm/amd/amdgpu/sdma_v2_4.c</span>
<span class="quote">&gt; +++ b/drivers/gpu/drm/amd/amdgpu/sdma_v2_4.c</span>
<span class="quote">&gt; @@ -170,9 +170,7 @@ static int sdma_v2_4_init_microcode(struct amdgpu_device *adev)</span>
<span class="quote">&gt;</span>
<span class="quote">&gt;  out:</span>
<span class="quote">&gt;         if (err) {</span>
<span class="quote">&gt; -               printk(KERN_ERR</span>
<span class="quote">&gt; -                      &quot;sdma_v2_4: Failed to load firmware \&quot;%s\&quot;\n&quot;,</span>
<span class="quote">&gt; -                      fw_name);</span>
<span class="quote">&gt; +               pr_err(&quot;sdma_v2_4: Failed to load firmware \&quot;%s\&quot;\n&quot;, fw_name);</span>
<span class="quote">&gt;                 for (i = 0; i &lt; adev-&gt;sdma.num_instances; i++) {</span>
<span class="quote">&gt;                         release_firmware(adev-&gt;sdma.instance[i].fw);</span>
<span class="quote">&gt;                         adev-&gt;sdma.instance[i].fw = NULL;</span>
<span class="quote">&gt; diff --git a/drivers/gpu/drm/amd/amdgpu/sdma_v3_0.c b/drivers/gpu/drm/amd/amdgpu/sdma_v3_0.c</span>
<span class="quote">&gt; index 011800f621c6..255fab5fceee 100644</span>
<span class="quote">&gt; --- a/drivers/gpu/drm/amd/amdgpu/sdma_v3_0.c</span>
<span class="quote">&gt; +++ b/drivers/gpu/drm/amd/amdgpu/sdma_v3_0.c</span>
<span class="quote">&gt; @@ -321,9 +321,7 @@ static int sdma_v3_0_init_microcode(struct amdgpu_device *adev)</span>
<span class="quote">&gt;         }</span>
<span class="quote">&gt;  out:</span>
<span class="quote">&gt;         if (err) {</span>
<span class="quote">&gt; -               printk(KERN_ERR</span>
<span class="quote">&gt; -                      &quot;sdma_v3_0: Failed to load firmware \&quot;%s\&quot;\n&quot;,</span>
<span class="quote">&gt; -                      fw_name);</span>
<span class="quote">&gt; +               pr_err(&quot;sdma_v3_0: Failed to load firmware \&quot;%s\&quot;\n&quot;, fw_name);</span>
<span class="quote">&gt;                 for (i = 0; i &lt; adev-&gt;sdma.num_instances; i++) {</span>
<span class="quote">&gt;                         release_firmware(adev-&gt;sdma.instance[i].fw);</span>
<span class="quote">&gt;                         adev-&gt;sdma.instance[i].fw = NULL;</span>
<span class="quote">&gt; diff --git a/drivers/gpu/drm/amd/include/amd_pcie_helpers.h b/drivers/gpu/drm/amd/include/amd_pcie_helpers.h</span>
<span class="quote">&gt; index 5725bf85eacc..7e5a965450c7 100644</span>
<span class="quote">&gt; --- a/drivers/gpu/drm/amd/include/amd_pcie_helpers.h</span>
<span class="quote">&gt; +++ b/drivers/gpu/drm/amd/include/amd_pcie_helpers.h</span>
<span class="quote">&gt; @@ -82,7 +82,7 @@ static inline uint16_t get_pcie_lane_support(uint32_t pcie_lane_width_cap,</span>
<span class="quote">&gt;</span>
<span class="quote">&gt;         switch (pcie_lane_width_cap) {</span>
<span class="quote">&gt;         case 0:</span>
<span class="quote">&gt; -               printk(KERN_ERR &quot;No valid PCIE lane width reported&quot;);</span>
<span class="quote">&gt; +               pr_err(&quot;No valid PCIE lane width reported\n&quot;);</span>
<span class="quote">&gt;                 break;</span>
<span class="quote">&gt;         case CAIL_PCIE_LINK_WIDTH_SUPPORT_X1:</span>
<span class="quote">&gt;                 new_pcie_lanes = 1;</span>
<span class="quote">&gt; @@ -126,7 +126,7 @@ static inline uint16_t get_pcie_lane_support(uint32_t pcie_lane_width_cap,</span>
<span class="quote">&gt;                                                         }</span>
<span class="quote">&gt;                                                 }</span>
<span class="quote">&gt;                                                 if (j &gt; 7)</span>
<span class="quote">&gt; -                                                       printk(KERN_ERR &quot;Cannot find a valid PCIE lane width!&quot;);</span>
<span class="quote">&gt; +                                                       pr_err(&quot;Cannot find a valid PCIE lane width!\n&quot;);</span>
<span class="quote">&gt;                                         }</span>
<span class="quote">&gt;                                 }</span>
<span class="quote">&gt;                                 break;</span>
<span class="quote">&gt; diff --git a/drivers/gpu/drm/amd/powerplay/hwmgr/smu7_hwmgr.c b/drivers/gpu/drm/amd/powerplay/hwmgr/smu7_hwmgr.c</span>
<span class="quote">&gt; index f75ee33ec5bb..418f87e805b2 100644</span>
<span class="quote">&gt; --- a/drivers/gpu/drm/amd/powerplay/hwmgr/smu7_hwmgr.c</span>
<span class="quote">&gt; +++ b/drivers/gpu/drm/amd/powerplay/hwmgr/smu7_hwmgr.c</span>
<span class="quote">&gt; @@ -1544,7 +1544,7 @@ static int smu7_get_evv_voltages(struct pp_hwmgr *hwmgr)</span>
<span class="quote">&gt;                                         if (vddc &gt;= 2000 || vddc == 0)</span>
<span class="quote">&gt;                                                 return -EINVAL;</span>
<span class="quote">&gt;                                 } else {</span>
<span class="quote">&gt; -                                       pr_warning(&quot;failed to retrieving EVV voltage!\n&quot;);</span>
<span class="quote">&gt; +                                       pr_warn(&quot;failed to retrieving EVV voltage!\n&quot;);</span>
<span class="quote">&gt;                                         continue;</span>
<span class="quote">&gt;                                 }</span>
<span class="quote">&gt;</span>
<span class="quote">&gt; diff --git a/drivers/gpu/drm/amd/powerplay/inc/pp_debug.h b/drivers/gpu/drm/amd/powerplay/inc/pp_debug.h</span>
<span class="quote">&gt; index 072880130cfb..f3f9ebb631a5 100644</span>
<span class="quote">&gt; --- a/drivers/gpu/drm/amd/powerplay/inc/pp_debug.h</span>
<span class="quote">&gt; +++ b/drivers/gpu/drm/amd/powerplay/inc/pp_debug.h</span>
<span class="quote">&gt; @@ -37,7 +37,7 @@</span>
<span class="quote">&gt;  #define PP_ASSERT_WITH_CODE(cond, msg, code)   \</span>
<span class="quote">&gt;         do {                                    \</span>
<span class="quote">&gt;                 if (!(cond)) {                  \</span>
<span class="quote">&gt; -                       pr_warning(&quot;%s\n&quot;, msg);        \</span>
<span class="quote">&gt; +                       pr_warn(&quot;%s\n&quot;, msg);   \</span>
<span class="quote">&gt;                         code;                   \</span>
<span class="quote">&gt;                 }                               \</span>
<span class="quote">&gt;         } while (0)</span>
<span class="quote">&gt; diff --git a/drivers/gpu/drm/amd/powerplay/smumgr/fiji_smc.c b/drivers/gpu/drm/amd/powerplay/smumgr/fiji_smc.c</span>
<span class="quote">&gt; index 0f7a77b7312e..5450f5ef8e89 100644</span>
<span class="quote">&gt; --- a/drivers/gpu/drm/amd/powerplay/smumgr/fiji_smc.c</span>
<span class="quote">&gt; +++ b/drivers/gpu/drm/amd/powerplay/smumgr/fiji_smc.c</span>
<span class="quote">&gt; @@ -2131,7 +2131,7 @@ uint32_t fiji_get_offsetof(uint32_t type, uint32_t member)</span>
<span class="quote">&gt;                         return offsetof(SMU73_Discrete_DpmTable, LowSclkInterruptThreshold);</span>
<span class="quote">&gt;                 }</span>
<span class="quote">&gt;         }</span>
<span class="quote">&gt; -       pr_warning(&quot;can&#39;t get the offset of type %x member %x\n&quot;, type, member);</span>
<span class="quote">&gt; +       pr_warn(&quot;can&#39;t get the offset of type %x member %x\n&quot;, type, member);</span>
<span class="quote">&gt;         return 0;</span>
<span class="quote">&gt;  }</span>
<span class="quote">&gt;</span>
<span class="quote">&gt; @@ -2156,7 +2156,7 @@ uint32_t fiji_get_mac_definition(uint32_t value)</span>
<span class="quote">&gt;                 return SMU73_MAX_LEVELS_MVDD;</span>
<span class="quote">&gt;         }</span>
<span class="quote">&gt;</span>
<span class="quote">&gt; -       pr_warning(&quot;can&#39;t get the mac of %x\n&quot;, value);</span>
<span class="quote">&gt; +       pr_warn(&quot;can&#39;t get the mac of %x\n&quot;, value);</span>
<span class="quote">&gt;         return 0;</span>
<span class="quote">&gt;  }</span>
<span class="quote">&gt;</span>
<span class="quote">&gt; diff --git a/drivers/gpu/drm/amd/powerplay/smumgr/iceland_smc.c b/drivers/gpu/drm/amd/powerplay/smumgr/iceland_smc.c</span>
<span class="quote">&gt; index ad82161df831..b609ab7e9b97 100644</span>
<span class="quote">&gt; --- a/drivers/gpu/drm/amd/powerplay/smumgr/iceland_smc.c</span>
<span class="quote">&gt; +++ b/drivers/gpu/drm/amd/powerplay/smumgr/iceland_smc.c</span>
<span class="quote">&gt; @@ -122,7 +122,7 @@ static void iceland_initialize_power_tune_defaults(struct pp_hwmgr *hwmgr)</span>
<span class="quote">&gt;                 break;</span>
<span class="quote">&gt;         default:</span>
<span class="quote">&gt;                 smu_data-&gt;power_tune_defaults = &amp;defaults_iceland;</span>
<span class="quote">&gt; -               pr_warning(&quot;Unknown V.I. Device ID.\n&quot;);</span>
<span class="quote">&gt; +               pr_warn(&quot;Unknown V.I. Device ID\n&quot;);</span>
<span class="quote">&gt;                 break;</span>
<span class="quote">&gt;         }</span>
<span class="quote">&gt;         return;</span>
<span class="quote">&gt; @@ -378,7 +378,7 @@ static int iceland_get_std_voltage_value_sidd(struct pp_hwmgr *hwmgr,</span>
<span class="quote">&gt;                         return -EINVAL);</span>
<span class="quote">&gt;</span>
<span class="quote">&gt;         if (NULL == hwmgr-&gt;dyn_state.cac_leakage_table) {</span>
<span class="quote">&gt; -               pr_warning(&quot;CAC Leakage Table does not exist, using vddc.\n&quot;);</span>
<span class="quote">&gt; +               pr_warn(&quot;CAC Leakage Table does not exist, using vddc\n&quot;);</span>
<span class="quote">&gt;                 return 0;</span>
<span class="quote">&gt;         }</span>
<span class="quote">&gt;</span>
<span class="quote">&gt; @@ -394,7 +394,7 @@ static int iceland_get_std_voltage_value_sidd(struct pp_hwmgr *hwmgr,</span>
<span class="quote">&gt;                                 *lo = hwmgr-&gt;dyn_state.cac_leakage_table-&gt;entries[v_index].Vddc * VOLTAGE_SCALE;</span>
<span class="quote">&gt;                                 *hi = (uint16_t)(hwmgr-&gt;dyn_state.cac_leakage_table-&gt;entries[v_index].Leakage * VOLTAGE_SCALE);</span>
<span class="quote">&gt;                         } else {</span>
<span class="quote">&gt; -                               pr_warning(&quot;Index from SCLK/VDDC Dependency Table exceeds the CAC Leakage Table index, using maximum index from CAC table.\n&quot;);</span>
<span class="quote">&gt; +                               pr_warn(&quot;Index from SCLK/VDDC Dependency Table exceeds the CAC Leakage Table index, using maximum index from CAC table\n&quot;);</span>
<span class="quote">&gt;                                 *lo = hwmgr-&gt;dyn_state.cac_leakage_table-&gt;entries[hwmgr-&gt;dyn_state.cac_leakage_table-&gt;count - 1].Vddc * VOLTAGE_SCALE;</span>
<span class="quote">&gt;                                 *hi = (uint16_t)(hwmgr-&gt;dyn_state.cac_leakage_table-&gt;entries[hwmgr-&gt;dyn_state.cac_leakage_table-&gt;count - 1].Leakage * VOLTAGE_SCALE);</span>
<span class="quote">&gt;                         }</span>
<span class="quote">&gt; @@ -414,7 +414,7 @@ static int iceland_get_std_voltage_value_sidd(struct pp_hwmgr *hwmgr,</span>
<span class="quote">&gt;                                         *lo = hwmgr-&gt;dyn_state.cac_leakage_table-&gt;entries[v_index].Vddc * VOLTAGE_SCALE;</span>
<span class="quote">&gt;                                         *hi = (uint16_t)(hwmgr-&gt;dyn_state.cac_leakage_table-&gt;entries[v_index].Leakage) * VOLTAGE_SCALE;</span>
<span class="quote">&gt;                                 } else {</span>
<span class="quote">&gt; -                                       pr_warning(&quot;Index from SCLK/VDDC Dependency Table exceeds the CAC Leakage Table index in second look up, using maximum index from CAC table.&quot;);</span>
<span class="quote">&gt; +                                       pr_warn(&quot;Index from SCLK/VDDC Dependency Table exceeds the CAC Leakage Table index in second look up, using maximum index from CAC table\n&quot;);</span>
<span class="quote">&gt;                                         *lo = hwmgr-&gt;dyn_state.cac_leakage_table-&gt;entries[hwmgr-&gt;dyn_state.cac_leakage_table-&gt;count - 1].Vddc * VOLTAGE_SCALE;</span>
<span class="quote">&gt;                                         *hi = (uint16_t)(hwmgr-&gt;dyn_state.cac_leakage_table-&gt;entries[hwmgr-&gt;dyn_state.cac_leakage_table-&gt;count - 1].Leakage * VOLTAGE_SCALE);</span>
<span class="quote">&gt;                                 }</span>
<span class="quote">&gt; @@ -423,7 +423,7 @@ static int iceland_get_std_voltage_value_sidd(struct pp_hwmgr *hwmgr,</span>
<span class="quote">&gt;                 }</span>
<span class="quote">&gt;</span>
<span class="quote">&gt;                 if (!vol_found)</span>
<span class="quote">&gt; -                       pr_warning(&quot;Unable to get std_vddc from SCLK/VDDC Dependency Table, using vddc.\n&quot;);</span>
<span class="quote">&gt; +                       pr_warn(&quot;Unable to get std_vddc from SCLK/VDDC Dependency Table, using vddc\n&quot;);</span>
<span class="quote">&gt;         }</span>
<span class="quote">&gt;</span>
<span class="quote">&gt;         return 0;</span>
<span class="quote">&gt; @@ -2146,7 +2146,7 @@ uint32_t iceland_get_offsetof(uint32_t type, uint32_t member)</span>
<span class="quote">&gt;                         return offsetof(SMU71_Discrete_DpmTable, LowSclkInterruptThreshold);</span>
<span class="quote">&gt;                 }</span>
<span class="quote">&gt;         }</span>
<span class="quote">&gt; -       pr_warning(&quot;can&#39;t get the offset of type %x member %x\n&quot;, type, member);</span>
<span class="quote">&gt; +       pr_warn(&quot;can&#39;t get the offset of type %x member %x\n&quot;, type, member);</span>
<span class="quote">&gt;         return 0;</span>
<span class="quote">&gt;  }</span>
<span class="quote">&gt;</span>
<span class="quote">&gt; @@ -2169,7 +2169,7 @@ uint32_t iceland_get_mac_definition(uint32_t value)</span>
<span class="quote">&gt;                 return SMU71_MAX_LEVELS_MVDD;</span>
<span class="quote">&gt;         }</span>
<span class="quote">&gt;</span>
<span class="quote">&gt; -       pr_warning(&quot;can&#39;t get the mac of %x\n&quot;, value);</span>
<span class="quote">&gt; +       pr_warn(&quot;can&#39;t get the mac of %x\n&quot;, value);</span>
<span class="quote">&gt;         return 0;</span>
<span class="quote">&gt;  }</span>
<span class="quote">&gt;</span>
<span class="quote">&gt; diff --git a/drivers/gpu/drm/amd/powerplay/smumgr/polaris10_smc.c b/drivers/gpu/drm/amd/powerplay/smumgr/polaris10_smc.c</span>
<span class="quote">&gt; index 80e2329a1b9e..c9ca7a1ac171 100644</span>
<span class="quote">&gt; --- a/drivers/gpu/drm/amd/powerplay/smumgr/polaris10_smc.c</span>
<span class="quote">&gt; +++ b/drivers/gpu/drm/amd/powerplay/smumgr/polaris10_smc.c</span>
<span class="quote">&gt; @@ -2184,7 +2184,7 @@ uint32_t polaris10_get_offsetof(uint32_t type, uint32_t member)</span>
<span class="quote">&gt;                         return offsetof(SMU74_Discrete_DpmTable, LowSclkInterruptThreshold);</span>
<span class="quote">&gt;                 }</span>
<span class="quote">&gt;         }</span>
<span class="quote">&gt; -       pr_warning(&quot;can&#39;t get the offset of type %x member %x\n&quot;, type, member);</span>
<span class="quote">&gt; +       pr_warn(&quot;can&#39;t get the offset of type %x member %x\n&quot;, type, member);</span>
<span class="quote">&gt;         return 0;</span>
<span class="quote">&gt;  }</span>
<span class="quote">&gt;</span>
<span class="quote">&gt; @@ -2211,7 +2211,7 @@ uint32_t polaris10_get_mac_definition(uint32_t value)</span>
<span class="quote">&gt;                 return SMU7_UVD_MCLK_HANDSHAKE_DISABLE;</span>
<span class="quote">&gt;         }</span>
<span class="quote">&gt;</span>
<span class="quote">&gt; -       pr_warning(&quot;can&#39;t get the mac of %x\n&quot;, value);</span>
<span class="quote">&gt; +       pr_warn(&quot;can&#39;t get the mac of %x\n&quot;, value);</span>
<span class="quote">&gt;         return 0;</span>
<span class="quote">&gt;  }</span>
<span class="quote">&gt;</span>
<span class="quote">&gt; diff --git a/drivers/gpu/drm/amd/powerplay/smumgr/tonga_smc.c b/drivers/gpu/drm/amd/powerplay/smumgr/tonga_smc.c</span>
<span class="quote">&gt; index 331b0aba4a13..4d1439a498eb 100644</span>
<span class="quote">&gt; --- a/drivers/gpu/drm/amd/powerplay/smumgr/tonga_smc.c</span>
<span class="quote">&gt; +++ b/drivers/gpu/drm/amd/powerplay/smumgr/tonga_smc.c</span>
<span class="quote">&gt; @@ -2657,7 +2657,7 @@ uint32_t tonga_get_offsetof(uint32_t type, uint32_t member)</span>
<span class="quote">&gt;                         return offsetof(SMU72_Discrete_DpmTable, LowSclkInterruptThreshold);</span>
<span class="quote">&gt;                 }</span>
<span class="quote">&gt;         }</span>
<span class="quote">&gt; -       pr_warning(&quot;can&#39;t get the offset of type %x member %x\n&quot;, type, member);</span>
<span class="quote">&gt; +       pr_warn(&quot;can&#39;t get the offset of type %x member %x\n&quot;, type, member);</span>
<span class="quote">&gt;         return 0;</span>
<span class="quote">&gt;  }</span>
<span class="quote">&gt;</span>
<span class="quote">&gt; @@ -2681,7 +2681,7 @@ uint32_t tonga_get_mac_definition(uint32_t value)</span>
<span class="quote">&gt;         case SMU_MAX_LEVELS_MVDD:</span>
<span class="quote">&gt;                 return SMU72_MAX_LEVELS_MVDD;</span>
<span class="quote">&gt;         }</span>
<span class="quote">&gt; -       pr_warning(&quot;can&#39;t get the mac value %x\n&quot;, value);</span>
<span class="quote">&gt; +       pr_warn(&quot;can&#39;t get the mac value %x\n&quot;, value);</span>
<span class="quote">&gt;</span>
<span class="quote">&gt;         return 0;</span>
<span class="quote">&gt;  }</span>
<span class="quote">&gt; diff --git a/drivers/gpu/drm/radeon/atom.c b/drivers/gpu/drm/radeon/atom.c</span>
<span class="quote">&gt; index f66c33dd21a3..6a2e091aa7b6 100644</span>
<span class="quote">&gt; --- a/drivers/gpu/drm/radeon/atom.c</span>
<span class="quote">&gt; +++ b/drivers/gpu/drm/radeon/atom.c</span>
<span class="quote">&gt; @@ -170,7 +170,7 @@ static uint32_t atom_iio_execute(struct atom_context *ctx, int base,</span>
<span class="quote">&gt;                 case ATOM_IIO_END:</span>
<span class="quote">&gt;                         return temp;</span>
<span class="quote">&gt;                 default:</span>
<span class="quote">&gt; -                       printk(KERN_INFO &quot;Unknown IIO opcode.\n&quot;);</span>
<span class="quote">&gt; +                       pr_info(&quot;Unknown IIO opcode\n&quot;);</span>
<span class="quote">&gt;                         return 0;</span>
<span class="quote">&gt;                 }</span>
<span class="quote">&gt;  }</span>
<span class="quote">&gt; @@ -194,22 +194,19 @@ static uint32_t atom_get_src_int(atom_exec_context *ctx, uint8_t attr,</span>
<span class="quote">&gt;                         val = gctx-&gt;card-&gt;reg_read(gctx-&gt;card, idx);</span>
<span class="quote">&gt;                         break;</span>
<span class="quote">&gt;                 case ATOM_IO_PCI:</span>
<span class="quote">&gt; -                       printk(KERN_INFO</span>
<span class="quote">&gt; -                              &quot;PCI registers are not implemented.\n&quot;);</span>
<span class="quote">&gt; +                       pr_info(&quot;PCI registers are not implemented\n&quot;);</span>
<span class="quote">&gt;                         return 0;</span>
<span class="quote">&gt;                 case ATOM_IO_SYSIO:</span>
<span class="quote">&gt; -                       printk(KERN_INFO</span>
<span class="quote">&gt; -                              &quot;SYSIO registers are not implemented.\n&quot;);</span>
<span class="quote">&gt; +                       pr_info(&quot;SYSIO registers are not implemented\n&quot;);</span>
<span class="quote">&gt;                         return 0;</span>
<span class="quote">&gt;                 default:</span>
<span class="quote">&gt;                         if (!(gctx-&gt;io_mode &amp; 0x80)) {</span>
<span class="quote">&gt; -                               printk(KERN_INFO &quot;Bad IO mode.\n&quot;);</span>
<span class="quote">&gt; +                               pr_info(&quot;Bad IO mode\n&quot;);</span>
<span class="quote">&gt;                                 return 0;</span>
<span class="quote">&gt;                         }</span>
<span class="quote">&gt;                         if (!gctx-&gt;iio[gctx-&gt;io_mode &amp; 0x7F]) {</span>
<span class="quote">&gt; -                               printk(KERN_INFO</span>
<span class="quote">&gt; -                                      &quot;Undefined indirect IO read method %d.\n&quot;,</span>
<span class="quote">&gt; -                                      gctx-&gt;io_mode &amp; 0x7F);</span>
<span class="quote">&gt; +                               pr_info(&quot;Undefined indirect IO read method %d\n&quot;,</span>
<span class="quote">&gt; +                                       gctx-&gt;io_mode &amp; 0x7F);</span>
<span class="quote">&gt;                                 return 0;</span>
<span class="quote">&gt;                         }</span>
<span class="quote">&gt;                         val =</span>
<span class="quote">&gt; @@ -473,22 +470,19 @@ static void atom_put_dst(atom_exec_context *ctx, int arg, uint8_t attr,</span>
<span class="quote">&gt;                                 gctx-&gt;card-&gt;reg_write(gctx-&gt;card, idx, val);</span>
<span class="quote">&gt;                         break;</span>
<span class="quote">&gt;                 case ATOM_IO_PCI:</span>
<span class="quote">&gt; -                       printk(KERN_INFO</span>
<span class="quote">&gt; -                              &quot;PCI registers are not implemented.\n&quot;);</span>
<span class="quote">&gt; +                       pr_info(&quot;PCI registers are not implemented\n&quot;);</span>
<span class="quote">&gt;                         return;</span>
<span class="quote">&gt;                 case ATOM_IO_SYSIO:</span>
<span class="quote">&gt; -                       printk(KERN_INFO</span>
<span class="quote">&gt; -                              &quot;SYSIO registers are not implemented.\n&quot;);</span>
<span class="quote">&gt; +                       pr_info(&quot;SYSIO registers are not implemented\n&quot;);</span>
<span class="quote">&gt;                         return;</span>
<span class="quote">&gt;                 default:</span>
<span class="quote">&gt;                         if (!(gctx-&gt;io_mode &amp; 0x80)) {</span>
<span class="quote">&gt; -                               printk(KERN_INFO &quot;Bad IO mode.\n&quot;);</span>
<span class="quote">&gt; +                               pr_info(&quot;Bad IO mode\n&quot;);</span>
<span class="quote">&gt;                                 return;</span>
<span class="quote">&gt;                         }</span>
<span class="quote">&gt;                         if (!gctx-&gt;iio[gctx-&gt;io_mode &amp; 0xFF]) {</span>
<span class="quote">&gt; -                               printk(KERN_INFO</span>
<span class="quote">&gt; -                                      &quot;Undefined indirect IO write method %d.\n&quot;,</span>
<span class="quote">&gt; -                                      gctx-&gt;io_mode &amp; 0x7F);</span>
<span class="quote">&gt; +                               pr_info(&quot;Undefined indirect IO write method %d\n&quot;,</span>
<span class="quote">&gt; +                                       gctx-&gt;io_mode &amp; 0x7F);</span>
<span class="quote">&gt;                                 return;</span>
<span class="quote">&gt;                         }</span>
<span class="quote">&gt;                         atom_iio_execute(gctx, gctx-&gt;iio[gctx-&gt;io_mode &amp; 0xFF],</span>
<span class="quote">&gt; @@ -819,17 +813,17 @@ static void atom_op_postcard(atom_exec_context *ctx, int *ptr, int arg)</span>
<span class="quote">&gt;</span>
<span class="quote">&gt;  static void atom_op_repeat(atom_exec_context *ctx, int *ptr, int arg)</span>
<span class="quote">&gt;  {</span>
<span class="quote">&gt; -       printk(KERN_INFO &quot;unimplemented!\n&quot;);</span>
<span class="quote">&gt; +       pr_info(&quot;unimplemented!\n&quot;);</span>
<span class="quote">&gt;  }</span>
<span class="quote">&gt;</span>
<span class="quote">&gt;  static void atom_op_restorereg(atom_exec_context *ctx, int *ptr, int arg)</span>
<span class="quote">&gt;  {</span>
<span class="quote">&gt; -       printk(KERN_INFO &quot;unimplemented!\n&quot;);</span>
<span class="quote">&gt; +       pr_info(&quot;unimplemented!\n&quot;);</span>
<span class="quote">&gt;  }</span>
<span class="quote">&gt;</span>
<span class="quote">&gt;  static void atom_op_savereg(atom_exec_context *ctx, int *ptr, int arg)</span>
<span class="quote">&gt;  {</span>
<span class="quote">&gt; -       printk(KERN_INFO &quot;unimplemented!\n&quot;);</span>
<span class="quote">&gt; +       pr_info(&quot;unimplemented!\n&quot;);</span>
<span class="quote">&gt;  }</span>
<span class="quote">&gt;</span>
<span class="quote">&gt;  static void atom_op_setdatablock(atom_exec_context *ctx, int *ptr, int arg)</span>
<span class="quote">&gt; @@ -992,7 +986,7 @@ static void atom_op_switch(atom_exec_context *ctx, int *ptr, int arg)</span>
<span class="quote">&gt;                         }</span>
<span class="quote">&gt;                         (*ptr) += 2;</span>
<span class="quote">&gt;                 } else {</span>
<span class="quote">&gt; -                       printk(KERN_INFO &quot;Bad case.\n&quot;);</span>
<span class="quote">&gt; +                       pr_info(&quot;Bad case\n&quot;);</span>
<span class="quote">&gt;                         return;</span>
<span class="quote">&gt;                 }</span>
<span class="quote">&gt;         (*ptr) += 2;</span>
<span class="quote">&gt; @@ -1026,7 +1020,7 @@ static void atom_op_xor(atom_exec_context *ctx, int *ptr, int arg)</span>
<span class="quote">&gt;</span>
<span class="quote">&gt;  static void atom_op_debug(atom_exec_context *ctx, int *ptr, int arg)</span>
<span class="quote">&gt;  {</span>
<span class="quote">&gt; -       printk(KERN_INFO &quot;unimplemented!\n&quot;);</span>
<span class="quote">&gt; +       pr_info(&quot;unimplemented!\n&quot;);</span>
<span class="quote">&gt;  }</span>
<span class="quote">&gt;</span>
<span class="quote">&gt;  static struct {</span>
<span class="quote">&gt; @@ -1280,14 +1274,14 @@ struct atom_context *atom_parse(struct card_info *card, void *bios)</span>
<span class="quote">&gt;         ctx-&gt;bios = bios;</span>
<span class="quote">&gt;</span>
<span class="quote">&gt;         if (CU16(0) != ATOM_BIOS_MAGIC) {</span>
<span class="quote">&gt; -               printk(KERN_INFO &quot;Invalid BIOS magic.\n&quot;);</span>
<span class="quote">&gt; +               pr_info(&quot;Invalid BIOS magic\n&quot;);</span>
<span class="quote">&gt;                 kfree(ctx);</span>
<span class="quote">&gt;                 return NULL;</span>
<span class="quote">&gt;         }</span>
<span class="quote">&gt;         if (strncmp</span>
<span class="quote">&gt;             (CSTR(ATOM_ATI_MAGIC_PTR), ATOM_ATI_MAGIC,</span>
<span class="quote">&gt;              strlen(ATOM_ATI_MAGIC))) {</span>
<span class="quote">&gt; -               printk(KERN_INFO &quot;Invalid ATI magic.\n&quot;);</span>
<span class="quote">&gt; +               pr_info(&quot;Invalid ATI magic\n&quot;);</span>
<span class="quote">&gt;                 kfree(ctx);</span>
<span class="quote">&gt;                 return NULL;</span>
<span class="quote">&gt;         }</span>
<span class="quote">&gt; @@ -1296,7 +1290,7 @@ struct atom_context *atom_parse(struct card_info *card, void *bios)</span>
<span class="quote">&gt;         if (strncmp</span>
<span class="quote">&gt;             (CSTR(base + ATOM_ROM_MAGIC_PTR), ATOM_ROM_MAGIC,</span>
<span class="quote">&gt;              strlen(ATOM_ROM_MAGIC))) {</span>
<span class="quote">&gt; -               printk(KERN_INFO &quot;Invalid ATOM magic.\n&quot;);</span>
<span class="quote">&gt; +               pr_info(&quot;Invalid ATOM magic\n&quot;);</span>
<span class="quote">&gt;                 kfree(ctx);</span>
<span class="quote">&gt;                 return NULL;</span>
<span class="quote">&gt;         }</span>
<span class="quote">&gt; @@ -1320,7 +1314,7 @@ struct atom_context *atom_parse(struct card_info *card, void *bios)</span>
<span class="quote">&gt;                         break;</span>
<span class="quote">&gt;                 }</span>
<span class="quote">&gt;         }</span>
<span class="quote">&gt; -       printk(KERN_INFO &quot;ATOM BIOS: %s\n&quot;, name);</span>
<span class="quote">&gt; +       pr_info(&quot;ATOM BIOS: %s\n&quot;, name);</span>
<span class="quote">&gt;</span>
<span class="quote">&gt;         return ctx;</span>
<span class="quote">&gt;  }</span>
<span class="quote">&gt; diff --git a/drivers/gpu/drm/radeon/cik.c b/drivers/gpu/drm/radeon/cik.c</span>
<span class="quote">&gt; index f6ff41a0eed6..b338d58e281f 100644</span>
<span class="quote">&gt; --- a/drivers/gpu/drm/radeon/cik.c</span>
<span class="quote">&gt; +++ b/drivers/gpu/drm/radeon/cik.c</span>
<span class="quote">&gt; @@ -2069,8 +2069,7 @@ static int cik_init_microcode(struct radeon_device *rdev)</span>
<span class="quote">&gt;                 if (err)</span>
<span class="quote">&gt;                         goto out;</span>
<span class="quote">&gt;                 if (rdev-&gt;pfp_fw-&gt;size != pfp_req_size) {</span>
<span class="quote">&gt; -                       printk(KERN_ERR</span>
<span class="quote">&gt; -                              &quot;cik_cp: Bogus length %zu in firmware \&quot;%s\&quot;\n&quot;,</span>
<span class="quote">&gt; +                       pr_err(&quot;cik_cp: Bogus length %zu in firmware \&quot;%s\&quot;\n&quot;,</span>
<span class="quote">&gt;                                rdev-&gt;pfp_fw-&gt;size, fw_name);</span>
<span class="quote">&gt;                         err = -EINVAL;</span>
<span class="quote">&gt;                         goto out;</span>
<span class="quote">&gt; @@ -2078,8 +2077,7 @@ static int cik_init_microcode(struct radeon_device *rdev)</span>
<span class="quote">&gt;         } else {</span>
<span class="quote">&gt;                 err = radeon_ucode_validate(rdev-&gt;pfp_fw);</span>
<span class="quote">&gt;                 if (err) {</span>
<span class="quote">&gt; -                       printk(KERN_ERR</span>
<span class="quote">&gt; -                              &quot;cik_fw: validation failed for firmware \&quot;%s\&quot;\n&quot;,</span>
<span class="quote">&gt; +                       pr_err(&quot;cik_fw: validation failed for firmware \&quot;%s\&quot;\n&quot;,</span>
<span class="quote">&gt;                                fw_name);</span>
<span class="quote">&gt;                         goto out;</span>
<span class="quote">&gt;                 } else {</span>
<span class="quote">&gt; @@ -2095,16 +2093,14 @@ static int cik_init_microcode(struct radeon_device *rdev)</span>
<span class="quote">&gt;                 if (err)</span>
<span class="quote">&gt;                         goto out;</span>
<span class="quote">&gt;                 if (rdev-&gt;me_fw-&gt;size != me_req_size) {</span>
<span class="quote">&gt; -                       printk(KERN_ERR</span>
<span class="quote">&gt; -                              &quot;cik_cp: Bogus length %zu in firmware \&quot;%s\&quot;\n&quot;,</span>
<span class="quote">&gt; +                       pr_err(&quot;cik_cp: Bogus length %zu in firmware \&quot;%s\&quot;\n&quot;,</span>
<span class="quote">&gt;                                rdev-&gt;me_fw-&gt;size, fw_name);</span>
<span class="quote">&gt;                         err = -EINVAL;</span>
<span class="quote">&gt;                 }</span>
<span class="quote">&gt;         } else {</span>
<span class="quote">&gt;                 err = radeon_ucode_validate(rdev-&gt;me_fw);</span>
<span class="quote">&gt;                 if (err) {</span>
<span class="quote">&gt; -                       printk(KERN_ERR</span>
<span class="quote">&gt; -                              &quot;cik_fw: validation failed for firmware \&quot;%s\&quot;\n&quot;,</span>
<span class="quote">&gt; +                       pr_err(&quot;cik_fw: validation failed for firmware \&quot;%s\&quot;\n&quot;,</span>
<span class="quote">&gt;                                fw_name);</span>
<span class="quote">&gt;                         goto out;</span>
<span class="quote">&gt;                 } else {</span>
<span class="quote">&gt; @@ -2120,16 +2116,14 @@ static int cik_init_microcode(struct radeon_device *rdev)</span>
<span class="quote">&gt;                 if (err)</span>
<span class="quote">&gt;                         goto out;</span>
<span class="quote">&gt;                 if (rdev-&gt;ce_fw-&gt;size != ce_req_size) {</span>
<span class="quote">&gt; -                       printk(KERN_ERR</span>
<span class="quote">&gt; -                              &quot;cik_cp: Bogus length %zu in firmware \&quot;%s\&quot;\n&quot;,</span>
<span class="quote">&gt; +                       pr_err(&quot;cik_cp: Bogus length %zu in firmware \&quot;%s\&quot;\n&quot;,</span>
<span class="quote">&gt;                                rdev-&gt;ce_fw-&gt;size, fw_name);</span>
<span class="quote">&gt;                         err = -EINVAL;</span>
<span class="quote">&gt;                 }</span>
<span class="quote">&gt;         } else {</span>
<span class="quote">&gt;                 err = radeon_ucode_validate(rdev-&gt;ce_fw);</span>
<span class="quote">&gt;                 if (err) {</span>
<span class="quote">&gt; -                       printk(KERN_ERR</span>
<span class="quote">&gt; -                              &quot;cik_fw: validation failed for firmware \&quot;%s\&quot;\n&quot;,</span>
<span class="quote">&gt; +                       pr_err(&quot;cik_fw: validation failed for firmware \&quot;%s\&quot;\n&quot;,</span>
<span class="quote">&gt;                                fw_name);</span>
<span class="quote">&gt;                         goto out;</span>
<span class="quote">&gt;                 } else {</span>
<span class="quote">&gt; @@ -2145,16 +2139,14 @@ static int cik_init_microcode(struct radeon_device *rdev)</span>
<span class="quote">&gt;                 if (err)</span>
<span class="quote">&gt;                         goto out;</span>
<span class="quote">&gt;                 if (rdev-&gt;mec_fw-&gt;size != mec_req_size) {</span>
<span class="quote">&gt; -                       printk(KERN_ERR</span>
<span class="quote">&gt; -                              &quot;cik_cp: Bogus length %zu in firmware \&quot;%s\&quot;\n&quot;,</span>
<span class="quote">&gt; +                       pr_err(&quot;cik_cp: Bogus length %zu in firmware \&quot;%s\&quot;\n&quot;,</span>
<span class="quote">&gt;                                rdev-&gt;mec_fw-&gt;size, fw_name);</span>
<span class="quote">&gt;                         err = -EINVAL;</span>
<span class="quote">&gt;                 }</span>
<span class="quote">&gt;         } else {</span>
<span class="quote">&gt;                 err = radeon_ucode_validate(rdev-&gt;mec_fw);</span>
<span class="quote">&gt;                 if (err) {</span>
<span class="quote">&gt; -                       printk(KERN_ERR</span>
<span class="quote">&gt; -                              &quot;cik_fw: validation failed for firmware \&quot;%s\&quot;\n&quot;,</span>
<span class="quote">&gt; +                       pr_err(&quot;cik_fw: validation failed for firmware \&quot;%s\&quot;\n&quot;,</span>
<span class="quote">&gt;                                fw_name);</span>
<span class="quote">&gt;                         goto out;</span>
<span class="quote">&gt;                 } else {</span>
<span class="quote">&gt; @@ -2185,16 +2177,14 @@ static int cik_init_microcode(struct radeon_device *rdev)</span>
<span class="quote">&gt;                 if (err)</span>
<span class="quote">&gt;                         goto out;</span>
<span class="quote">&gt;                 if (rdev-&gt;rlc_fw-&gt;size != rlc_req_size) {</span>
<span class="quote">&gt; -                       printk(KERN_ERR</span>
<span class="quote">&gt; -                              &quot;cik_rlc: Bogus length %zu in firmware \&quot;%s\&quot;\n&quot;,</span>
<span class="quote">&gt; +                       pr_err(&quot;cik_rlc: Bogus length %zu in firmware \&quot;%s\&quot;\n&quot;,</span>
<span class="quote">&gt;                                rdev-&gt;rlc_fw-&gt;size, fw_name);</span>
<span class="quote">&gt;                         err = -EINVAL;</span>
<span class="quote">&gt;                 }</span>
<span class="quote">&gt;         } else {</span>
<span class="quote">&gt;                 err = radeon_ucode_validate(rdev-&gt;rlc_fw);</span>
<span class="quote">&gt;                 if (err) {</span>
<span class="quote">&gt; -                       printk(KERN_ERR</span>
<span class="quote">&gt; -                              &quot;cik_fw: validation failed for firmware \&quot;%s\&quot;\n&quot;,</span>
<span class="quote">&gt; +                       pr_err(&quot;cik_fw: validation failed for firmware \&quot;%s\&quot;\n&quot;,</span>
<span class="quote">&gt;                                fw_name);</span>
<span class="quote">&gt;                         goto out;</span>
<span class="quote">&gt;                 } else {</span>
<span class="quote">&gt; @@ -2210,16 +2200,14 @@ static int cik_init_microcode(struct radeon_device *rdev)</span>
<span class="quote">&gt;                 if (err)</span>
<span class="quote">&gt;                         goto out;</span>
<span class="quote">&gt;                 if (rdev-&gt;sdma_fw-&gt;size != sdma_req_size) {</span>
<span class="quote">&gt; -                       printk(KERN_ERR</span>
<span class="quote">&gt; -                              &quot;cik_sdma: Bogus length %zu in firmware \&quot;%s\&quot;\n&quot;,</span>
<span class="quote">&gt; +                       pr_err(&quot;cik_sdma: Bogus length %zu in firmware \&quot;%s\&quot;\n&quot;,</span>
<span class="quote">&gt;                                rdev-&gt;sdma_fw-&gt;size, fw_name);</span>
<span class="quote">&gt;                         err = -EINVAL;</span>
<span class="quote">&gt;                 }</span>
<span class="quote">&gt;         } else {</span>
<span class="quote">&gt;                 err = radeon_ucode_validate(rdev-&gt;sdma_fw);</span>
<span class="quote">&gt;                 if (err) {</span>
<span class="quote">&gt; -                       printk(KERN_ERR</span>
<span class="quote">&gt; -                              &quot;cik_fw: validation failed for firmware \&quot;%s\&quot;\n&quot;,</span>
<span class="quote">&gt; +                       pr_err(&quot;cik_fw: validation failed for firmware \&quot;%s\&quot;\n&quot;,</span>
<span class="quote">&gt;                                fw_name);</span>
<span class="quote">&gt;                         goto out;</span>
<span class="quote">&gt;                 } else {</span>
<span class="quote">&gt; @@ -2242,8 +2230,7 @@ static int cik_init_microcode(struct radeon_device *rdev)</span>
<span class="quote">&gt;                         }</span>
<span class="quote">&gt;                         if ((rdev-&gt;mc_fw-&gt;size != mc_req_size) &amp;&amp;</span>
<span class="quote">&gt;                             (rdev-&gt;mc_fw-&gt;size != mc2_req_size)){</span>
<span class="quote">&gt; -                               printk(KERN_ERR</span>
<span class="quote">&gt; -                                      &quot;cik_mc: Bogus length %zu in firmware \&quot;%s\&quot;\n&quot;,</span>
<span class="quote">&gt; +                               pr_err(&quot;cik_mc: Bogus length %zu in firmware \&quot;%s\&quot;\n&quot;,</span>
<span class="quote">&gt;                                        rdev-&gt;mc_fw-&gt;size, fw_name);</span>
<span class="quote">&gt;                                 err = -EINVAL;</span>
<span class="quote">&gt;                         }</span>
<span class="quote">&gt; @@ -2251,8 +2238,7 @@ static int cik_init_microcode(struct radeon_device *rdev)</span>
<span class="quote">&gt;                 } else {</span>
<span class="quote">&gt;                         err = radeon_ucode_validate(rdev-&gt;mc_fw);</span>
<span class="quote">&gt;                         if (err) {</span>
<span class="quote">&gt; -                               printk(KERN_ERR</span>
<span class="quote">&gt; -                                      &quot;cik_fw: validation failed for firmware \&quot;%s\&quot;\n&quot;,</span>
<span class="quote">&gt; +                               pr_err(&quot;cik_fw: validation failed for firmware \&quot;%s\&quot;\n&quot;,</span>
<span class="quote">&gt;                                        fw_name);</span>
<span class="quote">&gt;                                 goto out;</span>
<span class="quote">&gt;                         } else {</span>
<span class="quote">&gt; @@ -2269,23 +2255,20 @@ static int cik_init_microcode(struct radeon_device *rdev)</span>
<span class="quote">&gt;                         snprintf(fw_name, sizeof(fw_name), &quot;radeon/%s_smc.bin&quot;, chip_name);</span>
<span class="quote">&gt;                         err = request_firmware(&amp;rdev-&gt;smc_fw, fw_name, rdev-&gt;dev);</span>
<span class="quote">&gt;                         if (err) {</span>
<span class="quote">&gt; -                               printk(KERN_ERR</span>
<span class="quote">&gt; -                                      &quot;smc: error loading firmware \&quot;%s\&quot;\n&quot;,</span>
<span class="quote">&gt; +                               pr_err(&quot;smc: error loading firmware \&quot;%s\&quot;\n&quot;,</span>
<span class="quote">&gt;                                        fw_name);</span>
<span class="quote">&gt;                                 release_firmware(rdev-&gt;smc_fw);</span>
<span class="quote">&gt;                                 rdev-&gt;smc_fw = NULL;</span>
<span class="quote">&gt;                                 err = 0;</span>
<span class="quote">&gt;                         } else if (rdev-&gt;smc_fw-&gt;size != smc_req_size) {</span>
<span class="quote">&gt; -                               printk(KERN_ERR</span>
<span class="quote">&gt; -                                      &quot;cik_smc: Bogus length %zu in firmware \&quot;%s\&quot;\n&quot;,</span>
<span class="quote">&gt; +                               pr_err(&quot;cik_smc: Bogus length %zu in firmware \&quot;%s\&quot;\n&quot;,</span>
<span class="quote">&gt;                                        rdev-&gt;smc_fw-&gt;size, fw_name);</span>
<span class="quote">&gt;                                 err = -EINVAL;</span>
<span class="quote">&gt;                         }</span>
<span class="quote">&gt;                 } else {</span>
<span class="quote">&gt;                         err = radeon_ucode_validate(rdev-&gt;smc_fw);</span>
<span class="quote">&gt;                         if (err) {</span>
<span class="quote">&gt; -                               printk(KERN_ERR</span>
<span class="quote">&gt; -                                      &quot;cik_fw: validation failed for firmware \&quot;%s\&quot;\n&quot;,</span>
<span class="quote">&gt; +                               pr_err(&quot;cik_fw: validation failed for firmware \&quot;%s\&quot;\n&quot;,</span>
<span class="quote">&gt;                                        fw_name);</span>
<span class="quote">&gt;                                 goto out;</span>
<span class="quote">&gt;                         } else {</span>
<span class="quote">&gt; @@ -2297,7 +2280,7 @@ static int cik_init_microcode(struct radeon_device *rdev)</span>
<span class="quote">&gt;         if (new_fw == 0) {</span>
<span class="quote">&gt;                 rdev-&gt;new_fw = false;</span>
<span class="quote">&gt;         } else if (new_fw &lt; num_fw) {</span>
<span class="quote">&gt; -               printk(KERN_ERR &quot;ci_fw: mixing new and old firmware!\n&quot;);</span>
<span class="quote">&gt; +               pr_err(&quot;ci_fw: mixing new and old firmware!\n&quot;);</span>
<span class="quote">&gt;                 err = -EINVAL;</span>
<span class="quote">&gt;         } else {</span>
<span class="quote">&gt;                 rdev-&gt;new_fw = true;</span>
<span class="quote">&gt; @@ -2306,8 +2289,7 @@ static int cik_init_microcode(struct radeon_device *rdev)</span>
<span class="quote">&gt;  out:</span>
<span class="quote">&gt;         if (err) {</span>
<span class="quote">&gt;                 if (err != -EINVAL)</span>
<span class="quote">&gt; -                       printk(KERN_ERR</span>
<span class="quote">&gt; -                              &quot;cik_cp: Failed to load firmware \&quot;%s\&quot;\n&quot;,</span>
<span class="quote">&gt; +                       pr_err(&quot;cik_cp: Failed to load firmware \&quot;%s\&quot;\n&quot;,</span>
<span class="quote">&gt;                                fw_name);</span>
<span class="quote">&gt;                 release_firmware(rdev-&gt;pfp_fw);</span>
<span class="quote">&gt;                 rdev-&gt;pfp_fw = NULL;</span>
<span class="quote">&gt; diff --git a/drivers/gpu/drm/radeon/evergreen.c b/drivers/gpu/drm/radeon/evergreen.c</span>
<span class="quote">&gt; index 0b6b5766216f..d1b1e0cc3c25 100644</span>
<span class="quote">&gt; --- a/drivers/gpu/drm/radeon/evergreen.c</span>
<span class="quote">&gt; +++ b/drivers/gpu/drm/radeon/evergreen.c</span>
<span class="quote">&gt; @@ -2486,7 +2486,7 @@ void evergreen_pcie_gart_tlb_flush(struct radeon_device *rdev)</span>
<span class="quote">&gt;                 tmp = RREG32(VM_CONTEXT0_REQUEST_RESPONSE);</span>
<span class="quote">&gt;                 tmp = (tmp &amp; RESPONSE_TYPE_MASK) &gt;&gt; RESPONSE_TYPE_SHIFT;</span>
<span class="quote">&gt;                 if (tmp == 2) {</span>
<span class="quote">&gt; -                       printk(KERN_WARNING &quot;[drm] r600 flush TLB failed\n&quot;);</span>
<span class="quote">&gt; +                       pr_warn(&quot;[drm] r600 flush TLB failed\n&quot;);</span>
<span class="quote">&gt;                         return;</span>
<span class="quote">&gt;                 }</span>
<span class="quote">&gt;                 if (tmp) {</span>
<span class="quote">&gt; diff --git a/drivers/gpu/drm/radeon/evergreen_cs.c b/drivers/gpu/drm/radeon/evergreen_cs.c</span>
<span class="quote">&gt; index f8b05090232a..54324330b91f 100644</span>
<span class="quote">&gt; --- a/drivers/gpu/drm/radeon/evergreen_cs.c</span>
<span class="quote">&gt; +++ b/drivers/gpu/drm/radeon/evergreen_cs.c</span>
<span class="quote">&gt; @@ -1061,8 +1061,7 @@ static int evergreen_packet0_check(struct radeon_cs_parser *p,</span>
<span class="quote">&gt;                 }</span>
<span class="quote">&gt;                 break;</span>
<span class="quote">&gt;         default:</span>
<span class="quote">&gt; -               printk(KERN_ERR &quot;Forbidden register 0x%04X in cs at %d\n&quot;,</span>
<span class="quote">&gt; -                      reg, idx);</span>
<span class="quote">&gt; +               pr_err(&quot;Forbidden register 0x%04X in cs at %d\n&quot;, reg, idx);</span>
<span class="quote">&gt;                 return -EINVAL;</span>
<span class="quote">&gt;         }</span>
<span class="quote">&gt;         return 0;</span>
<span class="quote">&gt; @@ -2776,7 +2775,7 @@ int evergreen_cs_parse(struct radeon_cs_parser *p)</span>
<span class="quote">&gt;         } while (p-&gt;idx &lt; p-&gt;chunk_ib-&gt;length_dw);</span>
<span class="quote">&gt;  #if 0</span>
<span class="quote">&gt;         for (r = 0; r &lt; p-&gt;ib.length_dw; r++) {</span>
<span class="quote">&gt; -               printk(KERN_INFO &quot;%05d  0x%08X\n&quot;, r, p-&gt;ib.ptr[r]);</span>
<span class="quote">&gt; +               pr_info(&quot;%05d  0x%08X\n&quot;, r, p-&gt;ib.ptr[r]);</span>
<span class="quote">&gt;                 mdelay(1);</span>
<span class="quote">&gt;         }</span>
<span class="quote">&gt;  #endif</span>
<span class="quote">&gt; @@ -3215,7 +3214,7 @@ int evergreen_dma_cs_parse(struct radeon_cs_parser *p)</span>
<span class="quote">&gt;         } while (p-&gt;idx &lt; p-&gt;chunk_ib-&gt;length_dw);</span>
<span class="quote">&gt;  #if 0</span>
<span class="quote">&gt;         for (r = 0; r &lt; p-&gt;ib-&gt;length_dw; r++) {</span>
<span class="quote">&gt; -               printk(KERN_INFO &quot;%05d  0x%08X\n&quot;, r, p-&gt;ib.ptr[r]);</span>
<span class="quote">&gt; +               pr_info(&quot;%05d  0x%08X\n&quot;, r, p-&gt;ib.ptr[r]);</span>
<span class="quote">&gt;                 mdelay(1);</span>
<span class="quote">&gt;         }</span>
<span class="quote">&gt;  #endif</span>
<span class="quote">&gt; diff --git a/drivers/gpu/drm/radeon/ni.c b/drivers/gpu/drm/radeon/ni.c</span>
<span class="quote">&gt; index a0d4a0522fdc..9eccd0c81d88 100644</span>
<span class="quote">&gt; --- a/drivers/gpu/drm/radeon/ni.c</span>
<span class="quote">&gt; +++ b/drivers/gpu/drm/radeon/ni.c</span>
<span class="quote">&gt; @@ -774,8 +774,7 @@ int ni_init_microcode(struct radeon_device *rdev)</span>
<span class="quote">&gt;         if (err)</span>
<span class="quote">&gt;                 goto out;</span>
<span class="quote">&gt;         if (rdev-&gt;pfp_fw-&gt;size != pfp_req_size) {</span>
<span class="quote">&gt; -               printk(KERN_ERR</span>
<span class="quote">&gt; -                      &quot;ni_cp: Bogus length %zu in firmware \&quot;%s\&quot;\n&quot;,</span>
<span class="quote">&gt; +               pr_err(&quot;ni_cp: Bogus length %zu in firmware \&quot;%s\&quot;\n&quot;,</span>
<span class="quote">&gt;                        rdev-&gt;pfp_fw-&gt;size, fw_name);</span>
<span class="quote">&gt;                 err = -EINVAL;</span>
<span class="quote">&gt;                 goto out;</span>
<span class="quote">&gt; @@ -786,8 +785,7 @@ int ni_init_microcode(struct radeon_device *rdev)</span>
<span class="quote">&gt;         if (err)</span>
<span class="quote">&gt;                 goto out;</span>
<span class="quote">&gt;         if (rdev-&gt;me_fw-&gt;size != me_req_size) {</span>
<span class="quote">&gt; -               printk(KERN_ERR</span>
<span class="quote">&gt; -                      &quot;ni_cp: Bogus length %zu in firmware \&quot;%s\&quot;\n&quot;,</span>
<span class="quote">&gt; +               pr_err(&quot;ni_cp: Bogus length %zu in firmware \&quot;%s\&quot;\n&quot;,</span>
<span class="quote">&gt;                        rdev-&gt;me_fw-&gt;size, fw_name);</span>
<span class="quote">&gt;                 err = -EINVAL;</span>
<span class="quote">&gt;         }</span>
<span class="quote">&gt; @@ -797,8 +795,7 @@ int ni_init_microcode(struct radeon_device *rdev)</span>
<span class="quote">&gt;         if (err)</span>
<span class="quote">&gt;                 goto out;</span>
<span class="quote">&gt;         if (rdev-&gt;rlc_fw-&gt;size != rlc_req_size) {</span>
<span class="quote">&gt; -               printk(KERN_ERR</span>
<span class="quote">&gt; -                      &quot;ni_rlc: Bogus length %zu in firmware \&quot;%s\&quot;\n&quot;,</span>
<span class="quote">&gt; +               pr_err(&quot;ni_rlc: Bogus length %zu in firmware \&quot;%s\&quot;\n&quot;,</span>
<span class="quote">&gt;                        rdev-&gt;rlc_fw-&gt;size, fw_name);</span>
<span class="quote">&gt;                 err = -EINVAL;</span>
<span class="quote">&gt;         }</span>
<span class="quote">&gt; @@ -810,8 +807,7 @@ int ni_init_microcode(struct radeon_device *rdev)</span>
<span class="quote">&gt;                 if (err)</span>
<span class="quote">&gt;                         goto out;</span>
<span class="quote">&gt;                 if (rdev-&gt;mc_fw-&gt;size != mc_req_size) {</span>
<span class="quote">&gt; -                       printk(KERN_ERR</span>
<span class="quote">&gt; -                              &quot;ni_mc: Bogus length %zu in firmware \&quot;%s\&quot;\n&quot;,</span>
<span class="quote">&gt; +                       pr_err(&quot;ni_mc: Bogus length %zu in firmware \&quot;%s\&quot;\n&quot;,</span>
<span class="quote">&gt;                                rdev-&gt;mc_fw-&gt;size, fw_name);</span>
<span class="quote">&gt;                         err = -EINVAL;</span>
<span class="quote">&gt;                 }</span>
<span class="quote">&gt; @@ -821,15 +817,12 @@ int ni_init_microcode(struct radeon_device *rdev)</span>
<span class="quote">&gt;                 snprintf(fw_name, sizeof(fw_name), &quot;radeon/%s_smc.bin&quot;, chip_name);</span>
<span class="quote">&gt;                 err = request_firmware(&amp;rdev-&gt;smc_fw, fw_name, rdev-&gt;dev);</span>
<span class="quote">&gt;                 if (err) {</span>
<span class="quote">&gt; -                       printk(KERN_ERR</span>
<span class="quote">&gt; -                              &quot;smc: error loading firmware \&quot;%s\&quot;\n&quot;,</span>
<span class="quote">&gt; -                              fw_name);</span>
<span class="quote">&gt; +                       pr_err(&quot;smc: error loading firmware \&quot;%s\&quot;\n&quot;, fw_name);</span>
<span class="quote">&gt;                         release_firmware(rdev-&gt;smc_fw);</span>
<span class="quote">&gt;                         rdev-&gt;smc_fw = NULL;</span>
<span class="quote">&gt;                         err = 0;</span>
<span class="quote">&gt;                 } else if (rdev-&gt;smc_fw-&gt;size != smc_req_size) {</span>
<span class="quote">&gt; -                       printk(KERN_ERR</span>
<span class="quote">&gt; -                              &quot;ni_mc: Bogus length %zu in firmware \&quot;%s\&quot;\n&quot;,</span>
<span class="quote">&gt; +                       pr_err(&quot;ni_mc: Bogus length %zu in firmware \&quot;%s\&quot;\n&quot;,</span>
<span class="quote">&gt;                                rdev-&gt;mc_fw-&gt;size, fw_name);</span>
<span class="quote">&gt;                         err = -EINVAL;</span>
<span class="quote">&gt;                 }</span>
<span class="quote">&gt; @@ -838,8 +831,7 @@ int ni_init_microcode(struct radeon_device *rdev)</span>
<span class="quote">&gt;  out:</span>
<span class="quote">&gt;         if (err) {</span>
<span class="quote">&gt;                 if (err != -EINVAL)</span>
<span class="quote">&gt; -                       printk(KERN_ERR</span>
<span class="quote">&gt; -                              &quot;ni_cp: Failed to load firmware \&quot;%s\&quot;\n&quot;,</span>
<span class="quote">&gt; +                       pr_err(&quot;ni_cp: Failed to load firmware \&quot;%s\&quot;\n&quot;,</span>
<span class="quote">&gt;                                fw_name);</span>
<span class="quote">&gt;                 release_firmware(rdev-&gt;pfp_fw);</span>
<span class="quote">&gt;                 rdev-&gt;pfp_fw = NULL;</span>
<span class="quote">&gt; diff --git a/drivers/gpu/drm/radeon/r100.c b/drivers/gpu/drm/radeon/r100.c</span>
<span class="quote">&gt; index e3399310d41d..aefca0b03f38 100644</span>
<span class="quote">&gt; --- a/drivers/gpu/drm/radeon/r100.c</span>
<span class="quote">&gt; +++ b/drivers/gpu/drm/radeon/r100.c</span>
<span class="quote">&gt; @@ -1042,11 +1042,9 @@ static int r100_cp_init_microcode(struct radeon_device *rdev)</span>
<span class="quote">&gt;</span>
<span class="quote">&gt;         err = request_firmware(&amp;rdev-&gt;me_fw, fw_name, rdev-&gt;dev);</span>
<span class="quote">&gt;         if (err) {</span>
<span class="quote">&gt; -               printk(KERN_ERR &quot;radeon_cp: Failed to load firmware \&quot;%s\&quot;\n&quot;,</span>
<span class="quote">&gt; -                      fw_name);</span>
<span class="quote">&gt; +               pr_err(&quot;radeon_cp: Failed to load firmware \&quot;%s\&quot;\n&quot;, fw_name);</span>
<span class="quote">&gt;         } else if (rdev-&gt;me_fw-&gt;size % 8) {</span>
<span class="quote">&gt; -               printk(KERN_ERR</span>
<span class="quote">&gt; -                      &quot;radeon_cp: Bogus length %zu in firmware \&quot;%s\&quot;\n&quot;,</span>
<span class="quote">&gt; +               pr_err(&quot;radeon_cp: Bogus length %zu in firmware \&quot;%s\&quot;\n&quot;,</span>
<span class="quote">&gt;                        rdev-&gt;me_fw-&gt;size, fw_name);</span>
<span class="quote">&gt;                 err = -EINVAL;</span>
<span class="quote">&gt;                 release_firmware(rdev-&gt;me_fw);</span>
<span class="quote">&gt; @@ -1087,8 +1085,7 @@ static void r100_cp_load_microcode(struct radeon_device *rdev)</span>
<span class="quote">&gt;         int i, size;</span>
<span class="quote">&gt;</span>
<span class="quote">&gt;         if (r100_gui_wait_for_idle(rdev)) {</span>
<span class="quote">&gt; -               printk(KERN_WARNING &quot;Failed to wait GUI idle while &quot;</span>
<span class="quote">&gt; -                      &quot;programming pipes. Bad things might happen.\n&quot;);</span>
<span class="quote">&gt; +               pr_warn(&quot;Failed to wait GUI idle while programming pipes. Bad things might happen.\n&quot;);</span>
<span class="quote">&gt;         }</span>
<span class="quote">&gt;</span>
<span class="quote">&gt;         if (rdev-&gt;me_fw) {</span>
<span class="quote">&gt; @@ -1246,8 +1243,7 @@ void r100_cp_disable(struct radeon_device *rdev)</span>
<span class="quote">&gt;         WREG32(RADEON_CP_CSQ_CNTL, 0);</span>
<span class="quote">&gt;         WREG32(R_000770_SCRATCH_UMSK, 0);</span>
<span class="quote">&gt;         if (r100_gui_wait_for_idle(rdev)) {</span>
<span class="quote">&gt; -               printk(KERN_WARNING &quot;Failed to wait GUI idle while &quot;</span>
<span class="quote">&gt; -                      &quot;programming pipes. Bad things might happen.\n&quot;);</span>
<span class="quote">&gt; +               pr_warn(&quot;Failed to wait GUI idle while programming pipes. Bad things might happen.\n&quot;);</span>
<span class="quote">&gt;         }</span>
<span class="quote">&gt;  }</span>
<span class="quote">&gt;</span>
<span class="quote">&gt; @@ -1881,8 +1877,7 @@ static int r100_packet0_check(struct radeon_cs_parser *p,</span>
<span class="quote">&gt;                 track-&gt;tex_dirty = true;</span>
<span class="quote">&gt;                 break;</span>
<span class="quote">&gt;         default:</span>
<span class="quote">&gt; -               printk(KERN_ERR &quot;Forbidden register 0x%04X in cs at %d\n&quot;,</span>
<span class="quote">&gt; -                      reg, idx);</span>
<span class="quote">&gt; +               pr_err(&quot;Forbidden register 0x%04X in cs at %d\n&quot;, reg, idx);</span>
<span class="quote">&gt;                 return -EINVAL;</span>
<span class="quote">&gt;         }</span>
<span class="quote">&gt;         return 0;</span>
<span class="quote">&gt; @@ -2486,8 +2481,7 @@ int r100_gui_wait_for_idle(struct radeon_device *rdev)</span>
<span class="quote">&gt;         uint32_t tmp;</span>
<span class="quote">&gt;</span>
<span class="quote">&gt;         if (r100_rbbm_fifo_wait_for_entry(rdev, 64)) {</span>
<span class="quote">&gt; -               printk(KERN_WARNING &quot;radeon: wait for empty RBBM fifo failed !&quot;</span>
<span class="quote">&gt; -                      &quot; Bad things might happen.\n&quot;);</span>
<span class="quote">&gt; +               pr_warn(&quot;radeon: wait for empty RBBM fifo failed! Bad things might happen.\n&quot;);</span>
<span class="quote">&gt;         }</span>
<span class="quote">&gt;         for (i = 0; i &lt; rdev-&gt;usec_timeout; i++) {</span>
<span class="quote">&gt;                 tmp = RREG32(RADEON_RBBM_STATUS);</span>
<span class="quote">&gt; diff --git a/drivers/gpu/drm/radeon/r200.c b/drivers/gpu/drm/radeon/r200.c</span>
<span class="quote">&gt; index c70e6d5bcd19..c22321cc5a41 100644</span>
<span class="quote">&gt; --- a/drivers/gpu/drm/radeon/r200.c</span>
<span class="quote">&gt; +++ b/drivers/gpu/drm/radeon/r200.c</span>
<span class="quote">&gt; @@ -537,8 +537,7 @@ int r200_packet0_check(struct radeon_cs_parser *p,</span>
<span class="quote">&gt;                 track-&gt;tex_dirty = true;</span>
<span class="quote">&gt;                 break;</span>
<span class="quote">&gt;         default:</span>
<span class="quote">&gt; -               printk(KERN_ERR &quot;Forbidden register 0x%04X in cs at %d\n&quot;,</span>
<span class="quote">&gt; -                      reg, idx);</span>
<span class="quote">&gt; +               pr_err(&quot;Forbidden register 0x%04X in cs at %d\n&quot;, reg, idx);</span>
<span class="quote">&gt;                 return -EINVAL;</span>
<span class="quote">&gt;         }</span>
<span class="quote">&gt;         return 0;</span>
<span class="quote">&gt; diff --git a/drivers/gpu/drm/radeon/r300.c b/drivers/gpu/drm/radeon/r300.c</span>
<span class="quote">&gt; index 7e417d8dc733..21161aa8acbf 100644</span>
<span class="quote">&gt; --- a/drivers/gpu/drm/radeon/r300.c</span>
<span class="quote">&gt; +++ b/drivers/gpu/drm/radeon/r300.c</span>
<span class="quote">&gt; @@ -387,8 +387,7 @@ static void r300_gpu_init(struct radeon_device *rdev)</span>
<span class="quote">&gt;         WREG32(R300_GB_TILE_CONFIG, gb_tile_config);</span>
<span class="quote">&gt;</span>
<span class="quote">&gt;         if (r100_gui_wait_for_idle(rdev)) {</span>
<span class="quote">&gt; -               printk(KERN_WARNING &quot;Failed to wait GUI idle while &quot;</span>
<span class="quote">&gt; -                      &quot;programming pipes. Bad things might happen.\n&quot;);</span>
<span class="quote">&gt; +               pr_warn(&quot;Failed to wait GUI idle while programming pipes. Bad things might happen.\n&quot;);</span>
<span class="quote">&gt;         }</span>
<span class="quote">&gt;</span>
<span class="quote">&gt;         tmp = RREG32(R300_DST_PIPE_CONFIG);</span>
<span class="quote">&gt; @@ -399,14 +398,12 @@ static void r300_gpu_init(struct radeon_device *rdev)</span>
<span class="quote">&gt;                R300_DC_DC_DISABLE_IGNORE_PE);</span>
<span class="quote">&gt;</span>
<span class="quote">&gt;         if (r100_gui_wait_for_idle(rdev)) {</span>
<span class="quote">&gt; -               printk(KERN_WARNING &quot;Failed to wait GUI idle while &quot;</span>
<span class="quote">&gt; -                      &quot;programming pipes. Bad things might happen.\n&quot;);</span>
<span class="quote">&gt; +               pr_warn(&quot;Failed to wait GUI idle while programming pipes. Bad things might happen.\n&quot;);</span>
<span class="quote">&gt;         }</span>
<span class="quote">&gt;         if (r300_mc_wait_for_idle(rdev)) {</span>
<span class="quote">&gt; -               printk(KERN_WARNING &quot;Failed to wait MC idle while &quot;</span>
<span class="quote">&gt; -                      &quot;programming pipes. Bad things might happen.\n&quot;);</span>
<span class="quote">&gt; +               pr_warn(&quot;Failed to wait MC idle while programming pipes. Bad things might happen.\n&quot;);</span>
<span class="quote">&gt;         }</span>
<span class="quote">&gt; -       DRM_INFO(&quot;radeon: %d quad pipes, %d Z pipes initialized.\n&quot;,</span>
<span class="quote">&gt; +       DRM_INFO(&quot;radeon: %d quad pipes, %d Z pipes initialized\n&quot;,</span>
<span class="quote">&gt;                  rdev-&gt;num_gb_pipes, rdev-&gt;num_z_pipes);</span>
<span class="quote">&gt;  }</span>
<span class="quote">&gt;</span>
<span class="quote">&gt; @@ -1165,7 +1162,7 @@ static int r300_packet0_check(struct radeon_cs_parser *p,</span>
<span class="quote">&gt;         }</span>
<span class="quote">&gt;         return 0;</span>
<span class="quote">&gt;  fail:</span>
<span class="quote">&gt; -       printk(KERN_ERR &quot;Forbidden register 0x%04X in cs at %d (val=%08x)\n&quot;,</span>
<span class="quote">&gt; +       pr_err(&quot;Forbidden register 0x%04X in cs at %d (val=%08x)\n&quot;,</span>
<span class="quote">&gt;                reg, idx, idx_value);</span>
<span class="quote">&gt;         return -EINVAL;</span>
<span class="quote">&gt;  }</span>
<span class="quote">&gt; diff --git a/drivers/gpu/drm/radeon/r420.c b/drivers/gpu/drm/radeon/r420.c</span>
<span class="quote">&gt; index 2828605aef3f..3eb0c4f9f796 100644</span>
<span class="quote">&gt; --- a/drivers/gpu/drm/radeon/r420.c</span>
<span class="quote">&gt; +++ b/drivers/gpu/drm/radeon/r420.c</span>
<span class="quote">&gt; @@ -92,8 +92,7 @@ void r420_pipes_init(struct radeon_device *rdev)</span>
<span class="quote">&gt;                (1 &lt;&lt; 2) | (1 &lt;&lt; 3));</span>
<span class="quote">&gt;         /* add idle wait as per freedesktop.org bug 24041 */</span>
<span class="quote">&gt;         if (r100_gui_wait_for_idle(rdev)) {</span>
<span class="quote">&gt; -               printk(KERN_WARNING &quot;Failed to wait GUI idle while &quot;</span>
<span class="quote">&gt; -                      &quot;programming pipes. Bad things might happen.\n&quot;);</span>
<span class="quote">&gt; +               pr_warn(&quot;Failed to wait GUI idle while programming pipes. Bad things might happen.\n&quot;);</span>
<span class="quote">&gt;         }</span>
<span class="quote">&gt;         /* get max number of pipes */</span>
<span class="quote">&gt;         gb_pipe_select = RREG32(R400_GB_PIPE_SELECT);</span>
<span class="quote">&gt; @@ -128,8 +127,7 @@ void r420_pipes_init(struct radeon_device *rdev)</span>
<span class="quote">&gt;         tmp |= R300_TILE_SIZE_16 | R300_ENABLE_TILING;</span>
<span class="quote">&gt;         WREG32(R300_GB_TILE_CONFIG, tmp);</span>
<span class="quote">&gt;         if (r100_gui_wait_for_idle(rdev)) {</span>
<span class="quote">&gt; -               printk(KERN_WARNING &quot;Failed to wait GUI idle while &quot;</span>
<span class="quote">&gt; -                      &quot;programming pipes. Bad things might happen.\n&quot;);</span>
<span class="quote">&gt; +               pr_warn(&quot;Failed to wait GUI idle while programming pipes. Bad things might happen.\n&quot;);</span>
<span class="quote">&gt;         }</span>
<span class="quote">&gt;</span>
<span class="quote">&gt;         tmp = RREG32(R300_DST_PIPE_CONFIG);</span>
<span class="quote">&gt; @@ -141,8 +139,7 @@ void r420_pipes_init(struct radeon_device *rdev)</span>
<span class="quote">&gt;                R300_DC_DC_DISABLE_IGNORE_PE);</span>
<span class="quote">&gt;</span>
<span class="quote">&gt;         if (r100_gui_wait_for_idle(rdev)) {</span>
<span class="quote">&gt; -               printk(KERN_WARNING &quot;Failed to wait GUI idle while &quot;</span>
<span class="quote">&gt; -                      &quot;programming pipes. Bad things might happen.\n&quot;);</span>
<span class="quote">&gt; +               pr_warn(&quot;Failed to wait GUI idle while programming pipes. Bad things might happen.\n&quot;);</span>
<span class="quote">&gt;         }</span>
<span class="quote">&gt;</span>
<span class="quote">&gt;         if (rdev-&gt;family == CHIP_RV530) {</span>
<span class="quote">&gt; diff --git a/drivers/gpu/drm/radeon/r520.c b/drivers/gpu/drm/radeon/r520.c</span>
<span class="quote">&gt; index 98d6053c36c6..074cf752faef 100644</span>
<span class="quote">&gt; --- a/drivers/gpu/drm/radeon/r520.c</span>
<span class="quote">&gt; +++ b/drivers/gpu/drm/radeon/r520.c</span>
<span class="quote">&gt; @@ -86,8 +86,7 @@ static void r520_gpu_init(struct radeon_device *rdev)</span>
<span class="quote">&gt;               (((gb_pipe_select &gt;&gt; 8) &amp; 0xF) &lt;&lt; 4);</span>
<span class="quote">&gt;         WREG32_PLL(0x000D, tmp);</span>
<span class="quote">&gt;         if (r520_mc_wait_for_idle(rdev)) {</span>
<span class="quote">&gt; -               printk(KERN_WARNING &quot;Failed to wait MC idle while &quot;</span>
<span class="quote">&gt; -                      &quot;programming pipes. Bad things might happen.\n&quot;);</span>
<span class="quote">&gt; +               pr_warn(&quot;Failed to wait MC idle while programming pipes. Bad things might happen.\n&quot;);</span>
<span class="quote">&gt;         }</span>
<span class="quote">&gt;  }</span>
<span class="quote">&gt;</span>
<span class="quote">&gt; diff --git a/drivers/gpu/drm/radeon/r600.c b/drivers/gpu/drm/radeon/r600.c</span>
<span class="quote">&gt; index a951881c2a50..0a085176e79b 100644</span>
<span class="quote">&gt; --- a/drivers/gpu/drm/radeon/r600.c</span>
<span class="quote">&gt; +++ b/drivers/gpu/drm/radeon/r600.c</span>
<span class="quote">&gt; @@ -1094,7 +1094,7 @@ void r600_pcie_gart_tlb_flush(struct radeon_device *rdev)</span>
<span class="quote">&gt;                 tmp = RREG32(VM_CONTEXT0_REQUEST_RESPONSE);</span>
<span class="quote">&gt;                 tmp = (tmp &amp; RESPONSE_TYPE_MASK) &gt;&gt; RESPONSE_TYPE_SHIFT;</span>
<span class="quote">&gt;                 if (tmp == 2) {</span>
<span class="quote">&gt; -                       printk(KERN_WARNING &quot;[drm] r600 flush TLB failed\n&quot;);</span>
<span class="quote">&gt; +                       pr_warn(&quot;[drm] r600 flush TLB failed\n&quot;);</span>
<span class="quote">&gt;                         return;</span>
<span class="quote">&gt;                 }</span>
<span class="quote">&gt;                 if (tmp) {</span>
<span class="quote">&gt; @@ -2550,8 +2550,7 @@ int r600_init_microcode(struct radeon_device *rdev)</span>
<span class="quote">&gt;         if (err)</span>
<span class="quote">&gt;                 goto out;</span>
<span class="quote">&gt;         if (rdev-&gt;pfp_fw-&gt;size != pfp_req_size) {</span>
<span class="quote">&gt; -               printk(KERN_ERR</span>
<span class="quote">&gt; -                      &quot;r600_cp: Bogus length %zu in firmware \&quot;%s\&quot;\n&quot;,</span>
<span class="quote">&gt; +               pr_err(&quot;r600_cp: Bogus length %zu in firmware \&quot;%s\&quot;\n&quot;,</span>
<span class="quote">&gt;                        rdev-&gt;pfp_fw-&gt;size, fw_name);</span>
<span class="quote">&gt;                 err = -EINVAL;</span>
<span class="quote">&gt;                 goto out;</span>
<span class="quote">&gt; @@ -2562,8 +2561,7 @@ int r600_init_microcode(struct radeon_device *rdev)</span>
<span class="quote">&gt;         if (err)</span>
<span class="quote">&gt;                 goto out;</span>
<span class="quote">&gt;         if (rdev-&gt;me_fw-&gt;size != me_req_size) {</span>
<span class="quote">&gt; -               printk(KERN_ERR</span>
<span class="quote">&gt; -                      &quot;r600_cp: Bogus length %zu in firmware \&quot;%s\&quot;\n&quot;,</span>
<span class="quote">&gt; +               pr_err(&quot;r600_cp: Bogus length %zu in firmware \&quot;%s\&quot;\n&quot;,</span>
<span class="quote">&gt;                        rdev-&gt;me_fw-&gt;size, fw_name);</span>
<span class="quote">&gt;                 err = -EINVAL;</span>
<span class="quote">&gt;         }</span>
<span class="quote">&gt; @@ -2573,8 +2571,7 @@ int r600_init_microcode(struct radeon_device *rdev)</span>
<span class="quote">&gt;         if (err)</span>
<span class="quote">&gt;                 goto out;</span>
<span class="quote">&gt;         if (rdev-&gt;rlc_fw-&gt;size != rlc_req_size) {</span>
<span class="quote">&gt; -               printk(KERN_ERR</span>
<span class="quote">&gt; -                      &quot;r600_rlc: Bogus length %zu in firmware \&quot;%s\&quot;\n&quot;,</span>
<span class="quote">&gt; +               pr_err(&quot;r600_rlc: Bogus length %zu in firmware \&quot;%s\&quot;\n&quot;,</span>
<span class="quote">&gt;                        rdev-&gt;rlc_fw-&gt;size, fw_name);</span>
<span class="quote">&gt;                 err = -EINVAL;</span>
<span class="quote">&gt;         }</span>
<span class="quote">&gt; @@ -2583,15 +2580,12 @@ int r600_init_microcode(struct radeon_device *rdev)</span>
<span class="quote">&gt;                 snprintf(fw_name, sizeof(fw_name), &quot;radeon/%s_smc.bin&quot;, smc_chip_name);</span>
<span class="quote">&gt;                 err = request_firmware(&amp;rdev-&gt;smc_fw, fw_name, rdev-&gt;dev);</span>
<span class="quote">&gt;                 if (err) {</span>
<span class="quote">&gt; -                       printk(KERN_ERR</span>
<span class="quote">&gt; -                              &quot;smc: error loading firmware \&quot;%s\&quot;\n&quot;,</span>
<span class="quote">&gt; -                              fw_name);</span>
<span class="quote">&gt; +                       pr_err(&quot;smc: error loading firmware \&quot;%s\&quot;\n&quot;, fw_name);</span>
<span class="quote">&gt;                         release_firmware(rdev-&gt;smc_fw);</span>
<span class="quote">&gt;                         rdev-&gt;smc_fw = NULL;</span>
<span class="quote">&gt;                         err = 0;</span>
<span class="quote">&gt;                 } else if (rdev-&gt;smc_fw-&gt;size != smc_req_size) {</span>
<span class="quote">&gt; -                       printk(KERN_ERR</span>
<span class="quote">&gt; -                              &quot;smc: Bogus length %zu in firmware \&quot;%s\&quot;\n&quot;,</span>
<span class="quote">&gt; +                       pr_err(&quot;smc: Bogus length %zu in firmware \&quot;%s\&quot;\n&quot;,</span>
<span class="quote">&gt;                                rdev-&gt;smc_fw-&gt;size, fw_name);</span>
<span class="quote">&gt;                         err = -EINVAL;</span>
<span class="quote">&gt;                 }</span>
<span class="quote">&gt; @@ -2600,8 +2594,7 @@ int r600_init_microcode(struct radeon_device *rdev)</span>
<span class="quote">&gt;  out:</span>
<span class="quote">&gt;         if (err) {</span>
<span class="quote">&gt;                 if (err != -EINVAL)</span>
<span class="quote">&gt; -                       printk(KERN_ERR</span>
<span class="quote">&gt; -                              &quot;r600_cp: Failed to load firmware \&quot;%s\&quot;\n&quot;,</span>
<span class="quote">&gt; +                       pr_err(&quot;r600_cp: Failed to load firmware \&quot;%s\&quot;\n&quot;,</span>
<span class="quote">&gt;                                fw_name);</span>
<span class="quote">&gt;                 release_firmware(rdev-&gt;pfp_fw);</span>
<span class="quote">&gt;                 rdev-&gt;pfp_fw = NULL;</span>
<span class="quote">&gt; diff --git a/drivers/gpu/drm/radeon/r600_cs.c b/drivers/gpu/drm/radeon/r600_cs.c</span>
<span class="quote">&gt; index 595a19736458..97fd58e97043 100644</span>
<span class="quote">&gt; --- a/drivers/gpu/drm/radeon/r600_cs.c</span>
<span class="quote">&gt; +++ b/drivers/gpu/drm/radeon/r600_cs.c</span>
<span class="quote">&gt; @@ -932,8 +932,7 @@ static int r600_packet0_check(struct radeon_cs_parser *p,</span>
<span class="quote">&gt;                 }</span>
<span class="quote">&gt;                 break;</span>
<span class="quote">&gt;         default:</span>
<span class="quote">&gt; -               printk(KERN_ERR &quot;Forbidden register 0x%04X in cs at %d\n&quot;,</span>
<span class="quote">&gt; -                      reg, idx);</span>
<span class="quote">&gt; +               pr_err(&quot;Forbidden register 0x%04X in cs at %d\n&quot;, reg, idx);</span>
<span class="quote">&gt;                 return -EINVAL;</span>
<span class="quote">&gt;         }</span>
<span class="quote">&gt;         return 0;</span>
<span class="quote">&gt; @@ -2320,7 +2319,7 @@ int r600_cs_parse(struct radeon_cs_parser *p)</span>
<span class="quote">&gt;         } while (p-&gt;idx &lt; p-&gt;chunk_ib-&gt;length_dw);</span>
<span class="quote">&gt;  #if 0</span>
<span class="quote">&gt;         for (r = 0; r &lt; p-&gt;ib.length_dw; r++) {</span>
<span class="quote">&gt; -               printk(KERN_INFO &quot;%05d  0x%08X\n&quot;, r, p-&gt;ib.ptr[r]);</span>
<span class="quote">&gt; +               pr_info(&quot;%05d  0x%08X\n&quot;, r, p-&gt;ib.ptr[r]);</span>
<span class="quote">&gt;                 mdelay(1);</span>
<span class="quote">&gt;         }</span>
<span class="quote">&gt;  #endif</span>
<span class="quote">&gt; @@ -2528,7 +2527,7 @@ int r600_dma_cs_parse(struct radeon_cs_parser *p)</span>
<span class="quote">&gt;         } while (p-&gt;idx &lt; p-&gt;chunk_ib-&gt;length_dw);</span>
<span class="quote">&gt;  #if 0</span>
<span class="quote">&gt;         for (r = 0; r &lt; p-&gt;ib-&gt;length_dw; r++) {</span>
<span class="quote">&gt; -               printk(KERN_INFO &quot;%05d  0x%08X\n&quot;, r, p-&gt;ib.ptr[r]);</span>
<span class="quote">&gt; +               pr_info(&quot;%05d  0x%08X\n&quot;, r, p-&gt;ib.ptr[r]);</span>
<span class="quote">&gt;                 mdelay(1);</span>
<span class="quote">&gt;         }</span>
<span class="quote">&gt;  #endif</span>
<span class="quote">&gt; diff --git a/drivers/gpu/drm/radeon/radeon.h b/drivers/gpu/drm/radeon/radeon.h</span>
<span class="quote">&gt; index 44e0c5ed6418..2e400dc414e3 100644</span>
<span class="quote">&gt; --- a/drivers/gpu/drm/radeon/radeon.h</span>
<span class="quote">&gt; +++ b/drivers/gpu/drm/radeon/radeon.h</span>
<span class="quote">&gt; @@ -2535,7 +2535,8 @@ static inline struct radeon_fence *to_radeon_fence(struct dma_fence *f)</span>
<span class="quote">&gt;  #define WREG16(reg, v) writew(v, (rdev-&gt;rmmio) + (reg))</span>
<span class="quote">&gt;  #define RREG32(reg) r100_mm_rreg(rdev, (reg), false)</span>
<span class="quote">&gt;  #define RREG32_IDX(reg) r100_mm_rreg(rdev, (reg), true)</span>
<span class="quote">&gt; -#define DREG32(reg) printk(KERN_INFO &quot;REGISTER: &quot; #reg &quot; : 0x%08X\n&quot;, r100_mm_rreg(rdev, (reg), false))</span>
<span class="quote">&gt; +#define DREG32(reg) pr_info(&quot;REGISTER: &quot; #reg &quot; : 0x%08X\n&quot;,   \</span>
<span class="quote">&gt; +                           r100_mm_rreg(rdev, (reg), false))</span>
<span class="quote">&gt;  #define WREG32(reg, v) r100_mm_wreg(rdev, (reg), (v), false)</span>
<span class="quote">&gt;  #define WREG32_IDX(reg, v) r100_mm_wreg(rdev, (reg), (v), true)</span>
<span class="quote">&gt;  #define REG_SET(FIELD, v) (((v) &lt;&lt; FIELD##_SHIFT) &amp; FIELD##_MASK)</span>
<span class="quote">&gt; diff --git a/drivers/gpu/drm/radeon/radeon_atpx_handler.c b/drivers/gpu/drm/radeon/radeon_atpx_handler.c</span>
<span class="quote">&gt; index 0ae13cd2adda..40be4068ca69 100644</span>
<span class="quote">&gt; --- a/drivers/gpu/drm/radeon/radeon_atpx_handler.c</span>
<span class="quote">&gt; +++ b/drivers/gpu/drm/radeon/radeon_atpx_handler.c</span>
<span class="quote">&gt; @@ -577,8 +577,8 @@ static bool radeon_atpx_detect(void)</span>
<span class="quote">&gt;</span>
<span class="quote">&gt;         if (has_atpx &amp;&amp; vga_count == 2) {</span>
<span class="quote">&gt;                 acpi_get_name(radeon_atpx_priv.atpx.handle, ACPI_FULL_PATHNAME, &amp;buffer);</span>
<span class="quote">&gt; -               printk(KERN_INFO &quot;vga_switcheroo: detected switching method %s handle\n&quot;,</span>
<span class="quote">&gt; -                      acpi_method_name);</span>
<span class="quote">&gt; +               pr_info(&quot;vga_switcheroo: detected switching method %s handle\n&quot;,</span>
<span class="quote">&gt; +                       acpi_method_name);</span>
<span class="quote">&gt;                 radeon_atpx_priv.atpx_detected = true;</span>
<span class="quote">&gt;                 radeon_atpx_priv.bridge_pm_usable = d3_supported;</span>
<span class="quote">&gt;                 radeon_atpx_init();</span>
<span class="quote">&gt; diff --git a/drivers/gpu/drm/radeon/radeon_audio.c b/drivers/gpu/drm/radeon/radeon_audio.c</span>
<span class="quote">&gt; index b214663b370d..aaacac190d26 100644</span>
<span class="quote">&gt; --- a/drivers/gpu/drm/radeon/radeon_audio.c</span>
<span class="quote">&gt; +++ b/drivers/gpu/drm/radeon/radeon_audio.c</span>
<span class="quote">&gt; @@ -576,9 +576,9 @@ static void radeon_audio_calc_cts(unsigned int clock, int *CTS, int *N, int freq</span>
<span class="quote">&gt;</span>
<span class="quote">&gt;         /* Check that we are in spec (not always possible) */</span>
<span class="quote">&gt;         if (n &lt; (128*freq/1500))</span>
<span class="quote">&gt; -               printk(KERN_WARNING &quot;Calculated ACR N value is too small. You may experience audio problems.\n&quot;);</span>
<span class="quote">&gt; +               pr_warn(&quot;Calculated ACR N value is too small. You may experience audio problems.\n&quot;);</span>
<span class="quote">&gt;         if (n &gt; (128*freq/300))</span>
<span class="quote">&gt; -               printk(KERN_WARNING &quot;Calculated ACR N value is too large. You may experience audio problems.\n&quot;);</span>
<span class="quote">&gt; +               pr_warn(&quot;Calculated ACR N value is too large. You may experience audio problems.\n&quot;);</span>
<span class="quote">&gt;</span>
<span class="quote">&gt;         *N = n;</span>
<span class="quote">&gt;         *CTS = cts;</span>
<span class="quote">&gt; diff --git a/drivers/gpu/drm/radeon/radeon_clocks.c b/drivers/gpu/drm/radeon/radeon_clocks.c</span>
<span class="quote">&gt; index c1135feb93c1..e55146cdf543 100644</span>
<span class="quote">&gt; --- a/drivers/gpu/drm/radeon/radeon_clocks.c</span>
<span class="quote">&gt; +++ b/drivers/gpu/drm/radeon/radeon_clocks.c</span>
<span class="quote">&gt; @@ -111,7 +111,7 @@ static bool radeon_read_clocks_OF(struct drm_device *dev)</span>
<span class="quote">&gt;                 return false;</span>
<span class="quote">&gt;         val = of_get_property(dp, &quot;ATY,RefCLK&quot;, NULL);</span>
<span class="quote">&gt;         if (!val || !*val) {</span>
<span class="quote">&gt; -               printk(KERN_WARNING &quot;radeonfb: No ATY,RefCLK property !\n&quot;);</span>
<span class="quote">&gt; +               pr_warn(&quot;radeonfb: No ATY,RefCLK property !\n&quot;);</span>
<span class="quote">&gt;                 return false;</span>
<span class="quote">&gt;         }</span>
<span class="quote">&gt;         p1pll-&gt;reference_freq = p2pll-&gt;reference_freq = (*val) / 10;</span>
<span class="quote">&gt; diff --git a/drivers/gpu/drm/radeon/radeon_device.c b/drivers/gpu/drm/radeon/radeon_device.c</span>
<span class="quote">&gt; index 4b0c388be3f5..dde59c36ba92 100644</span>
<span class="quote">&gt; --- a/drivers/gpu/drm/radeon/radeon_device.c</span>
<span class="quote">&gt; +++ b/drivers/gpu/drm/radeon/radeon_device.c</span>
<span class="quote">&gt; @@ -1249,7 +1249,7 @@ static void radeon_switcheroo_set_state(struct pci_dev *pdev, enum vga_switchero</span>
<span class="quote">&gt;         if (state == VGA_SWITCHEROO_ON) {</span>
<span class="quote">&gt;                 unsigned d3_delay = dev-&gt;pdev-&gt;d3_delay;</span>
<span class="quote">&gt;</span>
<span class="quote">&gt; -               printk(KERN_INFO &quot;radeon: switched on\n&quot;);</span>
<span class="quote">&gt; +               pr_info(&quot;radeon: switched on\n&quot;);</span>
<span class="quote">&gt;                 /* don&#39;t suspend or resume card normally */</span>
<span class="quote">&gt;                 dev-&gt;switch_power_state = DRM_SWITCH_POWER_CHANGING;</span>
<span class="quote">&gt;</span>
<span class="quote">&gt; @@ -1263,7 +1263,7 @@ static void radeon_switcheroo_set_state(struct pci_dev *pdev, enum vga_switchero</span>
<span class="quote">&gt;                 dev-&gt;switch_power_state = DRM_SWITCH_POWER_ON;</span>
<span class="quote">&gt;                 drm_kms_helper_poll_enable(dev);</span>
<span class="quote">&gt;         } else {</span>
<span class="quote">&gt; -               printk(KERN_INFO &quot;radeon: switched off\n&quot;);</span>
<span class="quote">&gt; +               pr_info(&quot;radeon: switched off\n&quot;);</span>
<span class="quote">&gt;                 drm_kms_helper_poll_disable(dev);</span>
<span class="quote">&gt;                 dev-&gt;switch_power_state = DRM_SWITCH_POWER_CHANGING;</span>
<span class="quote">&gt;                 radeon_suspend_kms(dev, true, true, false);</span>
<span class="quote">&gt; @@ -1410,12 +1410,12 @@ int radeon_device_init(struct radeon_device *rdev,</span>
<span class="quote">&gt;         if (r) {</span>
<span class="quote">&gt;                 rdev-&gt;need_dma32 = true;</span>
<span class="quote">&gt;                 dma_bits = 32;</span>
<span class="quote">&gt; -               printk(KERN_WARNING &quot;radeon: No suitable DMA available.\n&quot;);</span>
<span class="quote">&gt; +               pr_warn(&quot;radeon: No suitable DMA available\n&quot;);</span>
<span class="quote">&gt;         }</span>
<span class="quote">&gt;         r = pci_set_consistent_dma_mask(rdev-&gt;pdev, DMA_BIT_MASK(dma_bits));</span>
<span class="quote">&gt;         if (r) {</span>
<span class="quote">&gt;                 pci_set_consistent_dma_mask(rdev-&gt;pdev, DMA_BIT_MASK(32));</span>
<span class="quote">&gt; -               printk(KERN_WARNING &quot;radeon: No coherent DMA available.\n&quot;);</span>
<span class="quote">&gt; +               pr_warn(&quot;radeon: No coherent DMA available\n&quot;);</span>
<span class="quote">&gt;         }</span>
<span class="quote">&gt;</span>
<span class="quote">&gt;         /* Registers mapping */</span>
<span class="quote">&gt; diff --git a/drivers/gpu/drm/radeon/radeon_fb.c b/drivers/gpu/drm/radeon/radeon_fb.c</span>
<span class="quote">&gt; index 2be4fe9c7217..53aa94f705a7 100644</span>
<span class="quote">&gt; --- a/drivers/gpu/drm/radeon/radeon_fb.c</span>
<span class="quote">&gt; +++ b/drivers/gpu/drm/radeon/radeon_fb.c</span>
<span class="quote">&gt; @@ -149,8 +149,7 @@ static int radeonfb_create_pinned_object(struct radeon_fbdev *rfbdev,</span>
<span class="quote">&gt;                                        RADEON_GEM_DOMAIN_VRAM,</span>
<span class="quote">&gt;                                        0, true, &amp;gobj);</span>
<span class="quote">&gt;         if (ret) {</span>
<span class="quote">&gt; -               printk(KERN_ERR &quot;failed to allocate framebuffer (%d)\n&quot;,</span>
<span class="quote">&gt; -                      aligned_size);</span>
<span class="quote">&gt; +               pr_err(&quot;failed to allocate framebuffer (%d)\n&quot;, aligned_size);</span>
<span class="quote">&gt;                 return -ENOMEM;</span>
<span class="quote">&gt;         }</span>
<span class="quote">&gt;         rbo = gem_to_radeon_bo(gobj);</span>
<span class="quote">&gt; diff --git a/drivers/gpu/drm/radeon/radeon_gem.c b/drivers/gpu/drm/radeon/radeon_gem.c</span>
<span class="quote">&gt; index 96683f5b2b1b..9b0b123ce079 100644</span>
<span class="quote">&gt; --- a/drivers/gpu/drm/radeon/radeon_gem.c</span>
<span class="quote">&gt; +++ b/drivers/gpu/drm/radeon/radeon_gem.c</span>
<span class="quote">&gt; @@ -106,7 +106,7 @@ static int radeon_gem_set_domain(struct drm_gem_object *gobj,</span>
<span class="quote">&gt;         }</span>
<span class="quote">&gt;         if (!domain) {</span>
<span class="quote">&gt;                 /* Do nothings */</span>
<span class="quote">&gt; -               printk(KERN_WARNING &quot;Set domain without domain !\n&quot;);</span>
<span class="quote">&gt; +               pr_warn(&quot;Set domain without domain !\n&quot;);</span>
<span class="quote">&gt;                 return 0;</span>
<span class="quote">&gt;         }</span>
<span class="quote">&gt;         if (domain == RADEON_GEM_DOMAIN_CPU) {</span>
<span class="quote">&gt; @@ -116,7 +116,7 @@ static int radeon_gem_set_domain(struct drm_gem_object *gobj,</span>
<span class="quote">&gt;                         r = -EBUSY;</span>
<span class="quote">&gt;</span>
<span class="quote">&gt;                 if (r &lt; 0 &amp;&amp; r != -EINTR) {</span>
<span class="quote">&gt; -                       printk(KERN_ERR &quot;Failed to wait for object: %li\n&quot;, r);</span>
<span class="quote">&gt; +                       pr_err(&quot;Failed to wait for object: %li\n&quot;, r);</span>
<span class="quote">&gt;                         return r;</span>
<span class="quote">&gt;                 }</span>
<span class="quote">&gt;         }</span>
<span class="quote">&gt; diff --git a/drivers/gpu/drm/radeon/radeon_test.c b/drivers/gpu/drm/radeon/radeon_test.c</span>
<span class="quote">&gt; index 791818165c76..4fdc7bda7a7d 100644</span>
<span class="quote">&gt; --- a/drivers/gpu/drm/radeon/radeon_test.c</span>
<span class="quote">&gt; +++ b/drivers/gpu/drm/radeon/radeon_test.c</span>
<span class="quote">&gt; @@ -246,7 +246,7 @@ static void radeon_do_test_moves(struct radeon_device *rdev, int flag)</span>
<span class="quote">&gt;  out_cleanup:</span>
<span class="quote">&gt;         kfree(gtt_obj);</span>
<span class="quote">&gt;         if (r) {</span>
<span class="quote">&gt; -               printk(KERN_WARNING &quot;Error while testing BO move.\n&quot;);</span>
<span class="quote">&gt; +               pr_warn(&quot;Error while testing BO move\n&quot;);</span>
<span class="quote">&gt;         }</span>
<span class="quote">&gt;  }</span>
<span class="quote">&gt;</span>
<span class="quote">&gt; @@ -394,7 +394,7 @@ void radeon_test_ring_sync(struct radeon_device *rdev,</span>
<span class="quote">&gt;                 radeon_fence_unref(&amp;fence2);</span>
<span class="quote">&gt;</span>
<span class="quote">&gt;         if (r)</span>
<span class="quote">&gt; -               printk(KERN_WARNING &quot;Error while testing ring sync (%d).\n&quot;, r);</span>
<span class="quote">&gt; +               pr_warn(&quot;Error while testing ring sync (%d)\n&quot;, r);</span>
<span class="quote">&gt;  }</span>
<span class="quote">&gt;</span>
<span class="quote">&gt;  static void radeon_test_ring_sync2(struct radeon_device *rdev,</span>
<span class="quote">&gt; @@ -504,7 +504,7 @@ static void radeon_test_ring_sync2(struct radeon_device *rdev,</span>
<span class="quote">&gt;                 radeon_fence_unref(&amp;fenceB);</span>
<span class="quote">&gt;</span>
<span class="quote">&gt;         if (r)</span>
<span class="quote">&gt; -               printk(KERN_WARNING &quot;Error while testing ring sync (%d).\n&quot;, r);</span>
<span class="quote">&gt; +               pr_warn(&quot;Error while testing ring sync (%d)\n&quot;, r);</span>
<span class="quote">&gt;  }</span>
<span class="quote">&gt;</span>
<span class="quote">&gt;  static bool radeon_test_sync_possible(struct radeon_ring *ringA,</span>
<span class="quote">&gt; diff --git a/drivers/gpu/drm/radeon/rs400.c b/drivers/gpu/drm/radeon/rs400.c</span>
<span class="quote">&gt; index 34e3235f41d2..4121209c183e 100644</span>
<span class="quote">&gt; --- a/drivers/gpu/drm/radeon/rs400.c</span>
<span class="quote">&gt; +++ b/drivers/gpu/drm/radeon/rs400.c</span>
<span class="quote">&gt; @@ -255,8 +255,8 @@ static void rs400_gpu_init(struct radeon_device *rdev)</span>
<span class="quote">&gt;         /* FIXME: is this correct ? */</span>
<span class="quote">&gt;         r420_pipes_init(rdev);</span>
<span class="quote">&gt;         if (rs400_mc_wait_for_idle(rdev)) {</span>
<span class="quote">&gt; -               printk(KERN_WARNING &quot;rs400: Failed to wait MC idle while &quot;</span>
<span class="quote">&gt; -                      &quot;programming pipes. Bad things might happen. %08x\n&quot;, RREG32(RADEON_MC_STATUS));</span>
<span class="quote">&gt; +               pr_warn(&quot;rs400: Failed to wait MC idle while programming pipes. Bad things might happen. %08x\n&quot;,</span>
<span class="quote">&gt; +                       RREG32(RADEON_MC_STATUS));</span>
<span class="quote">&gt;         }</span>
<span class="quote">&gt;  }</span>
<span class="quote">&gt;</span>
<span class="quote">&gt; diff --git a/drivers/gpu/drm/radeon/rs690.c b/drivers/gpu/drm/radeon/rs690.c</span>
<span class="quote">&gt; index 6bc44c24e837..1bae33e43f3c 100644</span>
<span class="quote">&gt; --- a/drivers/gpu/drm/radeon/rs690.c</span>
<span class="quote">&gt; +++ b/drivers/gpu/drm/radeon/rs690.c</span>
<span class="quote">&gt; @@ -52,8 +52,7 @@ static void rs690_gpu_init(struct radeon_device *rdev)</span>
<span class="quote">&gt;         /* FIXME: is this correct ? */</span>
<span class="quote">&gt;         r420_pipes_init(rdev);</span>
<span class="quote">&gt;         if (rs690_mc_wait_for_idle(rdev)) {</span>
<span class="quote">&gt; -               printk(KERN_WARNING &quot;Failed to wait MC idle while &quot;</span>
<span class="quote">&gt; -                      &quot;programming pipes. Bad things might happen.\n&quot;);</span>
<span class="quote">&gt; +               pr_warn(&quot;Failed to wait MC idle while programming pipes. Bad things might happen.\n&quot;);</span>
<span class="quote">&gt;         }</span>
<span class="quote">&gt;  }</span>
<span class="quote">&gt;</span>
<span class="quote">&gt; diff --git a/drivers/gpu/drm/radeon/rv515.c b/drivers/gpu/drm/radeon/rv515.c</span>
<span class="quote">&gt; index c55d653aaf5f..ffbd2c006f60 100644</span>
<span class="quote">&gt; --- a/drivers/gpu/drm/radeon/rv515.c</span>
<span class="quote">&gt; +++ b/drivers/gpu/drm/radeon/rv515.c</span>
<span class="quote">&gt; @@ -154,8 +154,7 @@ static void rv515_gpu_init(struct radeon_device *rdev)</span>
<span class="quote">&gt;         unsigned pipe_select_current, gb_pipe_select, tmp;</span>
<span class="quote">&gt;</span>
<span class="quote">&gt;         if (r100_gui_wait_for_idle(rdev)) {</span>
<span class="quote">&gt; -               printk(KERN_WARNING &quot;Failed to wait GUI idle while &quot;</span>
<span class="quote">&gt; -                      &quot;resetting GPU. Bad things might happen.\n&quot;);</span>
<span class="quote">&gt; +               pr_warn(&quot;Failed to wait GUI idle while resetting GPU. Bad things might happen.\n&quot;);</span>
<span class="quote">&gt;         }</span>
<span class="quote">&gt;         rv515_vga_render_disable(rdev);</span>
<span class="quote">&gt;         r420_pipes_init(rdev);</span>
<span class="quote">&gt; @@ -166,12 +165,10 @@ static void rv515_gpu_init(struct radeon_device *rdev)</span>
<span class="quote">&gt;               (((gb_pipe_select &gt;&gt; 8) &amp; 0xF) &lt;&lt; 4);</span>
<span class="quote">&gt;         WREG32_PLL(0x000D, tmp);</span>
<span class="quote">&gt;         if (r100_gui_wait_for_idle(rdev)) {</span>
<span class="quote">&gt; -               printk(KERN_WARNING &quot;Failed to wait GUI idle while &quot;</span>
<span class="quote">&gt; -                      &quot;resetting GPU. Bad things might happen.\n&quot;);</span>
<span class="quote">&gt; +               pr_warn(&quot;Failed to wait GUI idle while resetting GPU. Bad things might happen.\n&quot;);</span>
<span class="quote">&gt;         }</span>
<span class="quote">&gt;         if (rv515_mc_wait_for_idle(rdev)) {</span>
<span class="quote">&gt; -               printk(KERN_WARNING &quot;Failed to wait MC idle while &quot;</span>
<span class="quote">&gt; -                      &quot;programming pipes. Bad things might happen.\n&quot;);</span>
<span class="quote">&gt; +               pr_warn(&quot;Failed to wait MC idle while programming pipes. Bad things might happen.\n&quot;);</span>
<span class="quote">&gt;         }</span>
<span class="quote">&gt;  }</span>
<span class="quote">&gt;</span>
<span class="quote">&gt; diff --git a/drivers/gpu/drm/radeon/si.c b/drivers/gpu/drm/radeon/si.c</span>
<span class="quote">&gt; index 414776811e71..528e5a49a214 100644</span>
<span class="quote">&gt; --- a/drivers/gpu/drm/radeon/si.c</span>
<span class="quote">&gt; +++ b/drivers/gpu/drm/radeon/si.c</span>
<span class="quote">&gt; @@ -1762,8 +1762,7 @@ static int si_init_microcode(struct radeon_device *rdev)</span>
<span class="quote">&gt;                 if (err)</span>
<span class="quote">&gt;                         goto out;</span>
<span class="quote">&gt;                 if (rdev-&gt;pfp_fw-&gt;size != pfp_req_size) {</span>
<span class="quote">&gt; -                       printk(KERN_ERR</span>
<span class="quote">&gt; -                              &quot;si_cp: Bogus length %zu in firmware \&quot;%s\&quot;\n&quot;,</span>
<span class="quote">&gt; +                       pr_err(&quot;si_cp: Bogus length %zu in firmware \&quot;%s\&quot;\n&quot;,</span>
<span class="quote">&gt;                                rdev-&gt;pfp_fw-&gt;size, fw_name);</span>
<span class="quote">&gt;                         err = -EINVAL;</span>
<span class="quote">&gt;                         goto out;</span>
<span class="quote">&gt; @@ -1771,8 +1770,7 @@ static int si_init_microcode(struct radeon_device *rdev)</span>
<span class="quote">&gt;         } else {</span>
<span class="quote">&gt;                 err = radeon_ucode_validate(rdev-&gt;pfp_fw);</span>
<span class="quote">&gt;                 if (err) {</span>
<span class="quote">&gt; -                       printk(KERN_ERR</span>
<span class="quote">&gt; -                              &quot;si_cp: validation failed for firmware \&quot;%s\&quot;\n&quot;,</span>
<span class="quote">&gt; +                       pr_err(&quot;si_cp: validation failed for firmware \&quot;%s\&quot;\n&quot;,</span>
<span class="quote">&gt;                                fw_name);</span>
<span class="quote">&gt;                         goto out;</span>
<span class="quote">&gt;                 } else {</span>
<span class="quote">&gt; @@ -1788,16 +1786,14 @@ static int si_init_microcode(struct radeon_device *rdev)</span>
<span class="quote">&gt;                 if (err)</span>
<span class="quote">&gt;                         goto out;</span>
<span class="quote">&gt;                 if (rdev-&gt;me_fw-&gt;size != me_req_size) {</span>
<span class="quote">&gt; -                       printk(KERN_ERR</span>
<span class="quote">&gt; -                              &quot;si_cp: Bogus length %zu in firmware \&quot;%s\&quot;\n&quot;,</span>
<span class="quote">&gt; +                       pr_err(&quot;si_cp: Bogus length %zu in firmware \&quot;%s\&quot;\n&quot;,</span>
<span class="quote">&gt;                                rdev-&gt;me_fw-&gt;size, fw_name);</span>
<span class="quote">&gt;                         err = -EINVAL;</span>
<span class="quote">&gt;                 }</span>
<span class="quote">&gt;         } else {</span>
<span class="quote">&gt;                 err = radeon_ucode_validate(rdev-&gt;me_fw);</span>
<span class="quote">&gt;                 if (err) {</span>
<span class="quote">&gt; -                       printk(KERN_ERR</span>
<span class="quote">&gt; -                              &quot;si_cp: validation failed for firmware \&quot;%s\&quot;\n&quot;,</span>
<span class="quote">&gt; +                       pr_err(&quot;si_cp: validation failed for firmware \&quot;%s\&quot;\n&quot;,</span>
<span class="quote">&gt;                                fw_name);</span>
<span class="quote">&gt;                         goto out;</span>
<span class="quote">&gt;                 } else {</span>
<span class="quote">&gt; @@ -1813,16 +1809,14 @@ static int si_init_microcode(struct radeon_device *rdev)</span>
<span class="quote">&gt;                 if (err)</span>
<span class="quote">&gt;                         goto out;</span>
<span class="quote">&gt;                 if (rdev-&gt;ce_fw-&gt;size != ce_req_size) {</span>
<span class="quote">&gt; -                       printk(KERN_ERR</span>
<span class="quote">&gt; -                              &quot;si_cp: Bogus length %zu in firmware \&quot;%s\&quot;\n&quot;,</span>
<span class="quote">&gt; +                       pr_err(&quot;si_cp: Bogus length %zu in firmware \&quot;%s\&quot;\n&quot;,</span>
<span class="quote">&gt;                                rdev-&gt;ce_fw-&gt;size, fw_name);</span>
<span class="quote">&gt;                         err = -EINVAL;</span>
<span class="quote">&gt;                 }</span>
<span class="quote">&gt;         } else {</span>
<span class="quote">&gt;                 err = radeon_ucode_validate(rdev-&gt;ce_fw);</span>
<span class="quote">&gt;                 if (err) {</span>
<span class="quote">&gt; -                       printk(KERN_ERR</span>
<span class="quote">&gt; -                              &quot;si_cp: validation failed for firmware \&quot;%s\&quot;\n&quot;,</span>
<span class="quote">&gt; +                       pr_err(&quot;si_cp: validation failed for firmware \&quot;%s\&quot;\n&quot;,</span>
<span class="quote">&gt;                                fw_name);</span>
<span class="quote">&gt;                         goto out;</span>
<span class="quote">&gt;                 } else {</span>
<span class="quote">&gt; @@ -1838,16 +1832,14 @@ static int si_init_microcode(struct radeon_device *rdev)</span>
<span class="quote">&gt;                 if (err)</span>
<span class="quote">&gt;                         goto out;</span>
<span class="quote">&gt;                 if (rdev-&gt;rlc_fw-&gt;size != rlc_req_size) {</span>
<span class="quote">&gt; -                       printk(KERN_ERR</span>
<span class="quote">&gt; -                              &quot;si_rlc: Bogus length %zu in firmware \&quot;%s\&quot;\n&quot;,</span>
<span class="quote">&gt; +                       pr_err(&quot;si_rlc: Bogus length %zu in firmware \&quot;%s\&quot;\n&quot;,</span>
<span class="quote">&gt;                                rdev-&gt;rlc_fw-&gt;size, fw_name);</span>
<span class="quote">&gt;                         err = -EINVAL;</span>
<span class="quote">&gt;                 }</span>
<span class="quote">&gt;         } else {</span>
<span class="quote">&gt;                 err = radeon_ucode_validate(rdev-&gt;rlc_fw);</span>
<span class="quote">&gt;                 if (err) {</span>
<span class="quote">&gt; -                       printk(KERN_ERR</span>
<span class="quote">&gt; -                              &quot;si_cp: validation failed for firmware \&quot;%s\&quot;\n&quot;,</span>
<span class="quote">&gt; +                       pr_err(&quot;si_cp: validation failed for firmware \&quot;%s\&quot;\n&quot;,</span>
<span class="quote">&gt;                                fw_name);</span>
<span class="quote">&gt;                         goto out;</span>
<span class="quote">&gt;                 } else {</span>
<span class="quote">&gt; @@ -1871,8 +1863,7 @@ static int si_init_microcode(struct radeon_device *rdev)</span>
<span class="quote">&gt;                 }</span>
<span class="quote">&gt;                 if ((rdev-&gt;mc_fw-&gt;size != mc_req_size) &amp;&amp;</span>
<span class="quote">&gt;                     (rdev-&gt;mc_fw-&gt;size != mc2_req_size)) {</span>
<span class="quote">&gt; -                       printk(KERN_ERR</span>
<span class="quote">&gt; -                              &quot;si_mc: Bogus length %zu in firmware \&quot;%s\&quot;\n&quot;,</span>
<span class="quote">&gt; +                       pr_err(&quot;si_mc: Bogus length %zu in firmware \&quot;%s\&quot;\n&quot;,</span>
<span class="quote">&gt;                                rdev-&gt;mc_fw-&gt;size, fw_name);</span>
<span class="quote">&gt;                         err = -EINVAL;</span>
<span class="quote">&gt;                 }</span>
<span class="quote">&gt; @@ -1880,8 +1871,7 @@ static int si_init_microcode(struct radeon_device *rdev)</span>
<span class="quote">&gt;         } else {</span>
<span class="quote">&gt;                 err = radeon_ucode_validate(rdev-&gt;mc_fw);</span>
<span class="quote">&gt;                 if (err) {</span>
<span class="quote">&gt; -                       printk(KERN_ERR</span>
<span class="quote">&gt; -                              &quot;si_cp: validation failed for firmware \&quot;%s\&quot;\n&quot;,</span>
<span class="quote">&gt; +                       pr_err(&quot;si_cp: validation failed for firmware \&quot;%s\&quot;\n&quot;,</span>
<span class="quote">&gt;                                fw_name);</span>
<span class="quote">&gt;                         goto out;</span>
<span class="quote">&gt;                 } else {</span>
<span class="quote">&gt; @@ -1900,23 +1890,19 @@ static int si_init_microcode(struct radeon_device *rdev)</span>
<span class="quote">&gt;                 snprintf(fw_name, sizeof(fw_name), &quot;radeon/%s_smc.bin&quot;, chip_name);</span>
<span class="quote">&gt;                 err = request_firmware(&amp;rdev-&gt;smc_fw, fw_name, rdev-&gt;dev);</span>
<span class="quote">&gt;                 if (err) {</span>
<span class="quote">&gt; -                       printk(KERN_ERR</span>
<span class="quote">&gt; -                              &quot;smc: error loading firmware \&quot;%s\&quot;\n&quot;,</span>
<span class="quote">&gt; -                              fw_name);</span>
<span class="quote">&gt; +                       pr_err(&quot;smc: error loading firmware \&quot;%s\&quot;\n&quot;, fw_name);</span>
<span class="quote">&gt;                         release_firmware(rdev-&gt;smc_fw);</span>
<span class="quote">&gt;                         rdev-&gt;smc_fw = NULL;</span>
<span class="quote">&gt;                         err = 0;</span>
<span class="quote">&gt;                 } else if (rdev-&gt;smc_fw-&gt;size != smc_req_size) {</span>
<span class="quote">&gt; -                       printk(KERN_ERR</span>
<span class="quote">&gt; -                              &quot;si_smc: Bogus length %zu in firmware \&quot;%s\&quot;\n&quot;,</span>
<span class="quote">&gt; +                       pr_err(&quot;si_smc: Bogus length %zu in firmware \&quot;%s\&quot;\n&quot;,</span>
<span class="quote">&gt;                                rdev-&gt;smc_fw-&gt;size, fw_name);</span>
<span class="quote">&gt;                         err = -EINVAL;</span>
<span class="quote">&gt;                 }</span>
<span class="quote">&gt;         } else {</span>
<span class="quote">&gt;                 err = radeon_ucode_validate(rdev-&gt;smc_fw);</span>
<span class="quote">&gt;                 if (err) {</span>
<span class="quote">&gt; -                       printk(KERN_ERR</span>
<span class="quote">&gt; -                              &quot;si_cp: validation failed for firmware \&quot;%s\&quot;\n&quot;,</span>
<span class="quote">&gt; +                       pr_err(&quot;si_cp: validation failed for firmware \&quot;%s\&quot;\n&quot;,</span>
<span class="quote">&gt;                                fw_name);</span>
<span class="quote">&gt;                         goto out;</span>
<span class="quote">&gt;                 } else {</span>
<span class="quote">&gt; @@ -1927,7 +1913,7 @@ static int si_init_microcode(struct radeon_device *rdev)</span>
<span class="quote">&gt;         if (new_fw == 0) {</span>
<span class="quote">&gt;                 rdev-&gt;new_fw = false;</span>
<span class="quote">&gt;         } else if (new_fw &lt; 6) {</span>
<span class="quote">&gt; -               printk(KERN_ERR &quot;si_fw: mixing new and old firmware!\n&quot;);</span>
<span class="quote">&gt; +               pr_err(&quot;si_fw: mixing new and old firmware!\n&quot;);</span>
<span class="quote">&gt;                 err = -EINVAL;</span>
<span class="quote">&gt;         } else {</span>
<span class="quote">&gt;                 rdev-&gt;new_fw = true;</span>
<span class="quote">&gt; @@ -1935,8 +1921,7 @@ static int si_init_microcode(struct radeon_device *rdev)</span>
<span class="quote">&gt;  out:</span>
<span class="quote">&gt;         if (err) {</span>
<span class="quote">&gt;                 if (err != -EINVAL)</span>
<span class="quote">&gt; -                       printk(KERN_ERR</span>
<span class="quote">&gt; -                              &quot;si_cp: Failed to load firmware \&quot;%s\&quot;\n&quot;,</span>
<span class="quote">&gt; +                       pr_err(&quot;si_cp: Failed to load firmware \&quot;%s\&quot;\n&quot;,</span>
<span class="quote">&gt;                                fw_name);</span>
<span class="quote">&gt;                 release_firmware(rdev-&gt;pfp_fw);</span>
<span class="quote">&gt;                 rdev-&gt;pfp_fw = NULL;</span>
<span class="quote">&gt; --</span>
<span class="quote">&gt; 2.10.0.rc2.1.g053435c</span>
<span class="quote">&gt;</span>
<span class="quote">&gt; _______________________________________________</span>
<span class="quote">&gt; dri-devel mailing list</span>
<span class="quote">&gt; dri-devel@lists.freedesktop.org</span>
<span class="quote">&gt; https://lists.freedesktop.org/mailman/listinfo/dri-devel</span>
</pre>
</div>



<h2>Patch</h2>
<div class="patch">
<pre class="content">
<span class="p_header">diff --git a/drivers/gpu/drm/amd/amdgpu/amdgpu.h b/drivers/gpu/drm/amd/amdgpu/amdgpu.h</span>
<span class="p_header">index c1b913541739..3f636632c289 100644</span>
<span class="p_header">--- a/drivers/gpu/drm/amd/amdgpu/amdgpu.h</span>
<span class="p_header">+++ b/drivers/gpu/drm/amd/amdgpu/amdgpu.h</span>
<span class="p_chunk">@@ -1515,7 +1515,8 @@</span> <span class="p_context"> void amdgpu_mm_wdoorbell(struct amdgpu_device *adev, u32 index, u32 v);</span>
  */
 #define RREG32(reg) amdgpu_mm_rreg(adev, (reg), false)
 #define RREG32_IDX(reg) amdgpu_mm_rreg(adev, (reg), true)
<span class="p_del">-#define DREG32(reg) printk(KERN_INFO &quot;REGISTER: &quot; #reg &quot; : 0x%08X\n&quot;, amdgpu_mm_rreg(adev, (reg), false))</span>
<span class="p_add">+#define DREG32(reg) pr_info(&quot;REGISTER: &quot; #reg &quot; : 0x%08X\n&quot;,		\</span>
<span class="p_add">+			    amdgpu_mm_rreg(adev, (reg), false))</span>
 #define WREG32(reg, v) amdgpu_mm_wreg(adev, (reg), (v), false)
 #define WREG32_IDX(reg, v) amdgpu_mm_wreg(adev, (reg), (v), true)
 #define REG_SET(FIELD, v) (((v) &lt;&lt; FIELD##_SHIFT) &amp; FIELD##_MASK)
<span class="p_header">diff --git a/drivers/gpu/drm/amd/amdgpu/amdgpu_afmt.c b/drivers/gpu/drm/amd/amdgpu/amdgpu_afmt.c</span>
<span class="p_header">index 857ba0897159..3889486f71fe 100644</span>
<span class="p_header">--- a/drivers/gpu/drm/amd/amdgpu/amdgpu_afmt.c</span>
<span class="p_header">+++ b/drivers/gpu/drm/amd/amdgpu/amdgpu_afmt.c</span>
<span class="p_chunk">@@ -74,9 +74,9 @@</span> <span class="p_context"> static void amdgpu_afmt_calc_cts(uint32_t clock, int *CTS, int *N, int freq)</span>
 
 	/* Check that we are in spec (not always possible) */
 	if (n &lt; (128*freq/1500))
<span class="p_del">-		printk(KERN_WARNING &quot;Calculated ACR N value is too small. You may experience audio problems.\n&quot;);</span>
<span class="p_add">+		pr_warn(&quot;Calculated ACR N value is too small. You may experience audio problems.\n&quot;);</span>
 	if (n &gt; (128*freq/300))
<span class="p_del">-		printk(KERN_WARNING &quot;Calculated ACR N value is too large. You may experience audio problems.\n&quot;);</span>
<span class="p_add">+		pr_warn(&quot;Calculated ACR N value is too large. You may experience audio problems.\n&quot;);</span>
 
 	*N = n;
 	*CTS = cts;
<span class="p_header">diff --git a/drivers/gpu/drm/amd/amdgpu/amdgpu_atpx_handler.c b/drivers/gpu/drm/amd/amdgpu/amdgpu_atpx_handler.c</span>
<span class="p_header">index 6c343a933182..c13c51af0b68 100644</span>
<span class="p_header">--- a/drivers/gpu/drm/amd/amdgpu/amdgpu_atpx_handler.c</span>
<span class="p_header">+++ b/drivers/gpu/drm/amd/amdgpu/amdgpu_atpx_handler.c</span>
<span class="p_chunk">@@ -583,8 +583,8 @@</span> <span class="p_context"> static bool amdgpu_atpx_detect(void)</span>
 
 	if (has_atpx &amp;&amp; vga_count == 2) {
 		acpi_get_name(amdgpu_atpx_priv.atpx.handle, ACPI_FULL_PATHNAME, &amp;buffer);
<span class="p_del">-		printk(KERN_INFO &quot;vga_switcheroo: detected switching method %s handle\n&quot;,</span>
<span class="p_del">-		       acpi_method_name);</span>
<span class="p_add">+		pr_info(&quot;vga_switcheroo: detected switching method %s handle\n&quot;,</span>
<span class="p_add">+			acpi_method_name);</span>
 		amdgpu_atpx_priv.atpx_detected = true;
 		amdgpu_atpx_priv.bridge_pm_usable = d3_supported;
 		amdgpu_atpx_init();
<span class="p_header">diff --git a/drivers/gpu/drm/amd/amdgpu/amdgpu_device.c b/drivers/gpu/drm/amd/amdgpu/amdgpu_device.c</span>
<span class="p_header">index 6abb238b25c9..85eeae05ac27 100644</span>
<span class="p_header">--- a/drivers/gpu/drm/amd/amdgpu/amdgpu_device.c</span>
<span class="p_header">+++ b/drivers/gpu/drm/amd/amdgpu/amdgpu_device.c</span>
<span class="p_chunk">@@ -1059,7 +1059,7 @@</span> <span class="p_context"> static void amdgpu_switcheroo_set_state(struct pci_dev *pdev, enum vga_switchero</span>
 	if (state == VGA_SWITCHEROO_ON) {
 		unsigned d3_delay = dev-&gt;pdev-&gt;d3_delay;
 
<span class="p_del">-		printk(KERN_INFO &quot;amdgpu: switched on\n&quot;);</span>
<span class="p_add">+		pr_info(&quot;amdgpu: switched on\n&quot;);</span>
 		/* don&#39;t suspend or resume card normally */
 		dev-&gt;switch_power_state = DRM_SWITCH_POWER_CHANGING;
 
<span class="p_chunk">@@ -1070,7 +1070,7 @@</span> <span class="p_context"> static void amdgpu_switcheroo_set_state(struct pci_dev *pdev, enum vga_switchero</span>
 		dev-&gt;switch_power_state = DRM_SWITCH_POWER_ON;
 		drm_kms_helper_poll_enable(dev);
 	} else {
<span class="p_del">-		printk(KERN_INFO &quot;amdgpu: switched off\n&quot;);</span>
<span class="p_add">+		pr_info(&quot;amdgpu: switched off\n&quot;);</span>
 		drm_kms_helper_poll_disable(dev);
 		dev-&gt;switch_power_state = DRM_SWITCH_POWER_CHANGING;
 		amdgpu_device_suspend(dev, true, true);
<span class="p_header">diff --git a/drivers/gpu/drm/amd/amdgpu/amdgpu_fb.c b/drivers/gpu/drm/amd/amdgpu/amdgpu_fb.c</span>
<span class="p_header">index 36ce3cac81ba..35a287280363 100644</span>
<span class="p_header">--- a/drivers/gpu/drm/amd/amdgpu/amdgpu_fb.c</span>
<span class="p_header">+++ b/drivers/gpu/drm/amd/amdgpu/amdgpu_fb.c</span>
<span class="p_chunk">@@ -150,8 +150,7 @@</span> <span class="p_context"> static int amdgpufb_create_pinned_object(struct amdgpu_fbdev *rfbdev,</span>
 				       AMDGPU_GEM_CREATE_VRAM_CONTIGUOUS,
 				       true, &amp;gobj);
 	if (ret) {
<span class="p_del">-		printk(KERN_ERR &quot;failed to allocate framebuffer (%d)\n&quot;,</span>
<span class="p_del">-		       aligned_size);</span>
<span class="p_add">+		pr_err(&quot;failed to allocate framebuffer (%d)\n&quot;, aligned_size);</span>
 		return -ENOMEM;
 	}
 	abo = gem_to_amdgpu_bo(gobj);
<span class="p_header">diff --git a/drivers/gpu/drm/amd/amdgpu/amdgpu_test.c b/drivers/gpu/drm/amd/amdgpu/amdgpu_test.c</span>
<span class="p_header">index e05a24325eeb..b0483e6e536f 100644</span>
<span class="p_header">--- a/drivers/gpu/drm/amd/amdgpu/amdgpu_test.c</span>
<span class="p_header">+++ b/drivers/gpu/drm/amd/amdgpu/amdgpu_test.c</span>
<span class="p_chunk">@@ -228,7 +228,7 @@</span> <span class="p_context"> static void amdgpu_do_test_moves(struct amdgpu_device *adev)</span>
 out_cleanup:
 	kfree(gtt_obj);
 	if (r) {
<span class="p_del">-		printk(KERN_WARNING &quot;Error while testing BO move.\n&quot;);</span>
<span class="p_add">+		pr_warn(&quot;Error while testing BO move\n&quot;);</span>
 	}
 }
 
<span class="p_header">diff --git a/drivers/gpu/drm/amd/amdgpu/atom.c b/drivers/gpu/drm/amd/amdgpu/atom.c</span>
<span class="p_header">index 1b50e6c13fb3..d1444aaca038 100644</span>
<span class="p_header">--- a/drivers/gpu/drm/amd/amdgpu/atom.c</span>
<span class="p_header">+++ b/drivers/gpu/drm/amd/amdgpu/atom.c</span>
<span class="p_chunk">@@ -166,7 +166,7 @@</span> <span class="p_context"> static uint32_t atom_iio_execute(struct atom_context *ctx, int base,</span>
 		case ATOM_IIO_END:
 			return temp;
 		default:
<span class="p_del">-			printk(KERN_INFO &quot;Unknown IIO opcode.\n&quot;);</span>
<span class="p_add">+			pr_info(&quot;Unknown IIO opcode\n&quot;);</span>
 			return 0;
 		}
 }
<span class="p_chunk">@@ -190,22 +190,19 @@</span> <span class="p_context"> static uint32_t atom_get_src_int(atom_exec_context *ctx, uint8_t attr,</span>
 			val = gctx-&gt;card-&gt;reg_read(gctx-&gt;card, idx);
 			break;
 		case ATOM_IO_PCI:
<span class="p_del">-			printk(KERN_INFO</span>
<span class="p_del">-			       &quot;PCI registers are not implemented.\n&quot;);</span>
<span class="p_add">+			pr_info(&quot;PCI registers are not implemented\n&quot;);</span>
 			return 0;
 		case ATOM_IO_SYSIO:
<span class="p_del">-			printk(KERN_INFO</span>
<span class="p_del">-			       &quot;SYSIO registers are not implemented.\n&quot;);</span>
<span class="p_add">+			pr_info(&quot;SYSIO registers are not implemented\n&quot;);</span>
 			return 0;
 		default:
 			if (!(gctx-&gt;io_mode &amp; 0x80)) {
<span class="p_del">-				printk(KERN_INFO &quot;Bad IO mode.\n&quot;);</span>
<span class="p_add">+				pr_info(&quot;Bad IO mode\n&quot;);</span>
 				return 0;
 			}
 			if (!gctx-&gt;iio[gctx-&gt;io_mode &amp; 0x7F]) {
<span class="p_del">-				printk(KERN_INFO</span>
<span class="p_del">-				       &quot;Undefined indirect IO read method %d.\n&quot;,</span>
<span class="p_del">-				       gctx-&gt;io_mode &amp; 0x7F);</span>
<span class="p_add">+				pr_info(&quot;Undefined indirect IO read method %d\n&quot;,</span>
<span class="p_add">+					gctx-&gt;io_mode &amp; 0x7F);</span>
 				return 0;
 			}
 			val =
<span class="p_chunk">@@ -469,22 +466,19 @@</span> <span class="p_context"> static void atom_put_dst(atom_exec_context *ctx, int arg, uint8_t attr,</span>
 				gctx-&gt;card-&gt;reg_write(gctx-&gt;card, idx, val);
 			break;
 		case ATOM_IO_PCI:
<span class="p_del">-			printk(KERN_INFO</span>
<span class="p_del">-			       &quot;PCI registers are not implemented.\n&quot;);</span>
<span class="p_add">+			pr_info(&quot;PCI registers are not implemented\n&quot;);</span>
 			return;
 		case ATOM_IO_SYSIO:
<span class="p_del">-			printk(KERN_INFO</span>
<span class="p_del">-			       &quot;SYSIO registers are not implemented.\n&quot;);</span>
<span class="p_add">+			pr_info(&quot;SYSIO registers are not implemented\n&quot;);</span>
 			return;
 		default:
 			if (!(gctx-&gt;io_mode &amp; 0x80)) {
<span class="p_del">-				printk(KERN_INFO &quot;Bad IO mode.\n&quot;);</span>
<span class="p_add">+				pr_info(&quot;Bad IO mode\n&quot;);</span>
 				return;
 			}
 			if (!gctx-&gt;iio[gctx-&gt;io_mode &amp; 0xFF]) {
<span class="p_del">-				printk(KERN_INFO</span>
<span class="p_del">-				       &quot;Undefined indirect IO write method %d.\n&quot;,</span>
<span class="p_del">-				       gctx-&gt;io_mode &amp; 0x7F);</span>
<span class="p_add">+				pr_info(&quot;Undefined indirect IO write method %d\n&quot;,</span>
<span class="p_add">+					gctx-&gt;io_mode &amp; 0x7F);</span>
 				return;
 			}
 			atom_iio_execute(gctx, gctx-&gt;iio[gctx-&gt;io_mode &amp; 0xFF],
<span class="p_chunk">@@ -850,17 +844,17 @@</span> <span class="p_context"> static void atom_op_postcard(atom_exec_context *ctx, int *ptr, int arg)</span>
 
 static void atom_op_repeat(atom_exec_context *ctx, int *ptr, int arg)
 {
<span class="p_del">-	printk(KERN_INFO &quot;unimplemented!\n&quot;);</span>
<span class="p_add">+	pr_info(&quot;unimplemented!\n&quot;);</span>
 }
 
 static void atom_op_restorereg(atom_exec_context *ctx, int *ptr, int arg)
 {
<span class="p_del">-	printk(KERN_INFO &quot;unimplemented!\n&quot;);</span>
<span class="p_add">+	pr_info(&quot;unimplemented!\n&quot;);</span>
 }
 
 static void atom_op_savereg(atom_exec_context *ctx, int *ptr, int arg)
 {
<span class="p_del">-	printk(KERN_INFO &quot;unimplemented!\n&quot;);</span>
<span class="p_add">+	pr_info(&quot;unimplemented!\n&quot;);</span>
 }
 
 static void atom_op_setdatablock(atom_exec_context *ctx, int *ptr, int arg)
<span class="p_chunk">@@ -1023,7 +1017,7 @@</span> <span class="p_context"> static void atom_op_switch(atom_exec_context *ctx, int *ptr, int arg)</span>
 			}
 			(*ptr) += 2;
 		} else {
<span class="p_del">-			printk(KERN_INFO &quot;Bad case.\n&quot;);</span>
<span class="p_add">+			pr_info(&quot;Bad case\n&quot;);</span>
 			return;
 		}
 	(*ptr) += 2;
<span class="p_chunk">@@ -1316,14 +1310,14 @@</span> <span class="p_context"> struct atom_context *amdgpu_atom_parse(struct card_info *card, void *bios)</span>
 	ctx-&gt;bios = bios;
 
 	if (CU16(0) != ATOM_BIOS_MAGIC) {
<span class="p_del">-		printk(KERN_INFO &quot;Invalid BIOS magic.\n&quot;);</span>
<span class="p_add">+		pr_info(&quot;Invalid BIOS magic\n&quot;);</span>
 		kfree(ctx);
 		return NULL;
 	}
 	if (strncmp
 	    (CSTR(ATOM_ATI_MAGIC_PTR), ATOM_ATI_MAGIC,
 	     strlen(ATOM_ATI_MAGIC))) {
<span class="p_del">-		printk(KERN_INFO &quot;Invalid ATI magic.\n&quot;);</span>
<span class="p_add">+		pr_info(&quot;Invalid ATI magic\n&quot;);</span>
 		kfree(ctx);
 		return NULL;
 	}
<span class="p_chunk">@@ -1332,7 +1326,7 @@</span> <span class="p_context"> struct atom_context *amdgpu_atom_parse(struct card_info *card, void *bios)</span>
 	if (strncmp
 	    (CSTR(base + ATOM_ROM_MAGIC_PTR), ATOM_ROM_MAGIC,
 	     strlen(ATOM_ROM_MAGIC))) {
<span class="p_del">-		printk(KERN_INFO &quot;Invalid ATOM magic.\n&quot;);</span>
<span class="p_add">+		pr_info(&quot;Invalid ATOM magic\n&quot;);</span>
 		kfree(ctx);
 		return NULL;
 	}
<span class="p_chunk">@@ -1356,7 +1350,7 @@</span> <span class="p_context"> struct atom_context *amdgpu_atom_parse(struct card_info *card, void *bios)</span>
 			break;
 		}
 	}
<span class="p_del">-	printk(KERN_INFO &quot;ATOM BIOS: %s\n&quot;, name);</span>
<span class="p_add">+	pr_info(&quot;ATOM BIOS: %s\n&quot;, name);</span>
 
 	return ctx;
 }
<span class="p_header">diff --git a/drivers/gpu/drm/amd/amdgpu/ci_dpm.c b/drivers/gpu/drm/amd/amdgpu/ci_dpm.c</span>
<span class="p_header">index f97ecb49972e..b59e7e5d7279 100644</span>
<span class="p_header">--- a/drivers/gpu/drm/amd/amdgpu/ci_dpm.c</span>
<span class="p_header">+++ b/drivers/gpu/drm/amd/amdgpu/ci_dpm.c</span>
<span class="p_chunk">@@ -5804,9 +5804,7 @@</span> <span class="p_context"> static int ci_dpm_init_microcode(struct amdgpu_device *adev)</span>
 
 out:
 	if (err) {
<span class="p_del">-		printk(KERN_ERR</span>
<span class="p_del">-		       &quot;cik_smc: Failed to load firmware \&quot;%s\&quot;\n&quot;,</span>
<span class="p_del">-		       fw_name);</span>
<span class="p_add">+		pr_err(&quot;cik_smc: Failed to load firmware \&quot;%s\&quot;\n&quot;, fw_name);</span>
 		release_firmware(adev-&gt;pm.fw);
 		adev-&gt;pm.fw = NULL;
 	}
<span class="p_header">diff --git a/drivers/gpu/drm/amd/amdgpu/cik_sdma.c b/drivers/gpu/drm/amd/amdgpu/cik_sdma.c</span>
<span class="p_header">index 810bba533975..c33bc1bb4655 100644</span>
<span class="p_header">--- a/drivers/gpu/drm/amd/amdgpu/cik_sdma.c</span>
<span class="p_header">+++ b/drivers/gpu/drm/amd/amdgpu/cik_sdma.c</span>
<span class="p_chunk">@@ -142,9 +142,7 @@</span> <span class="p_context"> static int cik_sdma_init_microcode(struct amdgpu_device *adev)</span>
 	}
 out:
 	if (err) {
<span class="p_del">-		printk(KERN_ERR</span>
<span class="p_del">-		       &quot;cik_sdma: Failed to load firmware \&quot;%s\&quot;\n&quot;,</span>
<span class="p_del">-		       fw_name);</span>
<span class="p_add">+		pr_err(&quot;cik_sdma: Failed to load firmware \&quot;%s\&quot;\n&quot;, fw_name);</span>
 		for (i = 0; i &lt; adev-&gt;sdma.num_instances; i++) {
 			release_firmware(adev-&gt;sdma.instance[i].fw);
 			adev-&gt;sdma.instance[i].fw = NULL;
<span class="p_header">diff --git a/drivers/gpu/drm/amd/amdgpu/gfx_v6_0.c b/drivers/gpu/drm/amd/amdgpu/gfx_v6_0.c</span>
<span class="p_header">index 2086e7e68de4..c8f9c1414940 100644</span>
<span class="p_header">--- a/drivers/gpu/drm/amd/amdgpu/gfx_v6_0.c</span>
<span class="p_header">+++ b/drivers/gpu/drm/amd/amdgpu/gfx_v6_0.c</span>
<span class="p_chunk">@@ -378,9 +378,7 @@</span> <span class="p_context"> static int gfx_v6_0_init_microcode(struct amdgpu_device *adev)</span>
 
 out:
 	if (err) {
<span class="p_del">-		printk(KERN_ERR</span>
<span class="p_del">-		       &quot;gfx6: Failed to load firmware \&quot;%s\&quot;\n&quot;,</span>
<span class="p_del">-		       fw_name);</span>
<span class="p_add">+		pr_err(&quot;gfx6: Failed to load firmware \&quot;%s\&quot;\n&quot;, fw_name);</span>
 		release_firmware(adev-&gt;gfx.pfp_fw);
 		adev-&gt;gfx.pfp_fw = NULL;
 		release_firmware(adev-&gt;gfx.me_fw);
<span class="p_header">diff --git a/drivers/gpu/drm/amd/amdgpu/gfx_v7_0.c b/drivers/gpu/drm/amd/amdgpu/gfx_v7_0.c</span>
<span class="p_header">index 1f9354541f29..82c574cf3658 100644</span>
<span class="p_header">--- a/drivers/gpu/drm/amd/amdgpu/gfx_v7_0.c</span>
<span class="p_header">+++ b/drivers/gpu/drm/amd/amdgpu/gfx_v7_0.c</span>
<span class="p_chunk">@@ -972,9 +972,7 @@</span> <span class="p_context"> static int gfx_v7_0_init_microcode(struct amdgpu_device *adev)</span>
 
 out:
 	if (err) {
<span class="p_del">-		printk(KERN_ERR</span>
<span class="p_del">-		       &quot;gfx7: Failed to load firmware \&quot;%s\&quot;\n&quot;,</span>
<span class="p_del">-		       fw_name);</span>
<span class="p_add">+		pr_err(&quot;gfx7: Failed to load firmware \&quot;%s\&quot;\n&quot;, fw_name);</span>
 		release_firmware(adev-&gt;gfx.pfp_fw);
 		adev-&gt;gfx.pfp_fw = NULL;
 		release_firmware(adev-&gt;gfx.me_fw);
<span class="p_header">diff --git a/drivers/gpu/drm/amd/amdgpu/gmc_v7_0.c b/drivers/gpu/drm/amd/amdgpu/gmc_v7_0.c</span>
<span class="p_header">index 8d05e0c4e3d7..52594b9fd182 100644</span>
<span class="p_header">--- a/drivers/gpu/drm/amd/amdgpu/gmc_v7_0.c</span>
<span class="p_header">+++ b/drivers/gpu/drm/amd/amdgpu/gmc_v7_0.c</span>
<span class="p_chunk">@@ -161,9 +161,7 @@</span> <span class="p_context"> static int gmc_v7_0_init_microcode(struct amdgpu_device *adev)</span>
 
 out:
 	if (err) {
<span class="p_del">-		printk(KERN_ERR</span>
<span class="p_del">-		       &quot;cik_mc: Failed to load firmware \&quot;%s\&quot;\n&quot;,</span>
<span class="p_del">-		       fw_name);</span>
<span class="p_add">+		pr_err(&quot;cik_mc: Failed to load firmware \&quot;%s\&quot;\n&quot;, fw_name);</span>
 		release_firmware(adev-&gt;mc.fw);
 		adev-&gt;mc.fw = NULL;
 	}
<span class="p_chunk">@@ -938,12 +936,12 @@</span> <span class="p_context"> static int gmc_v7_0_sw_init(void *handle)</span>
 	if (r) {
 		adev-&gt;need_dma32 = true;
 		dma_bits = 32;
<span class="p_del">-		printk(KERN_WARNING &quot;amdgpu: No suitable DMA available.\n&quot;);</span>
<span class="p_add">+		pr_warn(&quot;amdgpu: No suitable DMA available\n&quot;);</span>
 	}
 	r = pci_set_consistent_dma_mask(adev-&gt;pdev, DMA_BIT_MASK(dma_bits));
 	if (r) {
 		pci_set_consistent_dma_mask(adev-&gt;pdev, DMA_BIT_MASK(32));
<span class="p_del">-		printk(KERN_WARNING &quot;amdgpu: No coherent DMA available.\n&quot;);</span>
<span class="p_add">+		pr_warn(&quot;amdgpu: No coherent DMA available\n&quot;);</span>
 	}
 
 	r = gmc_v7_0_init_microcode(adev);
<span class="p_header">diff --git a/drivers/gpu/drm/amd/amdgpu/gmc_v8_0.c b/drivers/gpu/drm/amd/amdgpu/gmc_v8_0.c</span>
<span class="p_header">index 7669b3259f35..421507aea36a 100644</span>
<span class="p_header">--- a/drivers/gpu/drm/amd/amdgpu/gmc_v8_0.c</span>
<span class="p_header">+++ b/drivers/gpu/drm/amd/amdgpu/gmc_v8_0.c</span>
<span class="p_chunk">@@ -245,9 +245,7 @@</span> <span class="p_context"> static int gmc_v8_0_init_microcode(struct amdgpu_device *adev)</span>
 
 out:
 	if (err) {
<span class="p_del">-		printk(KERN_ERR</span>
<span class="p_del">-		       &quot;mc: Failed to load firmware \&quot;%s\&quot;\n&quot;,</span>
<span class="p_del">-		       fw_name);</span>
<span class="p_add">+		pr_err(&quot;mc: Failed to load firmware \&quot;%s\&quot;\n&quot;, fw_name);</span>
 		release_firmware(adev-&gt;mc.fw);
 		adev-&gt;mc.fw = NULL;
 	}
<span class="p_chunk">@@ -950,12 +948,12 @@</span> <span class="p_context"> static int gmc_v8_0_sw_init(void *handle)</span>
 	if (r) {
 		adev-&gt;need_dma32 = true;
 		dma_bits = 32;
<span class="p_del">-		printk(KERN_WARNING &quot;amdgpu: No suitable DMA available.\n&quot;);</span>
<span class="p_add">+		pr_warn(&quot;amdgpu: No suitable DMA available\n&quot;);</span>
 	}
 	r = pci_set_consistent_dma_mask(adev-&gt;pdev, DMA_BIT_MASK(dma_bits));
 	if (r) {
 		pci_set_consistent_dma_mask(adev-&gt;pdev, DMA_BIT_MASK(32));
<span class="p_del">-		printk(KERN_WARNING &quot;amdgpu: No coherent DMA available.\n&quot;);</span>
<span class="p_add">+		pr_warn(&quot;amdgpu: No coherent DMA available\n&quot;);</span>
 	}
 
 	r = gmc_v8_0_init_microcode(adev);
<span class="p_header">diff --git a/drivers/gpu/drm/amd/amdgpu/sdma_v2_4.c b/drivers/gpu/drm/amd/amdgpu/sdma_v2_4.c</span>
<span class="p_header">index 896be64b7013..a881cf475a19 100644</span>
<span class="p_header">--- a/drivers/gpu/drm/amd/amdgpu/sdma_v2_4.c</span>
<span class="p_header">+++ b/drivers/gpu/drm/amd/amdgpu/sdma_v2_4.c</span>
<span class="p_chunk">@@ -170,9 +170,7 @@</span> <span class="p_context"> static int sdma_v2_4_init_microcode(struct amdgpu_device *adev)</span>
 
 out:
 	if (err) {
<span class="p_del">-		printk(KERN_ERR</span>
<span class="p_del">-		       &quot;sdma_v2_4: Failed to load firmware \&quot;%s\&quot;\n&quot;,</span>
<span class="p_del">-		       fw_name);</span>
<span class="p_add">+		pr_err(&quot;sdma_v2_4: Failed to load firmware \&quot;%s\&quot;\n&quot;, fw_name);</span>
 		for (i = 0; i &lt; adev-&gt;sdma.num_instances; i++) {
 			release_firmware(adev-&gt;sdma.instance[i].fw);
 			adev-&gt;sdma.instance[i].fw = NULL;
<span class="p_header">diff --git a/drivers/gpu/drm/amd/amdgpu/sdma_v3_0.c b/drivers/gpu/drm/amd/amdgpu/sdma_v3_0.c</span>
<span class="p_header">index 011800f621c6..255fab5fceee 100644</span>
<span class="p_header">--- a/drivers/gpu/drm/amd/amdgpu/sdma_v3_0.c</span>
<span class="p_header">+++ b/drivers/gpu/drm/amd/amdgpu/sdma_v3_0.c</span>
<span class="p_chunk">@@ -321,9 +321,7 @@</span> <span class="p_context"> static int sdma_v3_0_init_microcode(struct amdgpu_device *adev)</span>
 	}
 out:
 	if (err) {
<span class="p_del">-		printk(KERN_ERR</span>
<span class="p_del">-		       &quot;sdma_v3_0: Failed to load firmware \&quot;%s\&quot;\n&quot;,</span>
<span class="p_del">-		       fw_name);</span>
<span class="p_add">+		pr_err(&quot;sdma_v3_0: Failed to load firmware \&quot;%s\&quot;\n&quot;, fw_name);</span>
 		for (i = 0; i &lt; adev-&gt;sdma.num_instances; i++) {
 			release_firmware(adev-&gt;sdma.instance[i].fw);
 			adev-&gt;sdma.instance[i].fw = NULL;
<span class="p_header">diff --git a/drivers/gpu/drm/amd/include/amd_pcie_helpers.h b/drivers/gpu/drm/amd/include/amd_pcie_helpers.h</span>
<span class="p_header">index 5725bf85eacc..7e5a965450c7 100644</span>
<span class="p_header">--- a/drivers/gpu/drm/amd/include/amd_pcie_helpers.h</span>
<span class="p_header">+++ b/drivers/gpu/drm/amd/include/amd_pcie_helpers.h</span>
<span class="p_chunk">@@ -82,7 +82,7 @@</span> <span class="p_context"> static inline uint16_t get_pcie_lane_support(uint32_t pcie_lane_width_cap,</span>
 
 	switch (pcie_lane_width_cap) {
 	case 0:
<span class="p_del">-		printk(KERN_ERR &quot;No valid PCIE lane width reported&quot;);</span>
<span class="p_add">+		pr_err(&quot;No valid PCIE lane width reported\n&quot;);</span>
 		break;
 	case CAIL_PCIE_LINK_WIDTH_SUPPORT_X1:
 		new_pcie_lanes = 1;
<span class="p_chunk">@@ -126,7 +126,7 @@</span> <span class="p_context"> static inline uint16_t get_pcie_lane_support(uint32_t pcie_lane_width_cap,</span>
 							}
 						}
 						if (j &gt; 7)
<span class="p_del">-							printk(KERN_ERR &quot;Cannot find a valid PCIE lane width!&quot;);</span>
<span class="p_add">+							pr_err(&quot;Cannot find a valid PCIE lane width!\n&quot;);</span>
 					}
 				}
 				break;
<span class="p_header">diff --git a/drivers/gpu/drm/amd/powerplay/hwmgr/smu7_hwmgr.c b/drivers/gpu/drm/amd/powerplay/hwmgr/smu7_hwmgr.c</span>
<span class="p_header">index f75ee33ec5bb..418f87e805b2 100644</span>
<span class="p_header">--- a/drivers/gpu/drm/amd/powerplay/hwmgr/smu7_hwmgr.c</span>
<span class="p_header">+++ b/drivers/gpu/drm/amd/powerplay/hwmgr/smu7_hwmgr.c</span>
<span class="p_chunk">@@ -1544,7 +1544,7 @@</span> <span class="p_context"> static int smu7_get_evv_voltages(struct pp_hwmgr *hwmgr)</span>
 					if (vddc &gt;= 2000 || vddc == 0)
 						return -EINVAL;
 				} else {
<span class="p_del">-					pr_warning(&quot;failed to retrieving EVV voltage!\n&quot;);</span>
<span class="p_add">+					pr_warn(&quot;failed to retrieving EVV voltage!\n&quot;);</span>
 					continue;
 				}
 
<span class="p_header">diff --git a/drivers/gpu/drm/amd/powerplay/inc/pp_debug.h b/drivers/gpu/drm/amd/powerplay/inc/pp_debug.h</span>
<span class="p_header">index 072880130cfb..f3f9ebb631a5 100644</span>
<span class="p_header">--- a/drivers/gpu/drm/amd/powerplay/inc/pp_debug.h</span>
<span class="p_header">+++ b/drivers/gpu/drm/amd/powerplay/inc/pp_debug.h</span>
<span class="p_chunk">@@ -37,7 +37,7 @@</span> <span class="p_context"></span>
 #define PP_ASSERT_WITH_CODE(cond, msg, code)	\
 	do {					\
 		if (!(cond)) {			\
<span class="p_del">-			pr_warning(&quot;%s\n&quot;, msg);	\</span>
<span class="p_add">+			pr_warn(&quot;%s\n&quot;, msg);	\</span>
 			code;			\
 		}				\
 	} while (0)
<span class="p_header">diff --git a/drivers/gpu/drm/amd/powerplay/smumgr/fiji_smc.c b/drivers/gpu/drm/amd/powerplay/smumgr/fiji_smc.c</span>
<span class="p_header">index 0f7a77b7312e..5450f5ef8e89 100644</span>
<span class="p_header">--- a/drivers/gpu/drm/amd/powerplay/smumgr/fiji_smc.c</span>
<span class="p_header">+++ b/drivers/gpu/drm/amd/powerplay/smumgr/fiji_smc.c</span>
<span class="p_chunk">@@ -2131,7 +2131,7 @@</span> <span class="p_context"> uint32_t fiji_get_offsetof(uint32_t type, uint32_t member)</span>
 			return offsetof(SMU73_Discrete_DpmTable, LowSclkInterruptThreshold);
 		}
 	}
<span class="p_del">-	pr_warning(&quot;can&#39;t get the offset of type %x member %x\n&quot;, type, member);</span>
<span class="p_add">+	pr_warn(&quot;can&#39;t get the offset of type %x member %x\n&quot;, type, member);</span>
 	return 0;
 }
 
<span class="p_chunk">@@ -2156,7 +2156,7 @@</span> <span class="p_context"> uint32_t fiji_get_mac_definition(uint32_t value)</span>
 		return SMU73_MAX_LEVELS_MVDD;
 	}
 
<span class="p_del">-	pr_warning(&quot;can&#39;t get the mac of %x\n&quot;, value);</span>
<span class="p_add">+	pr_warn(&quot;can&#39;t get the mac of %x\n&quot;, value);</span>
 	return 0;
 }
 
<span class="p_header">diff --git a/drivers/gpu/drm/amd/powerplay/smumgr/iceland_smc.c b/drivers/gpu/drm/amd/powerplay/smumgr/iceland_smc.c</span>
<span class="p_header">index ad82161df831..b609ab7e9b97 100644</span>
<span class="p_header">--- a/drivers/gpu/drm/amd/powerplay/smumgr/iceland_smc.c</span>
<span class="p_header">+++ b/drivers/gpu/drm/amd/powerplay/smumgr/iceland_smc.c</span>
<span class="p_chunk">@@ -122,7 +122,7 @@</span> <span class="p_context"> static void iceland_initialize_power_tune_defaults(struct pp_hwmgr *hwmgr)</span>
 		break;
 	default:
 		smu_data-&gt;power_tune_defaults = &amp;defaults_iceland;
<span class="p_del">-		pr_warning(&quot;Unknown V.I. Device ID.\n&quot;);</span>
<span class="p_add">+		pr_warn(&quot;Unknown V.I. Device ID\n&quot;);</span>
 		break;
 	}
 	return;
<span class="p_chunk">@@ -378,7 +378,7 @@</span> <span class="p_context"> static int iceland_get_std_voltage_value_sidd(struct pp_hwmgr *hwmgr,</span>
 			return -EINVAL);
 
 	if (NULL == hwmgr-&gt;dyn_state.cac_leakage_table) {
<span class="p_del">-		pr_warning(&quot;CAC Leakage Table does not exist, using vddc.\n&quot;);</span>
<span class="p_add">+		pr_warn(&quot;CAC Leakage Table does not exist, using vddc\n&quot;);</span>
 		return 0;
 	}
 
<span class="p_chunk">@@ -394,7 +394,7 @@</span> <span class="p_context"> static int iceland_get_std_voltage_value_sidd(struct pp_hwmgr *hwmgr,</span>
 				*lo = hwmgr-&gt;dyn_state.cac_leakage_table-&gt;entries[v_index].Vddc * VOLTAGE_SCALE;
 				*hi = (uint16_t)(hwmgr-&gt;dyn_state.cac_leakage_table-&gt;entries[v_index].Leakage * VOLTAGE_SCALE);
 			} else {
<span class="p_del">-				pr_warning(&quot;Index from SCLK/VDDC Dependency Table exceeds the CAC Leakage Table index, using maximum index from CAC table.\n&quot;);</span>
<span class="p_add">+				pr_warn(&quot;Index from SCLK/VDDC Dependency Table exceeds the CAC Leakage Table index, using maximum index from CAC table\n&quot;);</span>
 				*lo = hwmgr-&gt;dyn_state.cac_leakage_table-&gt;entries[hwmgr-&gt;dyn_state.cac_leakage_table-&gt;count - 1].Vddc * VOLTAGE_SCALE;
 				*hi = (uint16_t)(hwmgr-&gt;dyn_state.cac_leakage_table-&gt;entries[hwmgr-&gt;dyn_state.cac_leakage_table-&gt;count - 1].Leakage * VOLTAGE_SCALE);
 			}
<span class="p_chunk">@@ -414,7 +414,7 @@</span> <span class="p_context"> static int iceland_get_std_voltage_value_sidd(struct pp_hwmgr *hwmgr,</span>
 					*lo = hwmgr-&gt;dyn_state.cac_leakage_table-&gt;entries[v_index].Vddc * VOLTAGE_SCALE;
 					*hi = (uint16_t)(hwmgr-&gt;dyn_state.cac_leakage_table-&gt;entries[v_index].Leakage) * VOLTAGE_SCALE;
 				} else {
<span class="p_del">-					pr_warning(&quot;Index from SCLK/VDDC Dependency Table exceeds the CAC Leakage Table index in second look up, using maximum index from CAC table.&quot;);</span>
<span class="p_add">+					pr_warn(&quot;Index from SCLK/VDDC Dependency Table exceeds the CAC Leakage Table index in second look up, using maximum index from CAC table\n&quot;);</span>
 					*lo = hwmgr-&gt;dyn_state.cac_leakage_table-&gt;entries[hwmgr-&gt;dyn_state.cac_leakage_table-&gt;count - 1].Vddc * VOLTAGE_SCALE;
 					*hi = (uint16_t)(hwmgr-&gt;dyn_state.cac_leakage_table-&gt;entries[hwmgr-&gt;dyn_state.cac_leakage_table-&gt;count - 1].Leakage * VOLTAGE_SCALE);
 				}
<span class="p_chunk">@@ -423,7 +423,7 @@</span> <span class="p_context"> static int iceland_get_std_voltage_value_sidd(struct pp_hwmgr *hwmgr,</span>
 		}
 
 		if (!vol_found)
<span class="p_del">-			pr_warning(&quot;Unable to get std_vddc from SCLK/VDDC Dependency Table, using vddc.\n&quot;);</span>
<span class="p_add">+			pr_warn(&quot;Unable to get std_vddc from SCLK/VDDC Dependency Table, using vddc\n&quot;);</span>
 	}
 
 	return 0;
<span class="p_chunk">@@ -2146,7 +2146,7 @@</span> <span class="p_context"> uint32_t iceland_get_offsetof(uint32_t type, uint32_t member)</span>
 			return offsetof(SMU71_Discrete_DpmTable, LowSclkInterruptThreshold);
 		}
 	}
<span class="p_del">-	pr_warning(&quot;can&#39;t get the offset of type %x member %x\n&quot;, type, member);</span>
<span class="p_add">+	pr_warn(&quot;can&#39;t get the offset of type %x member %x\n&quot;, type, member);</span>
 	return 0;
 }
 
<span class="p_chunk">@@ -2169,7 +2169,7 @@</span> <span class="p_context"> uint32_t iceland_get_mac_definition(uint32_t value)</span>
 		return SMU71_MAX_LEVELS_MVDD;
 	}
 
<span class="p_del">-	pr_warning(&quot;can&#39;t get the mac of %x\n&quot;, value);</span>
<span class="p_add">+	pr_warn(&quot;can&#39;t get the mac of %x\n&quot;, value);</span>
 	return 0;
 }
 
<span class="p_header">diff --git a/drivers/gpu/drm/amd/powerplay/smumgr/polaris10_smc.c b/drivers/gpu/drm/amd/powerplay/smumgr/polaris10_smc.c</span>
<span class="p_header">index 80e2329a1b9e..c9ca7a1ac171 100644</span>
<span class="p_header">--- a/drivers/gpu/drm/amd/powerplay/smumgr/polaris10_smc.c</span>
<span class="p_header">+++ b/drivers/gpu/drm/amd/powerplay/smumgr/polaris10_smc.c</span>
<span class="p_chunk">@@ -2184,7 +2184,7 @@</span> <span class="p_context"> uint32_t polaris10_get_offsetof(uint32_t type, uint32_t member)</span>
 			return offsetof(SMU74_Discrete_DpmTable, LowSclkInterruptThreshold);
 		}
 	}
<span class="p_del">-	pr_warning(&quot;can&#39;t get the offset of type %x member %x\n&quot;, type, member);</span>
<span class="p_add">+	pr_warn(&quot;can&#39;t get the offset of type %x member %x\n&quot;, type, member);</span>
 	return 0;
 }
 
<span class="p_chunk">@@ -2211,7 +2211,7 @@</span> <span class="p_context"> uint32_t polaris10_get_mac_definition(uint32_t value)</span>
 		return SMU7_UVD_MCLK_HANDSHAKE_DISABLE;
 	}
 
<span class="p_del">-	pr_warning(&quot;can&#39;t get the mac of %x\n&quot;, value);</span>
<span class="p_add">+	pr_warn(&quot;can&#39;t get the mac of %x\n&quot;, value);</span>
 	return 0;
 }
 
<span class="p_header">diff --git a/drivers/gpu/drm/amd/powerplay/smumgr/tonga_smc.c b/drivers/gpu/drm/amd/powerplay/smumgr/tonga_smc.c</span>
<span class="p_header">index 331b0aba4a13..4d1439a498eb 100644</span>
<span class="p_header">--- a/drivers/gpu/drm/amd/powerplay/smumgr/tonga_smc.c</span>
<span class="p_header">+++ b/drivers/gpu/drm/amd/powerplay/smumgr/tonga_smc.c</span>
<span class="p_chunk">@@ -2657,7 +2657,7 @@</span> <span class="p_context"> uint32_t tonga_get_offsetof(uint32_t type, uint32_t member)</span>
 			return offsetof(SMU72_Discrete_DpmTable, LowSclkInterruptThreshold);
 		}
 	}
<span class="p_del">-	pr_warning(&quot;can&#39;t get the offset of type %x member %x\n&quot;, type, member);</span>
<span class="p_add">+	pr_warn(&quot;can&#39;t get the offset of type %x member %x\n&quot;, type, member);</span>
 	return 0;
 }
 
<span class="p_chunk">@@ -2681,7 +2681,7 @@</span> <span class="p_context"> uint32_t tonga_get_mac_definition(uint32_t value)</span>
 	case SMU_MAX_LEVELS_MVDD:
 		return SMU72_MAX_LEVELS_MVDD;
 	}
<span class="p_del">-	pr_warning(&quot;can&#39;t get the mac value %x\n&quot;, value);</span>
<span class="p_add">+	pr_warn(&quot;can&#39;t get the mac value %x\n&quot;, value);</span>
 
 	return 0;
 }
<span class="p_header">diff --git a/drivers/gpu/drm/radeon/atom.c b/drivers/gpu/drm/radeon/atom.c</span>
<span class="p_header">index f66c33dd21a3..6a2e091aa7b6 100644</span>
<span class="p_header">--- a/drivers/gpu/drm/radeon/atom.c</span>
<span class="p_header">+++ b/drivers/gpu/drm/radeon/atom.c</span>
<span class="p_chunk">@@ -170,7 +170,7 @@</span> <span class="p_context"> static uint32_t atom_iio_execute(struct atom_context *ctx, int base,</span>
 		case ATOM_IIO_END:
 			return temp;
 		default:
<span class="p_del">-			printk(KERN_INFO &quot;Unknown IIO opcode.\n&quot;);</span>
<span class="p_add">+			pr_info(&quot;Unknown IIO opcode\n&quot;);</span>
 			return 0;
 		}
 }
<span class="p_chunk">@@ -194,22 +194,19 @@</span> <span class="p_context"> static uint32_t atom_get_src_int(atom_exec_context *ctx, uint8_t attr,</span>
 			val = gctx-&gt;card-&gt;reg_read(gctx-&gt;card, idx);
 			break;
 		case ATOM_IO_PCI:
<span class="p_del">-			printk(KERN_INFO</span>
<span class="p_del">-			       &quot;PCI registers are not implemented.\n&quot;);</span>
<span class="p_add">+			pr_info(&quot;PCI registers are not implemented\n&quot;);</span>
 			return 0;
 		case ATOM_IO_SYSIO:
<span class="p_del">-			printk(KERN_INFO</span>
<span class="p_del">-			       &quot;SYSIO registers are not implemented.\n&quot;);</span>
<span class="p_add">+			pr_info(&quot;SYSIO registers are not implemented\n&quot;);</span>
 			return 0;
 		default:
 			if (!(gctx-&gt;io_mode &amp; 0x80)) {
<span class="p_del">-				printk(KERN_INFO &quot;Bad IO mode.\n&quot;);</span>
<span class="p_add">+				pr_info(&quot;Bad IO mode\n&quot;);</span>
 				return 0;
 			}
 			if (!gctx-&gt;iio[gctx-&gt;io_mode &amp; 0x7F]) {
<span class="p_del">-				printk(KERN_INFO</span>
<span class="p_del">-				       &quot;Undefined indirect IO read method %d.\n&quot;,</span>
<span class="p_del">-				       gctx-&gt;io_mode &amp; 0x7F);</span>
<span class="p_add">+				pr_info(&quot;Undefined indirect IO read method %d\n&quot;,</span>
<span class="p_add">+					gctx-&gt;io_mode &amp; 0x7F);</span>
 				return 0;
 			}
 			val =
<span class="p_chunk">@@ -473,22 +470,19 @@</span> <span class="p_context"> static void atom_put_dst(atom_exec_context *ctx, int arg, uint8_t attr,</span>
 				gctx-&gt;card-&gt;reg_write(gctx-&gt;card, idx, val);
 			break;
 		case ATOM_IO_PCI:
<span class="p_del">-			printk(KERN_INFO</span>
<span class="p_del">-			       &quot;PCI registers are not implemented.\n&quot;);</span>
<span class="p_add">+			pr_info(&quot;PCI registers are not implemented\n&quot;);</span>
 			return;
 		case ATOM_IO_SYSIO:
<span class="p_del">-			printk(KERN_INFO</span>
<span class="p_del">-			       &quot;SYSIO registers are not implemented.\n&quot;);</span>
<span class="p_add">+			pr_info(&quot;SYSIO registers are not implemented\n&quot;);</span>
 			return;
 		default:
 			if (!(gctx-&gt;io_mode &amp; 0x80)) {
<span class="p_del">-				printk(KERN_INFO &quot;Bad IO mode.\n&quot;);</span>
<span class="p_add">+				pr_info(&quot;Bad IO mode\n&quot;);</span>
 				return;
 			}
 			if (!gctx-&gt;iio[gctx-&gt;io_mode &amp; 0xFF]) {
<span class="p_del">-				printk(KERN_INFO</span>
<span class="p_del">-				       &quot;Undefined indirect IO write method %d.\n&quot;,</span>
<span class="p_del">-				       gctx-&gt;io_mode &amp; 0x7F);</span>
<span class="p_add">+				pr_info(&quot;Undefined indirect IO write method %d\n&quot;,</span>
<span class="p_add">+					gctx-&gt;io_mode &amp; 0x7F);</span>
 				return;
 			}
 			atom_iio_execute(gctx, gctx-&gt;iio[gctx-&gt;io_mode &amp; 0xFF],
<span class="p_chunk">@@ -819,17 +813,17 @@</span> <span class="p_context"> static void atom_op_postcard(atom_exec_context *ctx, int *ptr, int arg)</span>
 
 static void atom_op_repeat(atom_exec_context *ctx, int *ptr, int arg)
 {
<span class="p_del">-	printk(KERN_INFO &quot;unimplemented!\n&quot;);</span>
<span class="p_add">+	pr_info(&quot;unimplemented!\n&quot;);</span>
 }
 
 static void atom_op_restorereg(atom_exec_context *ctx, int *ptr, int arg)
 {
<span class="p_del">-	printk(KERN_INFO &quot;unimplemented!\n&quot;);</span>
<span class="p_add">+	pr_info(&quot;unimplemented!\n&quot;);</span>
 }
 
 static void atom_op_savereg(atom_exec_context *ctx, int *ptr, int arg)
 {
<span class="p_del">-	printk(KERN_INFO &quot;unimplemented!\n&quot;);</span>
<span class="p_add">+	pr_info(&quot;unimplemented!\n&quot;);</span>
 }
 
 static void atom_op_setdatablock(atom_exec_context *ctx, int *ptr, int arg)
<span class="p_chunk">@@ -992,7 +986,7 @@</span> <span class="p_context"> static void atom_op_switch(atom_exec_context *ctx, int *ptr, int arg)</span>
 			}
 			(*ptr) += 2;
 		} else {
<span class="p_del">-			printk(KERN_INFO &quot;Bad case.\n&quot;);</span>
<span class="p_add">+			pr_info(&quot;Bad case\n&quot;);</span>
 			return;
 		}
 	(*ptr) += 2;
<span class="p_chunk">@@ -1026,7 +1020,7 @@</span> <span class="p_context"> static void atom_op_xor(atom_exec_context *ctx, int *ptr, int arg)</span>
 
 static void atom_op_debug(atom_exec_context *ctx, int *ptr, int arg)
 {
<span class="p_del">-	printk(KERN_INFO &quot;unimplemented!\n&quot;);</span>
<span class="p_add">+	pr_info(&quot;unimplemented!\n&quot;);</span>
 }
 
 static struct {
<span class="p_chunk">@@ -1280,14 +1274,14 @@</span> <span class="p_context"> struct atom_context *atom_parse(struct card_info *card, void *bios)</span>
 	ctx-&gt;bios = bios;
 
 	if (CU16(0) != ATOM_BIOS_MAGIC) {
<span class="p_del">-		printk(KERN_INFO &quot;Invalid BIOS magic.\n&quot;);</span>
<span class="p_add">+		pr_info(&quot;Invalid BIOS magic\n&quot;);</span>
 		kfree(ctx);
 		return NULL;
 	}
 	if (strncmp
 	    (CSTR(ATOM_ATI_MAGIC_PTR), ATOM_ATI_MAGIC,
 	     strlen(ATOM_ATI_MAGIC))) {
<span class="p_del">-		printk(KERN_INFO &quot;Invalid ATI magic.\n&quot;);</span>
<span class="p_add">+		pr_info(&quot;Invalid ATI magic\n&quot;);</span>
 		kfree(ctx);
 		return NULL;
 	}
<span class="p_chunk">@@ -1296,7 +1290,7 @@</span> <span class="p_context"> struct atom_context *atom_parse(struct card_info *card, void *bios)</span>
 	if (strncmp
 	    (CSTR(base + ATOM_ROM_MAGIC_PTR), ATOM_ROM_MAGIC,
 	     strlen(ATOM_ROM_MAGIC))) {
<span class="p_del">-		printk(KERN_INFO &quot;Invalid ATOM magic.\n&quot;);</span>
<span class="p_add">+		pr_info(&quot;Invalid ATOM magic\n&quot;);</span>
 		kfree(ctx);
 		return NULL;
 	}
<span class="p_chunk">@@ -1320,7 +1314,7 @@</span> <span class="p_context"> struct atom_context *atom_parse(struct card_info *card, void *bios)</span>
 			break;
 		}
 	}
<span class="p_del">-	printk(KERN_INFO &quot;ATOM BIOS: %s\n&quot;, name);</span>
<span class="p_add">+	pr_info(&quot;ATOM BIOS: %s\n&quot;, name);</span>
 
 	return ctx;
 }
<span class="p_header">diff --git a/drivers/gpu/drm/radeon/cik.c b/drivers/gpu/drm/radeon/cik.c</span>
<span class="p_header">index f6ff41a0eed6..b338d58e281f 100644</span>
<span class="p_header">--- a/drivers/gpu/drm/radeon/cik.c</span>
<span class="p_header">+++ b/drivers/gpu/drm/radeon/cik.c</span>
<span class="p_chunk">@@ -2069,8 +2069,7 @@</span> <span class="p_context"> static int cik_init_microcode(struct radeon_device *rdev)</span>
 		if (err)
 			goto out;
 		if (rdev-&gt;pfp_fw-&gt;size != pfp_req_size) {
<span class="p_del">-			printk(KERN_ERR</span>
<span class="p_del">-			       &quot;cik_cp: Bogus length %zu in firmware \&quot;%s\&quot;\n&quot;,</span>
<span class="p_add">+			pr_err(&quot;cik_cp: Bogus length %zu in firmware \&quot;%s\&quot;\n&quot;,</span>
 			       rdev-&gt;pfp_fw-&gt;size, fw_name);
 			err = -EINVAL;
 			goto out;
<span class="p_chunk">@@ -2078,8 +2077,7 @@</span> <span class="p_context"> static int cik_init_microcode(struct radeon_device *rdev)</span>
 	} else {
 		err = radeon_ucode_validate(rdev-&gt;pfp_fw);
 		if (err) {
<span class="p_del">-			printk(KERN_ERR</span>
<span class="p_del">-			       &quot;cik_fw: validation failed for firmware \&quot;%s\&quot;\n&quot;,</span>
<span class="p_add">+			pr_err(&quot;cik_fw: validation failed for firmware \&quot;%s\&quot;\n&quot;,</span>
 			       fw_name);
 			goto out;
 		} else {
<span class="p_chunk">@@ -2095,16 +2093,14 @@</span> <span class="p_context"> static int cik_init_microcode(struct radeon_device *rdev)</span>
 		if (err)
 			goto out;
 		if (rdev-&gt;me_fw-&gt;size != me_req_size) {
<span class="p_del">-			printk(KERN_ERR</span>
<span class="p_del">-			       &quot;cik_cp: Bogus length %zu in firmware \&quot;%s\&quot;\n&quot;,</span>
<span class="p_add">+			pr_err(&quot;cik_cp: Bogus length %zu in firmware \&quot;%s\&quot;\n&quot;,</span>
 			       rdev-&gt;me_fw-&gt;size, fw_name);
 			err = -EINVAL;
 		}
 	} else {
 		err = radeon_ucode_validate(rdev-&gt;me_fw);
 		if (err) {
<span class="p_del">-			printk(KERN_ERR</span>
<span class="p_del">-			       &quot;cik_fw: validation failed for firmware \&quot;%s\&quot;\n&quot;,</span>
<span class="p_add">+			pr_err(&quot;cik_fw: validation failed for firmware \&quot;%s\&quot;\n&quot;,</span>
 			       fw_name);
 			goto out;
 		} else {
<span class="p_chunk">@@ -2120,16 +2116,14 @@</span> <span class="p_context"> static int cik_init_microcode(struct radeon_device *rdev)</span>
 		if (err)
 			goto out;
 		if (rdev-&gt;ce_fw-&gt;size != ce_req_size) {
<span class="p_del">-			printk(KERN_ERR</span>
<span class="p_del">-			       &quot;cik_cp: Bogus length %zu in firmware \&quot;%s\&quot;\n&quot;,</span>
<span class="p_add">+			pr_err(&quot;cik_cp: Bogus length %zu in firmware \&quot;%s\&quot;\n&quot;,</span>
 			       rdev-&gt;ce_fw-&gt;size, fw_name);
 			err = -EINVAL;
 		}
 	} else {
 		err = radeon_ucode_validate(rdev-&gt;ce_fw);
 		if (err) {
<span class="p_del">-			printk(KERN_ERR</span>
<span class="p_del">-			       &quot;cik_fw: validation failed for firmware \&quot;%s\&quot;\n&quot;,</span>
<span class="p_add">+			pr_err(&quot;cik_fw: validation failed for firmware \&quot;%s\&quot;\n&quot;,</span>
 			       fw_name);
 			goto out;
 		} else {
<span class="p_chunk">@@ -2145,16 +2139,14 @@</span> <span class="p_context"> static int cik_init_microcode(struct radeon_device *rdev)</span>
 		if (err)
 			goto out;
 		if (rdev-&gt;mec_fw-&gt;size != mec_req_size) {
<span class="p_del">-			printk(KERN_ERR</span>
<span class="p_del">-			       &quot;cik_cp: Bogus length %zu in firmware \&quot;%s\&quot;\n&quot;,</span>
<span class="p_add">+			pr_err(&quot;cik_cp: Bogus length %zu in firmware \&quot;%s\&quot;\n&quot;,</span>
 			       rdev-&gt;mec_fw-&gt;size, fw_name);
 			err = -EINVAL;
 		}
 	} else {
 		err = radeon_ucode_validate(rdev-&gt;mec_fw);
 		if (err) {
<span class="p_del">-			printk(KERN_ERR</span>
<span class="p_del">-			       &quot;cik_fw: validation failed for firmware \&quot;%s\&quot;\n&quot;,</span>
<span class="p_add">+			pr_err(&quot;cik_fw: validation failed for firmware \&quot;%s\&quot;\n&quot;,</span>
 			       fw_name);
 			goto out;
 		} else {
<span class="p_chunk">@@ -2185,16 +2177,14 @@</span> <span class="p_context"> static int cik_init_microcode(struct radeon_device *rdev)</span>
 		if (err)
 			goto out;
 		if (rdev-&gt;rlc_fw-&gt;size != rlc_req_size) {
<span class="p_del">-			printk(KERN_ERR</span>
<span class="p_del">-			       &quot;cik_rlc: Bogus length %zu in firmware \&quot;%s\&quot;\n&quot;,</span>
<span class="p_add">+			pr_err(&quot;cik_rlc: Bogus length %zu in firmware \&quot;%s\&quot;\n&quot;,</span>
 			       rdev-&gt;rlc_fw-&gt;size, fw_name);
 			err = -EINVAL;
 		}
 	} else {
 		err = radeon_ucode_validate(rdev-&gt;rlc_fw);
 		if (err) {
<span class="p_del">-			printk(KERN_ERR</span>
<span class="p_del">-			       &quot;cik_fw: validation failed for firmware \&quot;%s\&quot;\n&quot;,</span>
<span class="p_add">+			pr_err(&quot;cik_fw: validation failed for firmware \&quot;%s\&quot;\n&quot;,</span>
 			       fw_name);
 			goto out;
 		} else {
<span class="p_chunk">@@ -2210,16 +2200,14 @@</span> <span class="p_context"> static int cik_init_microcode(struct radeon_device *rdev)</span>
 		if (err)
 			goto out;
 		if (rdev-&gt;sdma_fw-&gt;size != sdma_req_size) {
<span class="p_del">-			printk(KERN_ERR</span>
<span class="p_del">-			       &quot;cik_sdma: Bogus length %zu in firmware \&quot;%s\&quot;\n&quot;,</span>
<span class="p_add">+			pr_err(&quot;cik_sdma: Bogus length %zu in firmware \&quot;%s\&quot;\n&quot;,</span>
 			       rdev-&gt;sdma_fw-&gt;size, fw_name);
 			err = -EINVAL;
 		}
 	} else {
 		err = radeon_ucode_validate(rdev-&gt;sdma_fw);
 		if (err) {
<span class="p_del">-			printk(KERN_ERR</span>
<span class="p_del">-			       &quot;cik_fw: validation failed for firmware \&quot;%s\&quot;\n&quot;,</span>
<span class="p_add">+			pr_err(&quot;cik_fw: validation failed for firmware \&quot;%s\&quot;\n&quot;,</span>
 			       fw_name);
 			goto out;
 		} else {
<span class="p_chunk">@@ -2242,8 +2230,7 @@</span> <span class="p_context"> static int cik_init_microcode(struct radeon_device *rdev)</span>
 			}
 			if ((rdev-&gt;mc_fw-&gt;size != mc_req_size) &amp;&amp;
 			    (rdev-&gt;mc_fw-&gt;size != mc2_req_size)){
<span class="p_del">-				printk(KERN_ERR</span>
<span class="p_del">-				       &quot;cik_mc: Bogus length %zu in firmware \&quot;%s\&quot;\n&quot;,</span>
<span class="p_add">+				pr_err(&quot;cik_mc: Bogus length %zu in firmware \&quot;%s\&quot;\n&quot;,</span>
 				       rdev-&gt;mc_fw-&gt;size, fw_name);
 				err = -EINVAL;
 			}
<span class="p_chunk">@@ -2251,8 +2238,7 @@</span> <span class="p_context"> static int cik_init_microcode(struct radeon_device *rdev)</span>
 		} else {
 			err = radeon_ucode_validate(rdev-&gt;mc_fw);
 			if (err) {
<span class="p_del">-				printk(KERN_ERR</span>
<span class="p_del">-				       &quot;cik_fw: validation failed for firmware \&quot;%s\&quot;\n&quot;,</span>
<span class="p_add">+				pr_err(&quot;cik_fw: validation failed for firmware \&quot;%s\&quot;\n&quot;,</span>
 				       fw_name);
 				goto out;
 			} else {
<span class="p_chunk">@@ -2269,23 +2255,20 @@</span> <span class="p_context"> static int cik_init_microcode(struct radeon_device *rdev)</span>
 			snprintf(fw_name, sizeof(fw_name), &quot;radeon/%s_smc.bin&quot;, chip_name);
 			err = request_firmware(&amp;rdev-&gt;smc_fw, fw_name, rdev-&gt;dev);
 			if (err) {
<span class="p_del">-				printk(KERN_ERR</span>
<span class="p_del">-				       &quot;smc: error loading firmware \&quot;%s\&quot;\n&quot;,</span>
<span class="p_add">+				pr_err(&quot;smc: error loading firmware \&quot;%s\&quot;\n&quot;,</span>
 				       fw_name);
 				release_firmware(rdev-&gt;smc_fw);
 				rdev-&gt;smc_fw = NULL;
 				err = 0;
 			} else if (rdev-&gt;smc_fw-&gt;size != smc_req_size) {
<span class="p_del">-				printk(KERN_ERR</span>
<span class="p_del">-				       &quot;cik_smc: Bogus length %zu in firmware \&quot;%s\&quot;\n&quot;,</span>
<span class="p_add">+				pr_err(&quot;cik_smc: Bogus length %zu in firmware \&quot;%s\&quot;\n&quot;,</span>
 				       rdev-&gt;smc_fw-&gt;size, fw_name);
 				err = -EINVAL;
 			}
 		} else {
 			err = radeon_ucode_validate(rdev-&gt;smc_fw);
 			if (err) {
<span class="p_del">-				printk(KERN_ERR</span>
<span class="p_del">-				       &quot;cik_fw: validation failed for firmware \&quot;%s\&quot;\n&quot;,</span>
<span class="p_add">+				pr_err(&quot;cik_fw: validation failed for firmware \&quot;%s\&quot;\n&quot;,</span>
 				       fw_name);
 				goto out;
 			} else {
<span class="p_chunk">@@ -2297,7 +2280,7 @@</span> <span class="p_context"> static int cik_init_microcode(struct radeon_device *rdev)</span>
 	if (new_fw == 0) {
 		rdev-&gt;new_fw = false;
 	} else if (new_fw &lt; num_fw) {
<span class="p_del">-		printk(KERN_ERR &quot;ci_fw: mixing new and old firmware!\n&quot;);</span>
<span class="p_add">+		pr_err(&quot;ci_fw: mixing new and old firmware!\n&quot;);</span>
 		err = -EINVAL;
 	} else {
 		rdev-&gt;new_fw = true;
<span class="p_chunk">@@ -2306,8 +2289,7 @@</span> <span class="p_context"> static int cik_init_microcode(struct radeon_device *rdev)</span>
 out:
 	if (err) {
 		if (err != -EINVAL)
<span class="p_del">-			printk(KERN_ERR</span>
<span class="p_del">-			       &quot;cik_cp: Failed to load firmware \&quot;%s\&quot;\n&quot;,</span>
<span class="p_add">+			pr_err(&quot;cik_cp: Failed to load firmware \&quot;%s\&quot;\n&quot;,</span>
 			       fw_name);
 		release_firmware(rdev-&gt;pfp_fw);
 		rdev-&gt;pfp_fw = NULL;
<span class="p_header">diff --git a/drivers/gpu/drm/radeon/evergreen.c b/drivers/gpu/drm/radeon/evergreen.c</span>
<span class="p_header">index 0b6b5766216f..d1b1e0cc3c25 100644</span>
<span class="p_header">--- a/drivers/gpu/drm/radeon/evergreen.c</span>
<span class="p_header">+++ b/drivers/gpu/drm/radeon/evergreen.c</span>
<span class="p_chunk">@@ -2486,7 +2486,7 @@</span> <span class="p_context"> void evergreen_pcie_gart_tlb_flush(struct radeon_device *rdev)</span>
 		tmp = RREG32(VM_CONTEXT0_REQUEST_RESPONSE);
 		tmp = (tmp &amp; RESPONSE_TYPE_MASK) &gt;&gt; RESPONSE_TYPE_SHIFT;
 		if (tmp == 2) {
<span class="p_del">-			printk(KERN_WARNING &quot;[drm] r600 flush TLB failed\n&quot;);</span>
<span class="p_add">+			pr_warn(&quot;[drm] r600 flush TLB failed\n&quot;);</span>
 			return;
 		}
 		if (tmp) {
<span class="p_header">diff --git a/drivers/gpu/drm/radeon/evergreen_cs.c b/drivers/gpu/drm/radeon/evergreen_cs.c</span>
<span class="p_header">index f8b05090232a..54324330b91f 100644</span>
<span class="p_header">--- a/drivers/gpu/drm/radeon/evergreen_cs.c</span>
<span class="p_header">+++ b/drivers/gpu/drm/radeon/evergreen_cs.c</span>
<span class="p_chunk">@@ -1061,8 +1061,7 @@</span> <span class="p_context"> static int evergreen_packet0_check(struct radeon_cs_parser *p,</span>
 		}
 		break;
 	default:
<span class="p_del">-		printk(KERN_ERR &quot;Forbidden register 0x%04X in cs at %d\n&quot;,</span>
<span class="p_del">-		       reg, idx);</span>
<span class="p_add">+		pr_err(&quot;Forbidden register 0x%04X in cs at %d\n&quot;, reg, idx);</span>
 		return -EINVAL;
 	}
 	return 0;
<span class="p_chunk">@@ -2776,7 +2775,7 @@</span> <span class="p_context"> int evergreen_cs_parse(struct radeon_cs_parser *p)</span>
 	} while (p-&gt;idx &lt; p-&gt;chunk_ib-&gt;length_dw);
 #if 0
 	for (r = 0; r &lt; p-&gt;ib.length_dw; r++) {
<span class="p_del">-		printk(KERN_INFO &quot;%05d  0x%08X\n&quot;, r, p-&gt;ib.ptr[r]);</span>
<span class="p_add">+		pr_info(&quot;%05d  0x%08X\n&quot;, r, p-&gt;ib.ptr[r]);</span>
 		mdelay(1);
 	}
 #endif
<span class="p_chunk">@@ -3215,7 +3214,7 @@</span> <span class="p_context"> int evergreen_dma_cs_parse(struct radeon_cs_parser *p)</span>
 	} while (p-&gt;idx &lt; p-&gt;chunk_ib-&gt;length_dw);
 #if 0
 	for (r = 0; r &lt; p-&gt;ib-&gt;length_dw; r++) {
<span class="p_del">-		printk(KERN_INFO &quot;%05d  0x%08X\n&quot;, r, p-&gt;ib.ptr[r]);</span>
<span class="p_add">+		pr_info(&quot;%05d  0x%08X\n&quot;, r, p-&gt;ib.ptr[r]);</span>
 		mdelay(1);
 	}
 #endif
<span class="p_header">diff --git a/drivers/gpu/drm/radeon/ni.c b/drivers/gpu/drm/radeon/ni.c</span>
<span class="p_header">index a0d4a0522fdc..9eccd0c81d88 100644</span>
<span class="p_header">--- a/drivers/gpu/drm/radeon/ni.c</span>
<span class="p_header">+++ b/drivers/gpu/drm/radeon/ni.c</span>
<span class="p_chunk">@@ -774,8 +774,7 @@</span> <span class="p_context"> int ni_init_microcode(struct radeon_device *rdev)</span>
 	if (err)
 		goto out;
 	if (rdev-&gt;pfp_fw-&gt;size != pfp_req_size) {
<span class="p_del">-		printk(KERN_ERR</span>
<span class="p_del">-		       &quot;ni_cp: Bogus length %zu in firmware \&quot;%s\&quot;\n&quot;,</span>
<span class="p_add">+		pr_err(&quot;ni_cp: Bogus length %zu in firmware \&quot;%s\&quot;\n&quot;,</span>
 		       rdev-&gt;pfp_fw-&gt;size, fw_name);
 		err = -EINVAL;
 		goto out;
<span class="p_chunk">@@ -786,8 +785,7 @@</span> <span class="p_context"> int ni_init_microcode(struct radeon_device *rdev)</span>
 	if (err)
 		goto out;
 	if (rdev-&gt;me_fw-&gt;size != me_req_size) {
<span class="p_del">-		printk(KERN_ERR</span>
<span class="p_del">-		       &quot;ni_cp: Bogus length %zu in firmware \&quot;%s\&quot;\n&quot;,</span>
<span class="p_add">+		pr_err(&quot;ni_cp: Bogus length %zu in firmware \&quot;%s\&quot;\n&quot;,</span>
 		       rdev-&gt;me_fw-&gt;size, fw_name);
 		err = -EINVAL;
 	}
<span class="p_chunk">@@ -797,8 +795,7 @@</span> <span class="p_context"> int ni_init_microcode(struct radeon_device *rdev)</span>
 	if (err)
 		goto out;
 	if (rdev-&gt;rlc_fw-&gt;size != rlc_req_size) {
<span class="p_del">-		printk(KERN_ERR</span>
<span class="p_del">-		       &quot;ni_rlc: Bogus length %zu in firmware \&quot;%s\&quot;\n&quot;,</span>
<span class="p_add">+		pr_err(&quot;ni_rlc: Bogus length %zu in firmware \&quot;%s\&quot;\n&quot;,</span>
 		       rdev-&gt;rlc_fw-&gt;size, fw_name);
 		err = -EINVAL;
 	}
<span class="p_chunk">@@ -810,8 +807,7 @@</span> <span class="p_context"> int ni_init_microcode(struct radeon_device *rdev)</span>
 		if (err)
 			goto out;
 		if (rdev-&gt;mc_fw-&gt;size != mc_req_size) {
<span class="p_del">-			printk(KERN_ERR</span>
<span class="p_del">-			       &quot;ni_mc: Bogus length %zu in firmware \&quot;%s\&quot;\n&quot;,</span>
<span class="p_add">+			pr_err(&quot;ni_mc: Bogus length %zu in firmware \&quot;%s\&quot;\n&quot;,</span>
 			       rdev-&gt;mc_fw-&gt;size, fw_name);
 			err = -EINVAL;
 		}
<span class="p_chunk">@@ -821,15 +817,12 @@</span> <span class="p_context"> int ni_init_microcode(struct radeon_device *rdev)</span>
 		snprintf(fw_name, sizeof(fw_name), &quot;radeon/%s_smc.bin&quot;, chip_name);
 		err = request_firmware(&amp;rdev-&gt;smc_fw, fw_name, rdev-&gt;dev);
 		if (err) {
<span class="p_del">-			printk(KERN_ERR</span>
<span class="p_del">-			       &quot;smc: error loading firmware \&quot;%s\&quot;\n&quot;,</span>
<span class="p_del">-			       fw_name);</span>
<span class="p_add">+			pr_err(&quot;smc: error loading firmware \&quot;%s\&quot;\n&quot;, fw_name);</span>
 			release_firmware(rdev-&gt;smc_fw);
 			rdev-&gt;smc_fw = NULL;
 			err = 0;
 		} else if (rdev-&gt;smc_fw-&gt;size != smc_req_size) {
<span class="p_del">-			printk(KERN_ERR</span>
<span class="p_del">-			       &quot;ni_mc: Bogus length %zu in firmware \&quot;%s\&quot;\n&quot;,</span>
<span class="p_add">+			pr_err(&quot;ni_mc: Bogus length %zu in firmware \&quot;%s\&quot;\n&quot;,</span>
 			       rdev-&gt;mc_fw-&gt;size, fw_name);
 			err = -EINVAL;
 		}
<span class="p_chunk">@@ -838,8 +831,7 @@</span> <span class="p_context"> int ni_init_microcode(struct radeon_device *rdev)</span>
 out:
 	if (err) {
 		if (err != -EINVAL)
<span class="p_del">-			printk(KERN_ERR</span>
<span class="p_del">-			       &quot;ni_cp: Failed to load firmware \&quot;%s\&quot;\n&quot;,</span>
<span class="p_add">+			pr_err(&quot;ni_cp: Failed to load firmware \&quot;%s\&quot;\n&quot;,</span>
 			       fw_name);
 		release_firmware(rdev-&gt;pfp_fw);
 		rdev-&gt;pfp_fw = NULL;
<span class="p_header">diff --git a/drivers/gpu/drm/radeon/r100.c b/drivers/gpu/drm/radeon/r100.c</span>
<span class="p_header">index e3399310d41d..aefca0b03f38 100644</span>
<span class="p_header">--- a/drivers/gpu/drm/radeon/r100.c</span>
<span class="p_header">+++ b/drivers/gpu/drm/radeon/r100.c</span>
<span class="p_chunk">@@ -1042,11 +1042,9 @@</span> <span class="p_context"> static int r100_cp_init_microcode(struct radeon_device *rdev)</span>
 
 	err = request_firmware(&amp;rdev-&gt;me_fw, fw_name, rdev-&gt;dev);
 	if (err) {
<span class="p_del">-		printk(KERN_ERR &quot;radeon_cp: Failed to load firmware \&quot;%s\&quot;\n&quot;,</span>
<span class="p_del">-		       fw_name);</span>
<span class="p_add">+		pr_err(&quot;radeon_cp: Failed to load firmware \&quot;%s\&quot;\n&quot;, fw_name);</span>
 	} else if (rdev-&gt;me_fw-&gt;size % 8) {
<span class="p_del">-		printk(KERN_ERR</span>
<span class="p_del">-		       &quot;radeon_cp: Bogus length %zu in firmware \&quot;%s\&quot;\n&quot;,</span>
<span class="p_add">+		pr_err(&quot;radeon_cp: Bogus length %zu in firmware \&quot;%s\&quot;\n&quot;,</span>
 		       rdev-&gt;me_fw-&gt;size, fw_name);
 		err = -EINVAL;
 		release_firmware(rdev-&gt;me_fw);
<span class="p_chunk">@@ -1087,8 +1085,7 @@</span> <span class="p_context"> static void r100_cp_load_microcode(struct radeon_device *rdev)</span>
 	int i, size;
 
 	if (r100_gui_wait_for_idle(rdev)) {
<span class="p_del">-		printk(KERN_WARNING &quot;Failed to wait GUI idle while &quot;</span>
<span class="p_del">-		       &quot;programming pipes. Bad things might happen.\n&quot;);</span>
<span class="p_add">+		pr_warn(&quot;Failed to wait GUI idle while programming pipes. Bad things might happen.\n&quot;);</span>
 	}
 
 	if (rdev-&gt;me_fw) {
<span class="p_chunk">@@ -1246,8 +1243,7 @@</span> <span class="p_context"> void r100_cp_disable(struct radeon_device *rdev)</span>
 	WREG32(RADEON_CP_CSQ_CNTL, 0);
 	WREG32(R_000770_SCRATCH_UMSK, 0);
 	if (r100_gui_wait_for_idle(rdev)) {
<span class="p_del">-		printk(KERN_WARNING &quot;Failed to wait GUI idle while &quot;</span>
<span class="p_del">-		       &quot;programming pipes. Bad things might happen.\n&quot;);</span>
<span class="p_add">+		pr_warn(&quot;Failed to wait GUI idle while programming pipes. Bad things might happen.\n&quot;);</span>
 	}
 }
 
<span class="p_chunk">@@ -1881,8 +1877,7 @@</span> <span class="p_context"> static int r100_packet0_check(struct radeon_cs_parser *p,</span>
 		track-&gt;tex_dirty = true;
 		break;
 	default:
<span class="p_del">-		printk(KERN_ERR &quot;Forbidden register 0x%04X in cs at %d\n&quot;,</span>
<span class="p_del">-		       reg, idx);</span>
<span class="p_add">+		pr_err(&quot;Forbidden register 0x%04X in cs at %d\n&quot;, reg, idx);</span>
 		return -EINVAL;
 	}
 	return 0;
<span class="p_chunk">@@ -2486,8 +2481,7 @@</span> <span class="p_context"> int r100_gui_wait_for_idle(struct radeon_device *rdev)</span>
 	uint32_t tmp;
 
 	if (r100_rbbm_fifo_wait_for_entry(rdev, 64)) {
<span class="p_del">-		printk(KERN_WARNING &quot;radeon: wait for empty RBBM fifo failed !&quot;</span>
<span class="p_del">-		       &quot; Bad things might happen.\n&quot;);</span>
<span class="p_add">+		pr_warn(&quot;radeon: wait for empty RBBM fifo failed! Bad things might happen.\n&quot;);</span>
 	}
 	for (i = 0; i &lt; rdev-&gt;usec_timeout; i++) {
 		tmp = RREG32(RADEON_RBBM_STATUS);
<span class="p_header">diff --git a/drivers/gpu/drm/radeon/r200.c b/drivers/gpu/drm/radeon/r200.c</span>
<span class="p_header">index c70e6d5bcd19..c22321cc5a41 100644</span>
<span class="p_header">--- a/drivers/gpu/drm/radeon/r200.c</span>
<span class="p_header">+++ b/drivers/gpu/drm/radeon/r200.c</span>
<span class="p_chunk">@@ -537,8 +537,7 @@</span> <span class="p_context"> int r200_packet0_check(struct radeon_cs_parser *p,</span>
 		track-&gt;tex_dirty = true;
 		break;
 	default:
<span class="p_del">-		printk(KERN_ERR &quot;Forbidden register 0x%04X in cs at %d\n&quot;,</span>
<span class="p_del">-		       reg, idx);</span>
<span class="p_add">+		pr_err(&quot;Forbidden register 0x%04X in cs at %d\n&quot;, reg, idx);</span>
 		return -EINVAL;
 	}
 	return 0;
<span class="p_header">diff --git a/drivers/gpu/drm/radeon/r300.c b/drivers/gpu/drm/radeon/r300.c</span>
<span class="p_header">index 7e417d8dc733..21161aa8acbf 100644</span>
<span class="p_header">--- a/drivers/gpu/drm/radeon/r300.c</span>
<span class="p_header">+++ b/drivers/gpu/drm/radeon/r300.c</span>
<span class="p_chunk">@@ -387,8 +387,7 @@</span> <span class="p_context"> static void r300_gpu_init(struct radeon_device *rdev)</span>
 	WREG32(R300_GB_TILE_CONFIG, gb_tile_config);
 
 	if (r100_gui_wait_for_idle(rdev)) {
<span class="p_del">-		printk(KERN_WARNING &quot;Failed to wait GUI idle while &quot;</span>
<span class="p_del">-		       &quot;programming pipes. Bad things might happen.\n&quot;);</span>
<span class="p_add">+		pr_warn(&quot;Failed to wait GUI idle while programming pipes. Bad things might happen.\n&quot;);</span>
 	}
 
 	tmp = RREG32(R300_DST_PIPE_CONFIG);
<span class="p_chunk">@@ -399,14 +398,12 @@</span> <span class="p_context"> static void r300_gpu_init(struct radeon_device *rdev)</span>
 	       R300_DC_DC_DISABLE_IGNORE_PE);
 
 	if (r100_gui_wait_for_idle(rdev)) {
<span class="p_del">-		printk(KERN_WARNING &quot;Failed to wait GUI idle while &quot;</span>
<span class="p_del">-		       &quot;programming pipes. Bad things might happen.\n&quot;);</span>
<span class="p_add">+		pr_warn(&quot;Failed to wait GUI idle while programming pipes. Bad things might happen.\n&quot;);</span>
 	}
 	if (r300_mc_wait_for_idle(rdev)) {
<span class="p_del">-		printk(KERN_WARNING &quot;Failed to wait MC idle while &quot;</span>
<span class="p_del">-		       &quot;programming pipes. Bad things might happen.\n&quot;);</span>
<span class="p_add">+		pr_warn(&quot;Failed to wait MC idle while programming pipes. Bad things might happen.\n&quot;);</span>
 	}
<span class="p_del">-	DRM_INFO(&quot;radeon: %d quad pipes, %d Z pipes initialized.\n&quot;,</span>
<span class="p_add">+	DRM_INFO(&quot;radeon: %d quad pipes, %d Z pipes initialized\n&quot;,</span>
 		 rdev-&gt;num_gb_pipes, rdev-&gt;num_z_pipes);
 }
 
<span class="p_chunk">@@ -1165,7 +1162,7 @@</span> <span class="p_context"> static int r300_packet0_check(struct radeon_cs_parser *p,</span>
 	}
 	return 0;
 fail:
<span class="p_del">-	printk(KERN_ERR &quot;Forbidden register 0x%04X in cs at %d (val=%08x)\n&quot;,</span>
<span class="p_add">+	pr_err(&quot;Forbidden register 0x%04X in cs at %d (val=%08x)\n&quot;,</span>
 	       reg, idx, idx_value);
 	return -EINVAL;
 }
<span class="p_header">diff --git a/drivers/gpu/drm/radeon/r420.c b/drivers/gpu/drm/radeon/r420.c</span>
<span class="p_header">index 2828605aef3f..3eb0c4f9f796 100644</span>
<span class="p_header">--- a/drivers/gpu/drm/radeon/r420.c</span>
<span class="p_header">+++ b/drivers/gpu/drm/radeon/r420.c</span>
<span class="p_chunk">@@ -92,8 +92,7 @@</span> <span class="p_context"> void r420_pipes_init(struct radeon_device *rdev)</span>
 	       (1 &lt;&lt; 2) | (1 &lt;&lt; 3));
 	/* add idle wait as per freedesktop.org bug 24041 */
 	if (r100_gui_wait_for_idle(rdev)) {
<span class="p_del">-		printk(KERN_WARNING &quot;Failed to wait GUI idle while &quot;</span>
<span class="p_del">-		       &quot;programming pipes. Bad things might happen.\n&quot;);</span>
<span class="p_add">+		pr_warn(&quot;Failed to wait GUI idle while programming pipes. Bad things might happen.\n&quot;);</span>
 	}
 	/* get max number of pipes */
 	gb_pipe_select = RREG32(R400_GB_PIPE_SELECT);
<span class="p_chunk">@@ -128,8 +127,7 @@</span> <span class="p_context"> void r420_pipes_init(struct radeon_device *rdev)</span>
 	tmp |= R300_TILE_SIZE_16 | R300_ENABLE_TILING;
 	WREG32(R300_GB_TILE_CONFIG, tmp);
 	if (r100_gui_wait_for_idle(rdev)) {
<span class="p_del">-		printk(KERN_WARNING &quot;Failed to wait GUI idle while &quot;</span>
<span class="p_del">-		       &quot;programming pipes. Bad things might happen.\n&quot;);</span>
<span class="p_add">+		pr_warn(&quot;Failed to wait GUI idle while programming pipes. Bad things might happen.\n&quot;);</span>
 	}
 
 	tmp = RREG32(R300_DST_PIPE_CONFIG);
<span class="p_chunk">@@ -141,8 +139,7 @@</span> <span class="p_context"> void r420_pipes_init(struct radeon_device *rdev)</span>
 	       R300_DC_DC_DISABLE_IGNORE_PE);
 
 	if (r100_gui_wait_for_idle(rdev)) {
<span class="p_del">-		printk(KERN_WARNING &quot;Failed to wait GUI idle while &quot;</span>
<span class="p_del">-		       &quot;programming pipes. Bad things might happen.\n&quot;);</span>
<span class="p_add">+		pr_warn(&quot;Failed to wait GUI idle while programming pipes. Bad things might happen.\n&quot;);</span>
 	}
 
 	if (rdev-&gt;family == CHIP_RV530) {
<span class="p_header">diff --git a/drivers/gpu/drm/radeon/r520.c b/drivers/gpu/drm/radeon/r520.c</span>
<span class="p_header">index 98d6053c36c6..074cf752faef 100644</span>
<span class="p_header">--- a/drivers/gpu/drm/radeon/r520.c</span>
<span class="p_header">+++ b/drivers/gpu/drm/radeon/r520.c</span>
<span class="p_chunk">@@ -86,8 +86,7 @@</span> <span class="p_context"> static void r520_gpu_init(struct radeon_device *rdev)</span>
 	      (((gb_pipe_select &gt;&gt; 8) &amp; 0xF) &lt;&lt; 4);
 	WREG32_PLL(0x000D, tmp);
 	if (r520_mc_wait_for_idle(rdev)) {
<span class="p_del">-		printk(KERN_WARNING &quot;Failed to wait MC idle while &quot;</span>
<span class="p_del">-		       &quot;programming pipes. Bad things might happen.\n&quot;);</span>
<span class="p_add">+		pr_warn(&quot;Failed to wait MC idle while programming pipes. Bad things might happen.\n&quot;);</span>
 	}
 }
 
<span class="p_header">diff --git a/drivers/gpu/drm/radeon/r600.c b/drivers/gpu/drm/radeon/r600.c</span>
<span class="p_header">index a951881c2a50..0a085176e79b 100644</span>
<span class="p_header">--- a/drivers/gpu/drm/radeon/r600.c</span>
<span class="p_header">+++ b/drivers/gpu/drm/radeon/r600.c</span>
<span class="p_chunk">@@ -1094,7 +1094,7 @@</span> <span class="p_context"> void r600_pcie_gart_tlb_flush(struct radeon_device *rdev)</span>
 		tmp = RREG32(VM_CONTEXT0_REQUEST_RESPONSE);
 		tmp = (tmp &amp; RESPONSE_TYPE_MASK) &gt;&gt; RESPONSE_TYPE_SHIFT;
 		if (tmp == 2) {
<span class="p_del">-			printk(KERN_WARNING &quot;[drm] r600 flush TLB failed\n&quot;);</span>
<span class="p_add">+			pr_warn(&quot;[drm] r600 flush TLB failed\n&quot;);</span>
 			return;
 		}
 		if (tmp) {
<span class="p_chunk">@@ -2550,8 +2550,7 @@</span> <span class="p_context"> int r600_init_microcode(struct radeon_device *rdev)</span>
 	if (err)
 		goto out;
 	if (rdev-&gt;pfp_fw-&gt;size != pfp_req_size) {
<span class="p_del">-		printk(KERN_ERR</span>
<span class="p_del">-		       &quot;r600_cp: Bogus length %zu in firmware \&quot;%s\&quot;\n&quot;,</span>
<span class="p_add">+		pr_err(&quot;r600_cp: Bogus length %zu in firmware \&quot;%s\&quot;\n&quot;,</span>
 		       rdev-&gt;pfp_fw-&gt;size, fw_name);
 		err = -EINVAL;
 		goto out;
<span class="p_chunk">@@ -2562,8 +2561,7 @@</span> <span class="p_context"> int r600_init_microcode(struct radeon_device *rdev)</span>
 	if (err)
 		goto out;
 	if (rdev-&gt;me_fw-&gt;size != me_req_size) {
<span class="p_del">-		printk(KERN_ERR</span>
<span class="p_del">-		       &quot;r600_cp: Bogus length %zu in firmware \&quot;%s\&quot;\n&quot;,</span>
<span class="p_add">+		pr_err(&quot;r600_cp: Bogus length %zu in firmware \&quot;%s\&quot;\n&quot;,</span>
 		       rdev-&gt;me_fw-&gt;size, fw_name);
 		err = -EINVAL;
 	}
<span class="p_chunk">@@ -2573,8 +2571,7 @@</span> <span class="p_context"> int r600_init_microcode(struct radeon_device *rdev)</span>
 	if (err)
 		goto out;
 	if (rdev-&gt;rlc_fw-&gt;size != rlc_req_size) {
<span class="p_del">-		printk(KERN_ERR</span>
<span class="p_del">-		       &quot;r600_rlc: Bogus length %zu in firmware \&quot;%s\&quot;\n&quot;,</span>
<span class="p_add">+		pr_err(&quot;r600_rlc: Bogus length %zu in firmware \&quot;%s\&quot;\n&quot;,</span>
 		       rdev-&gt;rlc_fw-&gt;size, fw_name);
 		err = -EINVAL;
 	}
<span class="p_chunk">@@ -2583,15 +2580,12 @@</span> <span class="p_context"> int r600_init_microcode(struct radeon_device *rdev)</span>
 		snprintf(fw_name, sizeof(fw_name), &quot;radeon/%s_smc.bin&quot;, smc_chip_name);
 		err = request_firmware(&amp;rdev-&gt;smc_fw, fw_name, rdev-&gt;dev);
 		if (err) {
<span class="p_del">-			printk(KERN_ERR</span>
<span class="p_del">-			       &quot;smc: error loading firmware \&quot;%s\&quot;\n&quot;,</span>
<span class="p_del">-			       fw_name);</span>
<span class="p_add">+			pr_err(&quot;smc: error loading firmware \&quot;%s\&quot;\n&quot;, fw_name);</span>
 			release_firmware(rdev-&gt;smc_fw);
 			rdev-&gt;smc_fw = NULL;
 			err = 0;
 		} else if (rdev-&gt;smc_fw-&gt;size != smc_req_size) {
<span class="p_del">-			printk(KERN_ERR</span>
<span class="p_del">-			       &quot;smc: Bogus length %zu in firmware \&quot;%s\&quot;\n&quot;,</span>
<span class="p_add">+			pr_err(&quot;smc: Bogus length %zu in firmware \&quot;%s\&quot;\n&quot;,</span>
 			       rdev-&gt;smc_fw-&gt;size, fw_name);
 			err = -EINVAL;
 		}
<span class="p_chunk">@@ -2600,8 +2594,7 @@</span> <span class="p_context"> int r600_init_microcode(struct radeon_device *rdev)</span>
 out:
 	if (err) {
 		if (err != -EINVAL)
<span class="p_del">-			printk(KERN_ERR</span>
<span class="p_del">-			       &quot;r600_cp: Failed to load firmware \&quot;%s\&quot;\n&quot;,</span>
<span class="p_add">+			pr_err(&quot;r600_cp: Failed to load firmware \&quot;%s\&quot;\n&quot;,</span>
 			       fw_name);
 		release_firmware(rdev-&gt;pfp_fw);
 		rdev-&gt;pfp_fw = NULL;
<span class="p_header">diff --git a/drivers/gpu/drm/radeon/r600_cs.c b/drivers/gpu/drm/radeon/r600_cs.c</span>
<span class="p_header">index 595a19736458..97fd58e97043 100644</span>
<span class="p_header">--- a/drivers/gpu/drm/radeon/r600_cs.c</span>
<span class="p_header">+++ b/drivers/gpu/drm/radeon/r600_cs.c</span>
<span class="p_chunk">@@ -932,8 +932,7 @@</span> <span class="p_context"> static int r600_packet0_check(struct radeon_cs_parser *p,</span>
 		}
 		break;
 	default:
<span class="p_del">-		printk(KERN_ERR &quot;Forbidden register 0x%04X in cs at %d\n&quot;,</span>
<span class="p_del">-		       reg, idx);</span>
<span class="p_add">+		pr_err(&quot;Forbidden register 0x%04X in cs at %d\n&quot;, reg, idx);</span>
 		return -EINVAL;
 	}
 	return 0;
<span class="p_chunk">@@ -2320,7 +2319,7 @@</span> <span class="p_context"> int r600_cs_parse(struct radeon_cs_parser *p)</span>
 	} while (p-&gt;idx &lt; p-&gt;chunk_ib-&gt;length_dw);
 #if 0
 	for (r = 0; r &lt; p-&gt;ib.length_dw; r++) {
<span class="p_del">-		printk(KERN_INFO &quot;%05d  0x%08X\n&quot;, r, p-&gt;ib.ptr[r]);</span>
<span class="p_add">+		pr_info(&quot;%05d  0x%08X\n&quot;, r, p-&gt;ib.ptr[r]);</span>
 		mdelay(1);
 	}
 #endif
<span class="p_chunk">@@ -2528,7 +2527,7 @@</span> <span class="p_context"> int r600_dma_cs_parse(struct radeon_cs_parser *p)</span>
 	} while (p-&gt;idx &lt; p-&gt;chunk_ib-&gt;length_dw);
 #if 0
 	for (r = 0; r &lt; p-&gt;ib-&gt;length_dw; r++) {
<span class="p_del">-		printk(KERN_INFO &quot;%05d  0x%08X\n&quot;, r, p-&gt;ib.ptr[r]);</span>
<span class="p_add">+		pr_info(&quot;%05d  0x%08X\n&quot;, r, p-&gt;ib.ptr[r]);</span>
 		mdelay(1);
 	}
 #endif
<span class="p_header">diff --git a/drivers/gpu/drm/radeon/radeon.h b/drivers/gpu/drm/radeon/radeon.h</span>
<span class="p_header">index 44e0c5ed6418..2e400dc414e3 100644</span>
<span class="p_header">--- a/drivers/gpu/drm/radeon/radeon.h</span>
<span class="p_header">+++ b/drivers/gpu/drm/radeon/radeon.h</span>
<span class="p_chunk">@@ -2535,7 +2535,8 @@</span> <span class="p_context"> static inline struct radeon_fence *to_radeon_fence(struct dma_fence *f)</span>
 #define WREG16(reg, v) writew(v, (rdev-&gt;rmmio) + (reg))
 #define RREG32(reg) r100_mm_rreg(rdev, (reg), false)
 #define RREG32_IDX(reg) r100_mm_rreg(rdev, (reg), true)
<span class="p_del">-#define DREG32(reg) printk(KERN_INFO &quot;REGISTER: &quot; #reg &quot; : 0x%08X\n&quot;, r100_mm_rreg(rdev, (reg), false))</span>
<span class="p_add">+#define DREG32(reg) pr_info(&quot;REGISTER: &quot; #reg &quot; : 0x%08X\n&quot;,	\</span>
<span class="p_add">+			    r100_mm_rreg(rdev, (reg), false))</span>
 #define WREG32(reg, v) r100_mm_wreg(rdev, (reg), (v), false)
 #define WREG32_IDX(reg, v) r100_mm_wreg(rdev, (reg), (v), true)
 #define REG_SET(FIELD, v) (((v) &lt;&lt; FIELD##_SHIFT) &amp; FIELD##_MASK)
<span class="p_header">diff --git a/drivers/gpu/drm/radeon/radeon_atpx_handler.c b/drivers/gpu/drm/radeon/radeon_atpx_handler.c</span>
<span class="p_header">index 0ae13cd2adda..40be4068ca69 100644</span>
<span class="p_header">--- a/drivers/gpu/drm/radeon/radeon_atpx_handler.c</span>
<span class="p_header">+++ b/drivers/gpu/drm/radeon/radeon_atpx_handler.c</span>
<span class="p_chunk">@@ -577,8 +577,8 @@</span> <span class="p_context"> static bool radeon_atpx_detect(void)</span>
 
 	if (has_atpx &amp;&amp; vga_count == 2) {
 		acpi_get_name(radeon_atpx_priv.atpx.handle, ACPI_FULL_PATHNAME, &amp;buffer);
<span class="p_del">-		printk(KERN_INFO &quot;vga_switcheroo: detected switching method %s handle\n&quot;,</span>
<span class="p_del">-		       acpi_method_name);</span>
<span class="p_add">+		pr_info(&quot;vga_switcheroo: detected switching method %s handle\n&quot;,</span>
<span class="p_add">+			acpi_method_name);</span>
 		radeon_atpx_priv.atpx_detected = true;
 		radeon_atpx_priv.bridge_pm_usable = d3_supported;
 		radeon_atpx_init();
<span class="p_header">diff --git a/drivers/gpu/drm/radeon/radeon_audio.c b/drivers/gpu/drm/radeon/radeon_audio.c</span>
<span class="p_header">index b214663b370d..aaacac190d26 100644</span>
<span class="p_header">--- a/drivers/gpu/drm/radeon/radeon_audio.c</span>
<span class="p_header">+++ b/drivers/gpu/drm/radeon/radeon_audio.c</span>
<span class="p_chunk">@@ -576,9 +576,9 @@</span> <span class="p_context"> static void radeon_audio_calc_cts(unsigned int clock, int *CTS, int *N, int freq</span>
 
 	/* Check that we are in spec (not always possible) */
 	if (n &lt; (128*freq/1500))
<span class="p_del">-		printk(KERN_WARNING &quot;Calculated ACR N value is too small. You may experience audio problems.\n&quot;);</span>
<span class="p_add">+		pr_warn(&quot;Calculated ACR N value is too small. You may experience audio problems.\n&quot;);</span>
 	if (n &gt; (128*freq/300))
<span class="p_del">-		printk(KERN_WARNING &quot;Calculated ACR N value is too large. You may experience audio problems.\n&quot;);</span>
<span class="p_add">+		pr_warn(&quot;Calculated ACR N value is too large. You may experience audio problems.\n&quot;);</span>
 
 	*N = n;
 	*CTS = cts;
<span class="p_header">diff --git a/drivers/gpu/drm/radeon/radeon_clocks.c b/drivers/gpu/drm/radeon/radeon_clocks.c</span>
<span class="p_header">index c1135feb93c1..e55146cdf543 100644</span>
<span class="p_header">--- a/drivers/gpu/drm/radeon/radeon_clocks.c</span>
<span class="p_header">+++ b/drivers/gpu/drm/radeon/radeon_clocks.c</span>
<span class="p_chunk">@@ -111,7 +111,7 @@</span> <span class="p_context"> static bool radeon_read_clocks_OF(struct drm_device *dev)</span>
 		return false;
 	val = of_get_property(dp, &quot;ATY,RefCLK&quot;, NULL);
 	if (!val || !*val) {
<span class="p_del">-		printk(KERN_WARNING &quot;radeonfb: No ATY,RefCLK property !\n&quot;);</span>
<span class="p_add">+		pr_warn(&quot;radeonfb: No ATY,RefCLK property !\n&quot;);</span>
 		return false;
 	}
 	p1pll-&gt;reference_freq = p2pll-&gt;reference_freq = (*val) / 10;
<span class="p_header">diff --git a/drivers/gpu/drm/radeon/radeon_device.c b/drivers/gpu/drm/radeon/radeon_device.c</span>
<span class="p_header">index 4b0c388be3f5..dde59c36ba92 100644</span>
<span class="p_header">--- a/drivers/gpu/drm/radeon/radeon_device.c</span>
<span class="p_header">+++ b/drivers/gpu/drm/radeon/radeon_device.c</span>
<span class="p_chunk">@@ -1249,7 +1249,7 @@</span> <span class="p_context"> static void radeon_switcheroo_set_state(struct pci_dev *pdev, enum vga_switchero</span>
 	if (state == VGA_SWITCHEROO_ON) {
 		unsigned d3_delay = dev-&gt;pdev-&gt;d3_delay;
 
<span class="p_del">-		printk(KERN_INFO &quot;radeon: switched on\n&quot;);</span>
<span class="p_add">+		pr_info(&quot;radeon: switched on\n&quot;);</span>
 		/* don&#39;t suspend or resume card normally */
 		dev-&gt;switch_power_state = DRM_SWITCH_POWER_CHANGING;
 
<span class="p_chunk">@@ -1263,7 +1263,7 @@</span> <span class="p_context"> static void radeon_switcheroo_set_state(struct pci_dev *pdev, enum vga_switchero</span>
 		dev-&gt;switch_power_state = DRM_SWITCH_POWER_ON;
 		drm_kms_helper_poll_enable(dev);
 	} else {
<span class="p_del">-		printk(KERN_INFO &quot;radeon: switched off\n&quot;);</span>
<span class="p_add">+		pr_info(&quot;radeon: switched off\n&quot;);</span>
 		drm_kms_helper_poll_disable(dev);
 		dev-&gt;switch_power_state = DRM_SWITCH_POWER_CHANGING;
 		radeon_suspend_kms(dev, true, true, false);
<span class="p_chunk">@@ -1410,12 +1410,12 @@</span> <span class="p_context"> int radeon_device_init(struct radeon_device *rdev,</span>
 	if (r) {
 		rdev-&gt;need_dma32 = true;
 		dma_bits = 32;
<span class="p_del">-		printk(KERN_WARNING &quot;radeon: No suitable DMA available.\n&quot;);</span>
<span class="p_add">+		pr_warn(&quot;radeon: No suitable DMA available\n&quot;);</span>
 	}
 	r = pci_set_consistent_dma_mask(rdev-&gt;pdev, DMA_BIT_MASK(dma_bits));
 	if (r) {
 		pci_set_consistent_dma_mask(rdev-&gt;pdev, DMA_BIT_MASK(32));
<span class="p_del">-		printk(KERN_WARNING &quot;radeon: No coherent DMA available.\n&quot;);</span>
<span class="p_add">+		pr_warn(&quot;radeon: No coherent DMA available\n&quot;);</span>
 	}
 
 	/* Registers mapping */
<span class="p_header">diff --git a/drivers/gpu/drm/radeon/radeon_fb.c b/drivers/gpu/drm/radeon/radeon_fb.c</span>
<span class="p_header">index 2be4fe9c7217..53aa94f705a7 100644</span>
<span class="p_header">--- a/drivers/gpu/drm/radeon/radeon_fb.c</span>
<span class="p_header">+++ b/drivers/gpu/drm/radeon/radeon_fb.c</span>
<span class="p_chunk">@@ -149,8 +149,7 @@</span> <span class="p_context"> static int radeonfb_create_pinned_object(struct radeon_fbdev *rfbdev,</span>
 				       RADEON_GEM_DOMAIN_VRAM,
 				       0, true, &amp;gobj);
 	if (ret) {
<span class="p_del">-		printk(KERN_ERR &quot;failed to allocate framebuffer (%d)\n&quot;,</span>
<span class="p_del">-		       aligned_size);</span>
<span class="p_add">+		pr_err(&quot;failed to allocate framebuffer (%d)\n&quot;, aligned_size);</span>
 		return -ENOMEM;
 	}
 	rbo = gem_to_radeon_bo(gobj);
<span class="p_header">diff --git a/drivers/gpu/drm/radeon/radeon_gem.c b/drivers/gpu/drm/radeon/radeon_gem.c</span>
<span class="p_header">index 96683f5b2b1b..9b0b123ce079 100644</span>
<span class="p_header">--- a/drivers/gpu/drm/radeon/radeon_gem.c</span>
<span class="p_header">+++ b/drivers/gpu/drm/radeon/radeon_gem.c</span>
<span class="p_chunk">@@ -106,7 +106,7 @@</span> <span class="p_context"> static int radeon_gem_set_domain(struct drm_gem_object *gobj,</span>
 	}
 	if (!domain) {
 		/* Do nothings */
<span class="p_del">-		printk(KERN_WARNING &quot;Set domain without domain !\n&quot;);</span>
<span class="p_add">+		pr_warn(&quot;Set domain without domain !\n&quot;);</span>
 		return 0;
 	}
 	if (domain == RADEON_GEM_DOMAIN_CPU) {
<span class="p_chunk">@@ -116,7 +116,7 @@</span> <span class="p_context"> static int radeon_gem_set_domain(struct drm_gem_object *gobj,</span>
 			r = -EBUSY;
 
 		if (r &lt; 0 &amp;&amp; r != -EINTR) {
<span class="p_del">-			printk(KERN_ERR &quot;Failed to wait for object: %li\n&quot;, r);</span>
<span class="p_add">+			pr_err(&quot;Failed to wait for object: %li\n&quot;, r);</span>
 			return r;
 		}
 	}
<span class="p_header">diff --git a/drivers/gpu/drm/radeon/radeon_test.c b/drivers/gpu/drm/radeon/radeon_test.c</span>
<span class="p_header">index 791818165c76..4fdc7bda7a7d 100644</span>
<span class="p_header">--- a/drivers/gpu/drm/radeon/radeon_test.c</span>
<span class="p_header">+++ b/drivers/gpu/drm/radeon/radeon_test.c</span>
<span class="p_chunk">@@ -246,7 +246,7 @@</span> <span class="p_context"> static void radeon_do_test_moves(struct radeon_device *rdev, int flag)</span>
 out_cleanup:
 	kfree(gtt_obj);
 	if (r) {
<span class="p_del">-		printk(KERN_WARNING &quot;Error while testing BO move.\n&quot;);</span>
<span class="p_add">+		pr_warn(&quot;Error while testing BO move\n&quot;);</span>
 	}
 }
 
<span class="p_chunk">@@ -394,7 +394,7 @@</span> <span class="p_context"> void radeon_test_ring_sync(struct radeon_device *rdev,</span>
 		radeon_fence_unref(&amp;fence2);
 
 	if (r)
<span class="p_del">-		printk(KERN_WARNING &quot;Error while testing ring sync (%d).\n&quot;, r);</span>
<span class="p_add">+		pr_warn(&quot;Error while testing ring sync (%d)\n&quot;, r);</span>
 }
 
 static void radeon_test_ring_sync2(struct radeon_device *rdev,
<span class="p_chunk">@@ -504,7 +504,7 @@</span> <span class="p_context"> static void radeon_test_ring_sync2(struct radeon_device *rdev,</span>
 		radeon_fence_unref(&amp;fenceB);
 
 	if (r)
<span class="p_del">-		printk(KERN_WARNING &quot;Error while testing ring sync (%d).\n&quot;, r);</span>
<span class="p_add">+		pr_warn(&quot;Error while testing ring sync (%d)\n&quot;, r);</span>
 }
 
 static bool radeon_test_sync_possible(struct radeon_ring *ringA,
<span class="p_header">diff --git a/drivers/gpu/drm/radeon/rs400.c b/drivers/gpu/drm/radeon/rs400.c</span>
<span class="p_header">index 34e3235f41d2..4121209c183e 100644</span>
<span class="p_header">--- a/drivers/gpu/drm/radeon/rs400.c</span>
<span class="p_header">+++ b/drivers/gpu/drm/radeon/rs400.c</span>
<span class="p_chunk">@@ -255,8 +255,8 @@</span> <span class="p_context"> static void rs400_gpu_init(struct radeon_device *rdev)</span>
 	/* FIXME: is this correct ? */
 	r420_pipes_init(rdev);
 	if (rs400_mc_wait_for_idle(rdev)) {
<span class="p_del">-		printk(KERN_WARNING &quot;rs400: Failed to wait MC idle while &quot;</span>
<span class="p_del">-		       &quot;programming pipes. Bad things might happen. %08x\n&quot;, RREG32(RADEON_MC_STATUS));</span>
<span class="p_add">+		pr_warn(&quot;rs400: Failed to wait MC idle while programming pipes. Bad things might happen. %08x\n&quot;,</span>
<span class="p_add">+			RREG32(RADEON_MC_STATUS));</span>
 	}
 }
 
<span class="p_header">diff --git a/drivers/gpu/drm/radeon/rs690.c b/drivers/gpu/drm/radeon/rs690.c</span>
<span class="p_header">index 6bc44c24e837..1bae33e43f3c 100644</span>
<span class="p_header">--- a/drivers/gpu/drm/radeon/rs690.c</span>
<span class="p_header">+++ b/drivers/gpu/drm/radeon/rs690.c</span>
<span class="p_chunk">@@ -52,8 +52,7 @@</span> <span class="p_context"> static void rs690_gpu_init(struct radeon_device *rdev)</span>
 	/* FIXME: is this correct ? */
 	r420_pipes_init(rdev);
 	if (rs690_mc_wait_for_idle(rdev)) {
<span class="p_del">-		printk(KERN_WARNING &quot;Failed to wait MC idle while &quot;</span>
<span class="p_del">-		       &quot;programming pipes. Bad things might happen.\n&quot;);</span>
<span class="p_add">+		pr_warn(&quot;Failed to wait MC idle while programming pipes. Bad things might happen.\n&quot;);</span>
 	}
 }
 
<span class="p_header">diff --git a/drivers/gpu/drm/radeon/rv515.c b/drivers/gpu/drm/radeon/rv515.c</span>
<span class="p_header">index c55d653aaf5f..ffbd2c006f60 100644</span>
<span class="p_header">--- a/drivers/gpu/drm/radeon/rv515.c</span>
<span class="p_header">+++ b/drivers/gpu/drm/radeon/rv515.c</span>
<span class="p_chunk">@@ -154,8 +154,7 @@</span> <span class="p_context"> static void rv515_gpu_init(struct radeon_device *rdev)</span>
 	unsigned pipe_select_current, gb_pipe_select, tmp;
 
 	if (r100_gui_wait_for_idle(rdev)) {
<span class="p_del">-		printk(KERN_WARNING &quot;Failed to wait GUI idle while &quot;</span>
<span class="p_del">-		       &quot;resetting GPU. Bad things might happen.\n&quot;);</span>
<span class="p_add">+		pr_warn(&quot;Failed to wait GUI idle while resetting GPU. Bad things might happen.\n&quot;);</span>
 	}
 	rv515_vga_render_disable(rdev);
 	r420_pipes_init(rdev);
<span class="p_chunk">@@ -166,12 +165,10 @@</span> <span class="p_context"> static void rv515_gpu_init(struct radeon_device *rdev)</span>
 	      (((gb_pipe_select &gt;&gt; 8) &amp; 0xF) &lt;&lt; 4);
 	WREG32_PLL(0x000D, tmp);
 	if (r100_gui_wait_for_idle(rdev)) {
<span class="p_del">-		printk(KERN_WARNING &quot;Failed to wait GUI idle while &quot;</span>
<span class="p_del">-		       &quot;resetting GPU. Bad things might happen.\n&quot;);</span>
<span class="p_add">+		pr_warn(&quot;Failed to wait GUI idle while resetting GPU. Bad things might happen.\n&quot;);</span>
 	}
 	if (rv515_mc_wait_for_idle(rdev)) {
<span class="p_del">-		printk(KERN_WARNING &quot;Failed to wait MC idle while &quot;</span>
<span class="p_del">-		       &quot;programming pipes. Bad things might happen.\n&quot;);</span>
<span class="p_add">+		pr_warn(&quot;Failed to wait MC idle while programming pipes. Bad things might happen.\n&quot;);</span>
 	}
 }
 
<span class="p_header">diff --git a/drivers/gpu/drm/radeon/si.c b/drivers/gpu/drm/radeon/si.c</span>
<span class="p_header">index 414776811e71..528e5a49a214 100644</span>
<span class="p_header">--- a/drivers/gpu/drm/radeon/si.c</span>
<span class="p_header">+++ b/drivers/gpu/drm/radeon/si.c</span>
<span class="p_chunk">@@ -1762,8 +1762,7 @@</span> <span class="p_context"> static int si_init_microcode(struct radeon_device *rdev)</span>
 		if (err)
 			goto out;
 		if (rdev-&gt;pfp_fw-&gt;size != pfp_req_size) {
<span class="p_del">-			printk(KERN_ERR</span>
<span class="p_del">-			       &quot;si_cp: Bogus length %zu in firmware \&quot;%s\&quot;\n&quot;,</span>
<span class="p_add">+			pr_err(&quot;si_cp: Bogus length %zu in firmware \&quot;%s\&quot;\n&quot;,</span>
 			       rdev-&gt;pfp_fw-&gt;size, fw_name);
 			err = -EINVAL;
 			goto out;
<span class="p_chunk">@@ -1771,8 +1770,7 @@</span> <span class="p_context"> static int si_init_microcode(struct radeon_device *rdev)</span>
 	} else {
 		err = radeon_ucode_validate(rdev-&gt;pfp_fw);
 		if (err) {
<span class="p_del">-			printk(KERN_ERR</span>
<span class="p_del">-			       &quot;si_cp: validation failed for firmware \&quot;%s\&quot;\n&quot;,</span>
<span class="p_add">+			pr_err(&quot;si_cp: validation failed for firmware \&quot;%s\&quot;\n&quot;,</span>
 			       fw_name);
 			goto out;
 		} else {
<span class="p_chunk">@@ -1788,16 +1786,14 @@</span> <span class="p_context"> static int si_init_microcode(struct radeon_device *rdev)</span>
 		if (err)
 			goto out;
 		if (rdev-&gt;me_fw-&gt;size != me_req_size) {
<span class="p_del">-			printk(KERN_ERR</span>
<span class="p_del">-			       &quot;si_cp: Bogus length %zu in firmware \&quot;%s\&quot;\n&quot;,</span>
<span class="p_add">+			pr_err(&quot;si_cp: Bogus length %zu in firmware \&quot;%s\&quot;\n&quot;,</span>
 			       rdev-&gt;me_fw-&gt;size, fw_name);
 			err = -EINVAL;
 		}
 	} else {
 		err = radeon_ucode_validate(rdev-&gt;me_fw);
 		if (err) {
<span class="p_del">-			printk(KERN_ERR</span>
<span class="p_del">-			       &quot;si_cp: validation failed for firmware \&quot;%s\&quot;\n&quot;,</span>
<span class="p_add">+			pr_err(&quot;si_cp: validation failed for firmware \&quot;%s\&quot;\n&quot;,</span>
 			       fw_name);
 			goto out;
 		} else {
<span class="p_chunk">@@ -1813,16 +1809,14 @@</span> <span class="p_context"> static int si_init_microcode(struct radeon_device *rdev)</span>
 		if (err)
 			goto out;
 		if (rdev-&gt;ce_fw-&gt;size != ce_req_size) {
<span class="p_del">-			printk(KERN_ERR</span>
<span class="p_del">-			       &quot;si_cp: Bogus length %zu in firmware \&quot;%s\&quot;\n&quot;,</span>
<span class="p_add">+			pr_err(&quot;si_cp: Bogus length %zu in firmware \&quot;%s\&quot;\n&quot;,</span>
 			       rdev-&gt;ce_fw-&gt;size, fw_name);
 			err = -EINVAL;
 		}
 	} else {
 		err = radeon_ucode_validate(rdev-&gt;ce_fw);
 		if (err) {
<span class="p_del">-			printk(KERN_ERR</span>
<span class="p_del">-			       &quot;si_cp: validation failed for firmware \&quot;%s\&quot;\n&quot;,</span>
<span class="p_add">+			pr_err(&quot;si_cp: validation failed for firmware \&quot;%s\&quot;\n&quot;,</span>
 			       fw_name);
 			goto out;
 		} else {
<span class="p_chunk">@@ -1838,16 +1832,14 @@</span> <span class="p_context"> static int si_init_microcode(struct radeon_device *rdev)</span>
 		if (err)
 			goto out;
 		if (rdev-&gt;rlc_fw-&gt;size != rlc_req_size) {
<span class="p_del">-			printk(KERN_ERR</span>
<span class="p_del">-			       &quot;si_rlc: Bogus length %zu in firmware \&quot;%s\&quot;\n&quot;,</span>
<span class="p_add">+			pr_err(&quot;si_rlc: Bogus length %zu in firmware \&quot;%s\&quot;\n&quot;,</span>
 			       rdev-&gt;rlc_fw-&gt;size, fw_name);
 			err = -EINVAL;
 		}
 	} else {
 		err = radeon_ucode_validate(rdev-&gt;rlc_fw);
 		if (err) {
<span class="p_del">-			printk(KERN_ERR</span>
<span class="p_del">-			       &quot;si_cp: validation failed for firmware \&quot;%s\&quot;\n&quot;,</span>
<span class="p_add">+			pr_err(&quot;si_cp: validation failed for firmware \&quot;%s\&quot;\n&quot;,</span>
 			       fw_name);
 			goto out;
 		} else {
<span class="p_chunk">@@ -1871,8 +1863,7 @@</span> <span class="p_context"> static int si_init_microcode(struct radeon_device *rdev)</span>
 		}
 		if ((rdev-&gt;mc_fw-&gt;size != mc_req_size) &amp;&amp;
 		    (rdev-&gt;mc_fw-&gt;size != mc2_req_size)) {
<span class="p_del">-			printk(KERN_ERR</span>
<span class="p_del">-			       &quot;si_mc: Bogus length %zu in firmware \&quot;%s\&quot;\n&quot;,</span>
<span class="p_add">+			pr_err(&quot;si_mc: Bogus length %zu in firmware \&quot;%s\&quot;\n&quot;,</span>
 			       rdev-&gt;mc_fw-&gt;size, fw_name);
 			err = -EINVAL;
 		}
<span class="p_chunk">@@ -1880,8 +1871,7 @@</span> <span class="p_context"> static int si_init_microcode(struct radeon_device *rdev)</span>
 	} else {
 		err = radeon_ucode_validate(rdev-&gt;mc_fw);
 		if (err) {
<span class="p_del">-			printk(KERN_ERR</span>
<span class="p_del">-			       &quot;si_cp: validation failed for firmware \&quot;%s\&quot;\n&quot;,</span>
<span class="p_add">+			pr_err(&quot;si_cp: validation failed for firmware \&quot;%s\&quot;\n&quot;,</span>
 			       fw_name);
 			goto out;
 		} else {
<span class="p_chunk">@@ -1900,23 +1890,19 @@</span> <span class="p_context"> static int si_init_microcode(struct radeon_device *rdev)</span>
 		snprintf(fw_name, sizeof(fw_name), &quot;radeon/%s_smc.bin&quot;, chip_name);
 		err = request_firmware(&amp;rdev-&gt;smc_fw, fw_name, rdev-&gt;dev);
 		if (err) {
<span class="p_del">-			printk(KERN_ERR</span>
<span class="p_del">-			       &quot;smc: error loading firmware \&quot;%s\&quot;\n&quot;,</span>
<span class="p_del">-			       fw_name);</span>
<span class="p_add">+			pr_err(&quot;smc: error loading firmware \&quot;%s\&quot;\n&quot;, fw_name);</span>
 			release_firmware(rdev-&gt;smc_fw);
 			rdev-&gt;smc_fw = NULL;
 			err = 0;
 		} else if (rdev-&gt;smc_fw-&gt;size != smc_req_size) {
<span class="p_del">-			printk(KERN_ERR</span>
<span class="p_del">-			       &quot;si_smc: Bogus length %zu in firmware \&quot;%s\&quot;\n&quot;,</span>
<span class="p_add">+			pr_err(&quot;si_smc: Bogus length %zu in firmware \&quot;%s\&quot;\n&quot;,</span>
 			       rdev-&gt;smc_fw-&gt;size, fw_name);
 			err = -EINVAL;
 		}
 	} else {
 		err = radeon_ucode_validate(rdev-&gt;smc_fw);
 		if (err) {
<span class="p_del">-			printk(KERN_ERR</span>
<span class="p_del">-			       &quot;si_cp: validation failed for firmware \&quot;%s\&quot;\n&quot;,</span>
<span class="p_add">+			pr_err(&quot;si_cp: validation failed for firmware \&quot;%s\&quot;\n&quot;,</span>
 			       fw_name);
 			goto out;
 		} else {
<span class="p_chunk">@@ -1927,7 +1913,7 @@</span> <span class="p_context"> static int si_init_microcode(struct radeon_device *rdev)</span>
 	if (new_fw == 0) {
 		rdev-&gt;new_fw = false;
 	} else if (new_fw &lt; 6) {
<span class="p_del">-		printk(KERN_ERR &quot;si_fw: mixing new and old firmware!\n&quot;);</span>
<span class="p_add">+		pr_err(&quot;si_fw: mixing new and old firmware!\n&quot;);</span>
 		err = -EINVAL;
 	} else {
 		rdev-&gt;new_fw = true;
<span class="p_chunk">@@ -1935,8 +1921,7 @@</span> <span class="p_context"> static int si_init_microcode(struct radeon_device *rdev)</span>
 out:
 	if (err) {
 		if (err != -EINVAL)
<span class="p_del">-			printk(KERN_ERR</span>
<span class="p_del">-			       &quot;si_cp: Failed to load firmware \&quot;%s\&quot;\n&quot;,</span>
<span class="p_add">+			pr_err(&quot;si_cp: Failed to load firmware \&quot;%s\&quot;\n&quot;,</span>
 			       fw_name);
 		release_firmware(rdev-&gt;pfp_fw);
 		rdev-&gt;pfp_fw = NULL;

</pre>
</div>




  </div>
  <div id="footer">
   <a href="http://jk.ozlabs.org/projects/patchwork/">patchwork</a>
   patch tracking system
  </div>
 </body>
</html>



