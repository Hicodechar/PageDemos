
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
 <head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
  <title>[POC,01/83] switch free_page() from unsigned long to const void * - Patchwork</title>
  <link rel="stylesheet" type="text/css" href="/static/css/style.css"/>
  <script type="text/javascript" src="/static/js/common.js"></script>
  <script type="text/javascript" src="/static/js/jquery-1.10.1.min.js"></script>

 </head>
 <body>
  <div id="title">
  <h1 style="float: left;">
     <a
      href="/">Patchwork</a>
    [POC,01/83] switch free_page() from unsigned long to const void *</h1>
  <div id="auth">

     <a href="/user/login/">login</a>
     <br/>
     <a href="/register/">register</a>
     <br/>
     <a href="/mail/">mail settings</a>

   </div>
   <div style="clear: both;"></div>
  </div>
  <div id="nav">
   <div id="navleft">
   
    <strong>Project</strong>: LKML
     :
     <a href="/project/LKML/list/"
      >patches</a>
     :
     <a href="/project/LKML/"
      >project info</a>
    
     :
     <a href="/"
     >other projects</a>
     
    
   </div>
   <div id="navright">
    <a href="/help/about/">about</a>
   </div>
   <div style="clear: both"></div>
  </div>

  <div id="content">

<script language="JavaScript" type="text/javascript">
function toggle_headers(link_id, headers_id)
{
    var link = document.getElementById(link_id)
    var headers = document.getElementById(headers_id)

    var hidden = headers.style['display'] == 'none';

    if (hidden) {
        link.innerHTML = 'hide';
        headers.style['display'] = 'block';
    } else {
        link.innerHTML = 'show';
        headers.style['display'] = 'none';
    }

}
</script>

<table class="patchmeta">
 <tr>
  <th>Submitter</th>
  <td><a href="/project/LKML/list/?submitter=159">Al Viro</a></td>
 </tr>
 <tr>
  <th>Date</th>
  <td>Dec. 21, 2015, 11:46 p.m.</td>
 </tr>
 <tr>
  <th>Message ID</th>
  <td>&lt;1450741676-5865-1-git-send-email-viro@ZenIV.linux.org.uk&gt;</td>
 </tr>
 <tr>
  <th>Download</th>
  <td>
   <a href="/patch/7899461/mbox/"
   >mbox</a>
|
   <a href="/patch/7899461/raw/"
   >patch</a>

   </td>
 </tr>
 <tr>
  <th>Permalink</th>
  <td><a href="/patch/7899461/">/patch/7899461/</a>
 </tr>
  <tr>
   <th>State</th>
   <td>New</td>
  </tr>


 <tr>
  <th>Headers</th>
  <td><a id="togglepatchheaders"
   href="javascript:toggle_headers('togglepatchheaders', 'patchheaders')"
   >show</a>
   <div id="patchheaders" class="patchheaders" style="display:none;">
    <pre>Return-Path: &lt;linux-kernel-owner@kernel.org&gt;
X-Original-To: patchwork-LKML@patchwork.kernel.org
Delivered-To: patchwork-parsemail@patchwork2.web.kernel.org
Received: from mail.kernel.org (mail.kernel.org [198.145.29.136])
	by patchwork2.web.kernel.org (Postfix) with ESMTP id 08F55BEEE5
	for &lt;patchwork-LKML@patchwork.kernel.org&gt;;
	Tue, 22 Dec 2015 00:10:22 +0000 (UTC)
Received: from mail.kernel.org (localhost [127.0.0.1])
	by mail.kernel.org (Postfix) with ESMTP id E6DBA205B3
	for &lt;patchwork-LKML@patchwork.kernel.org&gt;;
	Tue, 22 Dec 2015 00:10:10 +0000 (UTC)
Received: from vger.kernel.org (vger.kernel.org [209.132.180.67])
	by mail.kernel.org (Postfix) with ESMTP id C15A8205AA
	for &lt;patchwork-LKML@patchwork.kernel.org&gt;;
	Tue, 22 Dec 2015 00:09:58 +0000 (UTC)
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
	id S1753958AbbLVAJ4 (ORCPT
	&lt;rfc822;patchwork-LKML@patchwork.kernel.org&gt;);
	Mon, 21 Dec 2015 19:09:56 -0500
Received: from zeniv.linux.org.uk ([195.92.253.2]:32978 &quot;EHLO
	ZenIV.linux.org.uk&quot; rhost-flags-OK-OK-OK-OK) by vger.kernel.org
	with ESMTP id S1751224AbbLUXr7 (ORCPT
	&lt;rfc822;linux-kernel@vger.kernel.org&gt;);
	Mon, 21 Dec 2015 18:47:59 -0500
Received: from viro by ZenIV.linux.org.uk with local (Exim 4.76 #1 (Red Hat
	Linux)) id 1aBABI-0001X6-Sz; Mon, 21 Dec 2015 23:47:56 +0000
From: Al Viro &lt;viro@ZenIV.linux.org.uk&gt;
To: linux-kernel@vger.kernel.org
Cc: Linus Torvalds &lt;torvalds@linux-foundation.org&gt;
Subject: [POC][PATCH 01/83] switch free_page() from unsigned long to const
	void *
Date: Mon, 21 Dec 2015 23:46:34 +0000
Message-Id: &lt;1450741676-5865-1-git-send-email-viro@ZenIV.linux.org.uk&gt;
X-Mailer: git-send-email 1.7.7.6
In-Reply-To: &lt;20151221234615.GW20997@ZenIV.linux.org.uk&gt;
References: &lt;20151221234615.GW20997@ZenIV.linux.org.uk&gt;
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: &lt;linux-kernel.vger.kernel.org&gt;
X-Mailing-List: linux-kernel@vger.kernel.org
X-Spam-Status: No, score=-6.9 required=5.0 tests=BAYES_00, RCVD_IN_DNSWL_HI, 
	RP_MATCHES_RCVD,
	UNPARSEABLE_RELAY autolearn=unavailable version=3.3.1
X-Spam-Checker-Version: SpamAssassin 3.3.1 (2010-03-16) on mail.kernel.org
X-Virus-Scanned: ClamAV using ClamSMTP
</pre>
   </div>
  </td>
 </tr>
</table>

<div class="patchforms">





 <div style="clear: both;">
 </div>
</div>



<h2>Comments</h2>

<div class="comment">
<div class="meta"><a href="/project/LKML/list/?submitter=159">Al Viro</a> - Dec. 21, 2015, 11:46 p.m.</div>
<pre class="content">
<span class="from">From: Al Viro &lt;viro@zeniv.linux.org.uk&gt;</span>
<span class="signed-off-by">
Signed-off-by: Al Viro &lt;viro@zeniv.linux.org.uk&gt;</span>
---
 arch/alpha/include/asm/pgalloc.h                  |  6 ++--
 arch/alpha/kernel/srm_env.c                       |  4 +--
 arch/arc/include/asm/page.h                       |  2 +-
 arch/arc/kernel/setup.c                           |  2 +-
 arch/arc/kernel/troubleshoot.c                    |  4 +--
 arch/arm/include/asm/page-nommu.h                 |  2 +-
 arch/arm/include/asm/pgalloc.h                    |  4 +--
 arch/arm/kvm/arm.c                                |  2 +-
 arch/arm/kvm/mmu.c                                |  4 +--
 arch/arm64/include/asm/pgalloc.h                  |  6 ++--
 arch/arm64/mm/pgd.c                               |  2 +-
 arch/c6x/include/asm/processor.h                  |  2 +-
 arch/cris/include/asm/pgalloc.h                   |  4 +--
 arch/cris/mm/init.c                               |  2 +-
 arch/frv/include/asm/page.h                       |  2 +-
 arch/frv/include/asm/pgalloc.h                    |  2 +-
 arch/hexagon/include/asm/pgalloc.h                |  4 +--
 arch/ia64/hp/sim/simserial.c                      |  4 +--
 arch/m32r/include/asm/pgalloc.h                   |  4 +--
 arch/m68k/include/asm/mcf_pgalloc.h               |  4 +--
 arch/m68k/include/asm/motorola_pgalloc.h          |  2 +-
 arch/m68k/include/asm/page_mm.h                   |  2 +-
 arch/m68k/include/asm/page_no.h                   |  2 +-
 arch/m68k/include/asm/sun3_pgalloc.h              |  4 +--
 arch/m68k/mm/memory.c                             |  2 +-
 arch/metag/include/asm/pgalloc.h                  |  4 +--
 arch/microblaze/include/asm/pgalloc.h             |  4 +--
 arch/mn10300/include/asm/pgalloc.h                |  2 +-
 arch/openrisc/include/asm/page.h                  |  2 +-
 arch/openrisc/include/asm/pgalloc.h               |  4 +--
 arch/parisc/include/asm/pgalloc.h                 |  2 +-
 arch/powerpc/include/asm/pgalloc-32.h             |  4 +--
 arch/powerpc/include/asm/pgalloc-64.h             |  4 +--
 arch/powerpc/kvm/book3s_pr.c                      |  2 +-
 arch/powerpc/kvm/e500.c                           |  2 +-
 arch/powerpc/kvm/e500mc.c                         |  2 +-
 arch/powerpc/mm/hugetlbpage.c                     |  2 +-
 arch/powerpc/mm/subpage-prot.c                    |  6 ++--
 arch/powerpc/platforms/cell/spufs/coredump.c      |  4 +--
 arch/powerpc/platforms/pseries/cmm.c              | 16 +++++-----
 arch/powerpc/platforms/pseries/pseries_energy.c   |  4 +--
 arch/s390/crypto/aes_s390.c                       |  4 +--
 arch/s390/crypto/des_s390.c                       |  2 +-
 arch/s390/crypto/prng.c                           |  2 +-
 arch/s390/hypfs/hypfs_sprp.c                      |  6 ++--
 arch/s390/kernel/ipl.c                            |  8 ++---
 arch/s390/kernel/kprobes.c                        |  2 +-
 arch/s390/kernel/perf_cpum_sf.c                   |  4 +--
 arch/s390/kernel/setup.c                          |  2 +-
 arch/s390/kernel/smp.c                            |  4 +--
 arch/s390/kernel/suspend.c                        |  2 +-
 arch/s390/kernel/sysinfo.c                        |  4 +--
 arch/s390/kernel/time.c                           |  2 +-
 arch/s390/kernel/vdso.c                           |  8 ++---
 arch/s390/kvm/kvm-s390.c                          | 14 ++++-----
 arch/s390/kvm/priv.c                              |  4 +--
 arch/s390/mm/cmm.c                                |  8 ++---
 arch/s390/mm/maccess.c                            |  4 +--
 arch/s390/mm/pgtable.c                            |  2 +-
 arch/s390/oprofile/hwsampler.c                    |  8 ++---
 arch/sh/boards/mach-hp6xx/pm.c                    |  2 +-
 arch/sparc/kernel/iommu.c                         |  2 +-
 arch/sparc/mm/init_64.c                           |  2 +-
 arch/tile/mm/elf.c                                |  2 +-
 arch/um/drivers/mconsole_kern.c                   |  2 +-
 arch/um/include/asm/pgalloc.h                     |  4 +--
 arch/um/kernel/mem.c                              |  2 +-
 arch/um/kernel/skas/mmu.c                         |  4 +--
 arch/unicore32/include/asm/pgalloc.h              |  2 +-
 arch/x86/include/asm/pgalloc.h                    |  6 ++--
 arch/x86/kernel/cpu/perf_event_intel_pt.c         |  2 +-
 arch/x86/kernel/ldt.c                             |  2 +-
 arch/x86/kernel/machine_kexec_32.c                | 10 +++----
 arch/x86/kernel/machine_kexec_64.c                |  6 ++--
 arch/x86/kvm/lapic.c                              |  2 +-
 arch/x86/kvm/mmu.c                                | 10 +++----
 arch/x86/kvm/vmx.c                                | 36 +++++++++++------------
 arch/x86/kvm/x86.c                                |  4 +--
 arch/x86/mm/pageattr.c                            |  6 ++--
 arch/x86/mm/pgtable.c                             |  8 ++---
 arch/x86/pci/pcbios.c                             |  2 +-
 arch/x86/um/ldt.c                                 |  2 +-
 arch/x86/xen/mmu.c                                |  2 +-
 arch/x86/xen/p2m.c                                |  2 +-
 arch/xtensa/include/asm/pgalloc.h                 |  4 +--
 block/partitions/check.c                          |  4 +--
 crypto/blkcipher.c                                |  2 +-
 crypto/tcrypt.c                                   |  6 ++--
 crypto/testmgr.c                                  |  4 +--
 drivers/acpi/apei/ghes.c                          |  2 +-
 drivers/acpi/nvs.c                                |  2 +-
 drivers/atm/eni.c                                 |  2 +-
 drivers/atm/lanai.c                               |  2 +-
 drivers/auxdisplay/cfag12864b.c                   |  4 +--
 drivers/block/aoe/aoecmd.c                        |  2 +-
 drivers/block/cciss.c                             |  2 +-
 drivers/block/drbd/drbd_main.c                    |  4 +--
 drivers/char/agp/amd-k7-agp.c                     |  2 +-
 drivers/char/agp/ati-agp.c                        |  2 +-
 drivers/char/agp/efficeon-agp.c                   |  2 +-
 drivers/char/agp/sworks-agp.c                     |  2 +-
 drivers/char/mem.c                                |  4 +--
 drivers/char/pcmcia/synclink_cs.c                 |  2 +-
 drivers/char/tpm/tpm_ibmvtpm.c                    |  4 +--
 drivers/char/tpm/xen-tpmfront.c                   |  2 +-
 drivers/char/xilinx_hwicap/xilinx_hwicap.c        | 14 ++++-----
 drivers/crypto/atmel-aes.c                        |  8 ++---
 drivers/crypto/atmel-tdes.c                       |  8 ++---
 drivers/crypto/nx/nx-842.c                        |  8 ++---
 drivers/dma/nbpfaxi.c                             |  2 +-
 drivers/dma/sh/rcar-dmac.c                        |  2 +-
 drivers/extcon/extcon.c                           |  2 +-
 drivers/firewire/ohci.c                           |  4 +--
 drivers/gpu/drm/via/via_dmablit.c                 |  2 +-
 drivers/hsi/clients/cmt_speech.c                  |  4 +--
 drivers/hv/hv.c                                   |  6 ++--
 drivers/ide/ide-proc.c                            |  6 ++--
 drivers/infiniband/core/device.c                  |  2 +-
 drivers/infiniband/core/umem.c                    |  4 +--
 drivers/infiniband/core/umem_odp.c                |  2 +-
 drivers/infiniband/hw/cxgb3/iwch_provider.c       |  2 +-
 drivers/infiniband/hw/cxgb4/device.c              |  2 +-
 drivers/infiniband/hw/cxgb4/mem.c                 |  2 +-
 drivers/infiniband/hw/mlx4/mr.c                   |  2 +-
 drivers/infiniband/hw/mlx5/mr.c                   |  2 +-
 drivers/infiniband/hw/mlx5/odp.c                  |  2 +-
 drivers/infiniband/hw/mthca/mthca_allocator.c     |  4 +--
 drivers/infiniband/hw/mthca/mthca_provider.c      |  2 +-
 drivers/infiniband/hw/qib/qib_qp.c                |  4 +--
 drivers/infiniband/hw/usnic/usnic_uiom.c          |  2 +-
 drivers/input/misc/xen-kbdfront.c                 |  2 +-
 drivers/iommu/amd_iommu.c                         | 18 ++++++------
 drivers/iommu/amd_iommu_v2.c                      |  6 ++--
 drivers/iommu/dmar.c                              |  4 +--
 drivers/iommu/intel-iommu.c                       |  2 +-
 drivers/iommu/msm_iommu.c                         |  5 ++--
 drivers/iommu/rockchip-iommu.c                    |  4 +--
 drivers/irqchip/irq-gic-v3-its.c                  |  2 +-
 drivers/lguest/lguest_user.c                      |  4 +--
 drivers/lguest/page_tables.c                      |  8 ++---
 drivers/macintosh/rack-meter.c                    |  4 +--
 drivers/media/pci/pt1/pt1.c                       |  4 +--
 drivers/media/pci/saa7134/saa7134-go7007.c        |  8 ++---
 drivers/media/pci/ttpci/av7110_ca.c               |  2 +-
 drivers/media/pci/zoran/zoran_driver.c            |  4 +--
 drivers/misc/cxl/context.c                        |  2 +-
 drivers/misc/cxl/pci.c                            |  2 +-
 drivers/misc/ibmasm/ibmasmfs.c                    |  2 +-
 drivers/misc/lkdtm.c                              | 10 +++----
 drivers/net/ethernet/i825xx/82596.c               |  4 +--
 drivers/net/ethernet/ibm/ehea/ehea_main.c         | 26 ++++++++--------
 drivers/net/ethernet/ibm/ehea/ehea_qmr.c          |  8 ++---
 drivers/net/ethernet/ibm/ibmveth.c                |  4 +--
 drivers/net/ethernet/seeq/sgiseeq.c               |  2 +-
 drivers/net/ethernet/sfc/mcdi.c                   |  4 +--
 drivers/net/ethernet/sgi/ioc3-eth.c               |  2 +-
 drivers/net/ethernet/toshiba/ps3_gelic_wireless.c | 12 ++++----
 drivers/net/usb/kaweth.c                          |  2 +-
 drivers/net/wan/z85230.c                          |  8 ++---
 drivers/net/wireless/b43/debugfs.c                |  2 +-
 drivers/net/wireless/b43legacy/debugfs.c          |  2 +-
 drivers/net/wireless/libertas/debugfs.c           | 34 ++++++++++-----------
 drivers/net/wireless/mwifiex/debugfs.c            | 26 ++++++++--------
 drivers/net/wireless/ti/wlcore/main.c             |  4 +--
 drivers/net/xen-netfront.c                        |  4 +--
 drivers/pci/xen-pcifront.c                        |  2 +-
 drivers/platform/x86/dell-laptop.c                |  4 +--
 drivers/power/power_supply_sysfs.c                |  2 +-
 drivers/s390/block/dasd.c                         |  4 +--
 drivers/s390/block/dasd_diag.c                    |  2 +-
 drivers/s390/block/dasd_eckd.c                    |  8 ++---
 drivers/s390/block/dasd_eer.c                     |  2 +-
 drivers/s390/block/dasd_fba.c                     |  2 +-
 drivers/s390/block/scm_blk.c                      |  2 +-
 drivers/s390/block/scm_blk_cluster.c              |  2 +-
 drivers/s390/block/xpram.c                        |  4 +--
 drivers/s390/char/diag_ftp.c                      |  2 +-
 drivers/s390/char/hmcdrv_ftp.c                    |  2 +-
 drivers/s390/char/sclp_async.c                    |  4 +--
 drivers/s390/char/sclp_cmd.c                      | 14 ++++-----
 drivers/s390/char/sclp_cpi_sys.c                  |  2 +-
 drivers/s390/char/sclp_ctl.c                      |  2 +-
 drivers/s390/char/sclp_ftp.c                      |  4 +--
 drivers/s390/char/sclp_vt220.c                    |  2 +-
 drivers/s390/char/vmlogrdr.c                      |  2 +-
 drivers/s390/char/vmur.c                          |  4 +--
 drivers/s390/char/zcore.c                         |  4 +--
 drivers/s390/cio/chsc.c                           | 16 +++++-----
 drivers/s390/cio/chsc_sch.c                       | 24 +++++++--------
 drivers/s390/cio/qdio_main.c                      |  2 +-
 drivers/s390/cio/qdio_setup.c                     | 14 ++++-----
 drivers/s390/cio/scm.c                            |  2 +-
 drivers/s390/crypto/zcrypt_api.c                  |  4 +--
 drivers/s390/crypto/zcrypt_msgtype6.c             |  4 +--
 drivers/s390/crypto/zcrypt_pcixcc.c               |  4 +--
 drivers/s390/net/qeth_core_main.c                 |  9 +++---
 drivers/s390/scsi/zfcp_aux.c                      |  2 +-
 drivers/scsi/cxlflash/main.c                      |  2 +-
 drivers/scsi/cxlflash/superpipe.c                 |  2 +-
 drivers/scsi/ibmvscsi/ibmvfc.c                    |  8 ++---
 drivers/scsi/ibmvscsi/ibmvscsi.c                  |  4 +--
 drivers/scsi/ipr.c                                |  2 +-
 drivers/scsi/scsi_devinfo.c                       |  2 +-
 drivers/scsi/scsi_proc.c                          |  4 +--
 drivers/scsi/xen-scsifront.c                      |  2 +-
 drivers/spi/spi-ep93xx.c                          |  4 +--
 drivers/spi/spi-sh-msiof.c                        |  8 ++---
 drivers/staging/comedi/comedi_buf.c               |  2 +-
 drivers/staging/lustre/lustre/llite/llite_lib.c   |  2 +-
 drivers/staging/rdma/ehca/ehca_iverbs.h           |  2 +-
 drivers/staging/rdma/ehca/ehca_pd.c               |  2 +-
 drivers/staging/rdma/ehca/ipz_pt_fn.c             |  6 ++--
 drivers/staging/rdma/hfi1/qp.c                    |  4 +--
 drivers/staging/rdma/ipath/ipath_qp.c             |  4 +--
 drivers/staging/unisys/visorbus/visorchannel.c    |  2 +-
 drivers/target/target_core_file.c                 |  2 +-
 drivers/tty/amiserial.c                           |  6 ++--
 drivers/tty/cyclades.c                            |  8 ++---
 drivers/tty/hvc/hvc_iucv.c                        |  4 +--
 drivers/tty/hvc/hvc_xen.c                         |  2 +-
 drivers/tty/hvc/hvcs.c                            |  4 +--
 drivers/tty/mxser.c                               |  4 +--
 drivers/tty/rocket.c                              |  4 +--
 drivers/tty/serial/68328serial.c                  |  2 +-
 drivers/tty/serial/crisv10.c                      |  6 ++--
 drivers/tty/serial/men_z135_uart.c                |  4 +--
 drivers/tty/serial/pch_uart.c                     |  4 +--
 drivers/tty/serial/serial_core.c                  |  2 +-
 drivers/tty/synclink.c                            |  2 +-
 drivers/tty/tty_port.c                            |  4 +--
 drivers/tty/vt/vc_screen.c                        |  4 +--
 drivers/usb/atm/cxacru.c                          | 10 +++----
 drivers/usb/atm/speedtch.c                        |  2 +-
 drivers/usb/core/devio.c                          |  2 +-
 drivers/usb/host/ohci-dbg.c                       |  2 +-
 drivers/usb/misc/rio500.c                         | 10 +++----
 drivers/usb/mon/mon_bin.c                         |  4 +--
 drivers/usb/serial/usb_wwan.c                     |  4 +--
 drivers/uwb/hwa-rc.c                              |  4 +--
 drivers/video/fbdev/xen-fbfront.c                 |  2 +-
 drivers/xen/events/events_base.c                  |  2 +-
 drivers/xen/events/events_fifo.c                  |  6 ++--
 drivers/xen/evtchn.c                              |  2 +-
 drivers/xen/grant-table.c                         |  6 ++--
 drivers/xen/xenbus/xenbus_probe.c                 |  2 +-
 fs/affs/inode.c                                   |  2 +-
 fs/afs/mntpt.c                                    |  8 ++---
 fs/bfs/inode.c                                    |  2 +-
 fs/binfmt_misc.c                                  |  2 +-
 fs/compat.c                                       |  2 +-
 fs/configfs/file.c                                |  2 +-
 fs/configfs/symlink.c                             |  2 +-
 fs/ext4/super.c                                   |  2 +-
 fs/fuse/dir.c                                     |  2 +-
 fs/fuse/file.c                                    |  2 +-
 fs/isofs/dir.c                                    |  2 +-
 fs/jfs/jfs_dtree.c                                |  4 +--
 fs/jfs/jfs_logmgr.c                               |  2 +-
 fs/kernfs/symlink.c                               |  2 +-
 fs/libfs.c                                        |  6 ++--
 fs/namespace.c                                    |  4 +--
 fs/nfs/namespace.c                                |  2 +-
 fs/nfs/nfs4namespace.c                            |  8 ++---
 fs/nfs/super.c                                    |  2 +-
 fs/nfsd/vfs.c                                     |  2 +-
 fs/ocfs2/dlm/dlmdebug.c                           |  4 +--
 fs/ocfs2/dlm/dlmdomain.c                          |  2 +-
 fs/ocfs2/dlm/dlmmaster.c                          |  2 +-
 fs/ocfs2/dlm/dlmrecovery.c                        |  2 +-
 fs/overlayfs/copy_up.c                            |  4 +--
 fs/proc/base.c                                    | 10 +++----
 fs/select.c                                       |  2 +-
 include/asm-generic/page.h                        |  2 +-
 include/linux/gfp.h                               |  2 +-
 include/linux/security.h                          |  2 +-
 kernel/events/ring_buffer.c                       |  4 +--
 kernel/groups.c                                   |  4 +--
 kernel/power/swap.c                               | 10 +++----
 kernel/sysctl.c                                   | 10 +++----
 kernel/trace/ftrace.c                             |  2 +-
 kernel/trace/ring_buffer.c                        |  4 +--
 kernel/trace/trace_events.c                       |  8 ++---
 kernel/trace/trace_events_filter.c                |  2 +-
 kernel/trace/trace_events_trigger.c               |  6 ++--
 kernel/trace/trace_uprobe.c                       |  5 ++--
 kernel/user_namespace.c                           |  2 +-
 lib/scatterlist.c                                 |  2 +-
 mm/memory.c                                       |  4 +--
 mm/migrate.c                                      |  2 +-
 mm/mincore.c                                      |  2 +-
 mm/page_alloc.c                                   |  4 +--
 mm/quicklist.c                                    |  2 +-
 mm/slub.c                                         |  2 +-
 net/atm/mpoa_proc.c                               |  4 +--
 net/atm/proc.c                                    |  2 +-
 net/core/dev.c                                    |  2 +-
 net/netfilter/nf_tables_api.c                     |  2 +-
 net/rds/cong.c                                    |  4 +--
 net/sunrpc/backchannel_rqst.c                     |  4 +--
 net/sunrpc/xprtsock.c                             |  2 +-
 security/selinux/hooks.c                          |  4 +--
 security/selinux/selinuxfs.c                      | 20 ++++++-------
 security/smack/smack_lsm.c                        |  2 +-
 sound/drivers/dummy.c                             |  2 +-
 sound/oss/msnd_pinnacle.c                         | 16 +++++-----
 sound/oss/vidc.c                                  |  4 +--
 sound/pci/emu10k1/memory.c                        |  2 +-
 tools/virtio/linux/kernel.h                       |  4 +--
 virt/kvm/coalesced_mmio.c                         |  2 +-
 virt/kvm/kvm_main.c                               |  4 +--
 310 files changed, 666 insertions(+), 669 deletions(-)
</pre>
</div>



<h2>Patch</h2>
<div class="patch">
<pre class="content">
<span class="p_header">diff --git a/arch/alpha/include/asm/pgalloc.h b/arch/alpha/include/asm/pgalloc.h</span>
<span class="p_header">index aab14a0..078da57 100644</span>
<span class="p_header">--- a/arch/alpha/include/asm/pgalloc.h</span>
<span class="p_header">+++ b/arch/alpha/include/asm/pgalloc.h</span>
<span class="p_chunk">@@ -34,7 +34,7 @@</span> <span class="p_context"> extern pgd_t *pgd_alloc(struct mm_struct *mm);</span>
 static inline void
 pgd_free(struct mm_struct *mm, pgd_t *pgd)
 {
<span class="p_del">-	free_page((unsigned long)pgd);</span>
<span class="p_add">+	free_page(pgd);</span>
 }
 
 static inline pmd_t *
<span class="p_chunk">@@ -47,7 +47,7 @@</span> <span class="p_context"> pmd_alloc_one(struct mm_struct *mm, unsigned long address)</span>
 static inline void
 pmd_free(struct mm_struct *mm, pmd_t *pmd)
 {
<span class="p_del">-	free_page((unsigned long)pmd);</span>
<span class="p_add">+	free_page(pmd);</span>
 }
 
 static inline pte_t *
<span class="p_chunk">@@ -60,7 +60,7 @@</span> <span class="p_context"> pte_alloc_one_kernel(struct mm_struct *mm, unsigned long address)</span>
 static inline void
 pte_free_kernel(struct mm_struct *mm, pte_t *pte)
 {
<span class="p_del">-	free_page((unsigned long)pte);</span>
<span class="p_add">+	free_page(pte);</span>
 }
 
 static inline pgtable_t
<span class="p_header">diff --git a/arch/alpha/kernel/srm_env.c b/arch/alpha/kernel/srm_env.c</span>
<span class="p_header">index ffe996a..a66f23b 100644</span>
<span class="p_header">--- a/arch/alpha/kernel/srm_env.c</span>
<span class="p_header">+++ b/arch/alpha/kernel/srm_env.c</span>
<span class="p_chunk">@@ -93,7 +93,7 @@</span> <span class="p_context"> static int srm_env_proc_show(struct seq_file *m, void *v)</span>
 		ret = 0;
 	} else
 		ret = -EFAULT;
<span class="p_del">-	free_page((unsigned long)page);</span>
<span class="p_add">+	free_page(page);</span>
 	return ret;
 }
 
<span class="p_chunk">@@ -131,7 +131,7 @@</span> <span class="p_context"> static ssize_t srm_env_proc_write(struct file *file, const char __user *buffer,</span>
 	}
 
  out:
<span class="p_del">-	free_page((unsigned long)buf);</span>
<span class="p_add">+	free_page(buf);</span>
 	return res;
 }
 
<span class="p_header">diff --git a/arch/arc/include/asm/page.h b/arch/arc/include/asm/page.h</span>
<span class="p_header">index 429957f..fa23f40 100644</span>
<span class="p_header">--- a/arch/arc/include/asm/page.h</span>
<span class="p_header">+++ b/arch/arc/include/asm/page.h</span>
<span class="p_chunk">@@ -14,7 +14,7 @@</span> <span class="p_context"></span>
 #ifndef __ASSEMBLY__
 
 #define get_user_page(vaddr)		__get_free_page(GFP_KERNEL)
<span class="p_del">-#define free_user_page(page, addr)	free_page(addr)</span>
<span class="p_add">+#define free_user_page(page, addr)	free_page((void *)addr)</span>
 
 #define clear_page(paddr)		memset((paddr), 0, PAGE_SIZE)
 #define copy_page(to, from)		memcpy((to), (from), PAGE_SIZE)
<span class="p_header">diff --git a/arch/arc/kernel/setup.c b/arch/arc/kernel/setup.c</span>
<span class="p_header">index c33e77c..56fd4fc 100644</span>
<span class="p_header">--- a/arch/arc/kernel/setup.c</span>
<span class="p_header">+++ b/arch/arc/kernel/setup.c</span>
<span class="p_chunk">@@ -488,7 +488,7 @@</span> <span class="p_context"> static int show_cpuinfo(struct seq_file *m, void *v)</span>
 	seq_printf(m, arc_extn_mumbojumbo(cpu_id, str, PAGE_SIZE));
 	seq_printf(m, arc_platform_smp_cpuinfo());
 
<span class="p_del">-	free_page((unsigned long)str);</span>
<span class="p_add">+	free_page(str);</span>
 done:
 	seq_printf(m, &quot;\n&quot;);
 
<span class="p_header">diff --git a/arch/arc/kernel/troubleshoot.c b/arch/arc/kernel/troubleshoot.c</span>
<span class="p_header">index a6f91e8..eb3464d 100644</span>
<span class="p_header">--- a/arch/arc/kernel/troubleshoot.c</span>
<span class="p_header">+++ b/arch/arc/kernel/troubleshoot.c</span>
<span class="p_chunk">@@ -222,7 +222,7 @@</span> <span class="p_context"> void show_regs(struct pt_regs *regs)</span>
 	if (cregs)
 		show_callee_regs(cregs);
 
<span class="p_del">-	free_page((unsigned long)buf);</span>
<span class="p_add">+	free_page(buf);</span>
 }
 
 void show_kernel_fault_diag(const char *str, struct pt_regs *regs,
<span class="p_chunk">@@ -309,7 +309,7 @@</span> <span class="p_context"> static ssize_t tlb_stats_clear(struct file *file, const char __user *user_buf,</span>
 
 static int tlb_stats_close(struct inode *inode, struct file *file)
 {
<span class="p_del">-	free_page((unsigned long)(file-&gt;private_data));</span>
<span class="p_add">+	free_page(file-&gt;private_data);</span>
 	return 0;
 }
 
<span class="p_header">diff --git a/arch/arm/include/asm/page-nommu.h b/arch/arm/include/asm/page-nommu.h</span>
<span class="p_header">index d1b162a..c4f6081 100644</span>
<span class="p_header">--- a/arch/arm/include/asm/page-nommu.h</span>
<span class="p_header">+++ b/arch/arm/include/asm/page-nommu.h</span>
<span class="p_chunk">@@ -18,7 +18,7 @@</span> <span class="p_context"></span>
 #endif
  
 #define get_user_page(vaddr)		__get_free_page(GFP_KERNEL)
<span class="p_del">-#define free_user_page(page, addr)	free_page(addr)</span>
<span class="p_add">+#define free_user_page(page, addr)	free_page((void *)addr)</span>
 
 #define clear_page(page)	memset((page), 0, PAGE_SIZE)
 #define copy_page(to,from)	memcpy((to), (from), PAGE_SIZE)
<span class="p_header">diff --git a/arch/arm/include/asm/pgalloc.h b/arch/arm/include/asm/pgalloc.h</span>
<span class="p_header">index 19cfab5..540647d 100644</span>
<span class="p_header">--- a/arch/arm/include/asm/pgalloc.h</span>
<span class="p_header">+++ b/arch/arm/include/asm/pgalloc.h</span>
<span class="p_chunk">@@ -35,7 +35,7 @@</span> <span class="p_context"> static inline pmd_t *pmd_alloc_one(struct mm_struct *mm, unsigned long addr)</span>
 static inline void pmd_free(struct mm_struct *mm, pmd_t *pmd)
 {
 	BUG_ON((unsigned long)pmd &amp; (PAGE_SIZE-1));
<span class="p_del">-	free_page((unsigned long)pmd);</span>
<span class="p_add">+	free_page(pmd);</span>
 }
 
 static inline void pud_populate(struct mm_struct *mm, pud_t *pud, pmd_t *pmd)
<span class="p_chunk">@@ -119,7 +119,7 @@</span> <span class="p_context"> pte_alloc_one(struct mm_struct *mm, unsigned long addr)</span>
 static inline void pte_free_kernel(struct mm_struct *mm, pte_t *pte)
 {
 	if (pte)
<span class="p_del">-		free_page((unsigned long)pte);</span>
<span class="p_add">+		free_page(pte);</span>
 }
 
 static inline void pte_free(struct mm_struct *mm, pgtable_t pte)
<span class="p_header">diff --git a/arch/arm/kvm/arm.c b/arch/arm/kvm/arm.c</span>
<span class="p_header">index e06fd29..08fe183 100644</span>
<span class="p_header">--- a/arch/arm/kvm/arm.c</span>
<span class="p_header">+++ b/arch/arm/kvm/arm.c</span>
<span class="p_chunk">@@ -1136,7 +1136,7 @@</span> <span class="p_context"> out_free_mappings:</span>
 	free_hyp_pgds();
 out_free_stack_pages:
 	for_each_possible_cpu(cpu)
<span class="p_del">-		free_page(per_cpu(kvm_arm_hyp_stack_page, cpu));</span>
<span class="p_add">+		free_page((void *)per_cpu(kvm_arm_hyp_stack_page, cpu));</span>
 out_err:
 	kvm_err(&quot;error initializing Hyp mode: %d\n&quot;, err);
 	return err;
<span class="p_header">diff --git a/arch/arm/kvm/mmu.c b/arch/arm/kvm/mmu.c</span>
<span class="p_header">index 61d96a6..5de6c6b 100644</span>
<span class="p_header">--- a/arch/arm/kvm/mmu.c</span>
<span class="p_header">+++ b/arch/arm/kvm/mmu.c</span>
<span class="p_chunk">@@ -142,7 +142,7 @@</span> <span class="p_context"> static int mmu_topup_memory_cache(struct kvm_mmu_memory_cache *cache,</span>
 static void mmu_free_memory_cache(struct kvm_mmu_memory_cache *mc)
 {
 	while (mc-&gt;nobjs)
<span class="p_del">-		free_page((unsigned long)mc-&gt;objects[--mc-&gt;nobjs]);</span>
<span class="p_add">+		free_page(mc-&gt;objects[--mc-&gt;nobjs]);</span>
 }
 
 static void *mmu_memory_cache_alloc(struct kvm_mmu_memory_cache *mc)
<span class="p_chunk">@@ -441,7 +441,7 @@</span> <span class="p_context"> void free_hyp_pgds(void)</span>
 	}
 	if (merged_hyp_pgd) {
 		clear_page(merged_hyp_pgd);
<span class="p_del">-		free_page((unsigned long)merged_hyp_pgd);</span>
<span class="p_add">+		free_page(merged_hyp_pgd);</span>
 		merged_hyp_pgd = NULL;
 	}
 
<span class="p_header">diff --git a/arch/arm64/include/asm/pgalloc.h b/arch/arm64/include/asm/pgalloc.h</span>
<span class="p_header">index c150539..ce9b3c0 100644</span>
<span class="p_header">--- a/arch/arm64/include/asm/pgalloc.h</span>
<span class="p_header">+++ b/arch/arm64/include/asm/pgalloc.h</span>
<span class="p_chunk">@@ -39,7 +39,7 @@</span> <span class="p_context"> static inline pmd_t *pmd_alloc_one(struct mm_struct *mm, unsigned long addr)</span>
 static inline void pmd_free(struct mm_struct *mm, pmd_t *pmd)
 {
 	BUG_ON((unsigned long)pmd &amp; (PAGE_SIZE-1));
<span class="p_del">-	free_page((unsigned long)pmd);</span>
<span class="p_add">+	free_page(pmd);</span>
 }
 
 static inline void pud_populate(struct mm_struct *mm, pud_t *pud, pmd_t *pmd)
<span class="p_chunk">@@ -59,7 +59,7 @@</span> <span class="p_context"> static inline pud_t *pud_alloc_one(struct mm_struct *mm, unsigned long addr)</span>
 static inline void pud_free(struct mm_struct *mm, pud_t *pud)
 {
 	BUG_ON((unsigned long)pud &amp; (PAGE_SIZE-1));
<span class="p_del">-	free_page((unsigned long)pud);</span>
<span class="p_add">+	free_page(pud);</span>
 }
 
 static inline void pgd_populate(struct mm_struct *mm, pgd_t *pgd, pud_t *pud)
<span class="p_chunk">@@ -99,7 +99,7 @@</span> <span class="p_context"> pte_alloc_one(struct mm_struct *mm, unsigned long addr)</span>
 static inline void pte_free_kernel(struct mm_struct *mm, pte_t *pte)
 {
 	if (pte)
<span class="p_del">-		free_page((unsigned long)pte);</span>
<span class="p_add">+		free_page(pte);</span>
 }
 
 static inline void pte_free(struct mm_struct *mm, pgtable_t pte)
<span class="p_header">diff --git a/arch/arm64/mm/pgd.c b/arch/arm64/mm/pgd.c</span>
<span class="p_header">index cb3ba1b..a468648 100644</span>
<span class="p_header">--- a/arch/arm64/mm/pgd.c</span>
<span class="p_header">+++ b/arch/arm64/mm/pgd.c</span>
<span class="p_chunk">@@ -41,7 +41,7 @@</span> <span class="p_context"> pgd_t *pgd_alloc(struct mm_struct *mm)</span>
 void pgd_free(struct mm_struct *mm, pgd_t *pgd)
 {
 	if (PGD_SIZE == PAGE_SIZE)
<span class="p_del">-		free_page((unsigned long)pgd);</span>
<span class="p_add">+		free_page(pgd);</span>
 	else
 		kmem_cache_free(pgd_cache, pgd);
 }
<span class="p_header">diff --git a/arch/c6x/include/asm/processor.h b/arch/c6x/include/asm/processor.h</span>
<span class="p_header">index f2ef31b..b5b5a87 100644</span>
<span class="p_header">--- a/arch/c6x/include/asm/processor.h</span>
<span class="p_header">+++ b/arch/c6x/include/asm/processor.h</span>
<span class="p_chunk">@@ -78,7 +78,7 @@</span> <span class="p_context"> struct thread_struct {</span>
 	((struct pt_regs *)(THREAD_START_SP + task_stack_page(task)) - 1)
 
 #define alloc_kernel_stack()	__get_free_page(GFP_KERNEL)
<span class="p_del">-#define free_kernel_stack(page) free_page((page))</span>
<span class="p_add">+#define free_kernel_stack(page) free_page((void *)(page))</span>
 
 
 /* Forward declaration, a strange C thing */
<span class="p_header">diff --git a/arch/cris/include/asm/pgalloc.h b/arch/cris/include/asm/pgalloc.h</span>
<span class="p_header">index 235ece4..cac8206 100644</span>
<span class="p_header">--- a/arch/cris/include/asm/pgalloc.h</span>
<span class="p_header">+++ b/arch/cris/include/asm/pgalloc.h</span>
<span class="p_chunk">@@ -19,7 +19,7 @@</span> <span class="p_context"> static inline pgd_t *pgd_alloc (struct mm_struct *mm)</span>
 
 static inline void pgd_free(struct mm_struct *mm, pgd_t *pgd)
 {
<span class="p_del">-	free_page((unsigned long)pgd);</span>
<span class="p_add">+	free_page(pgd);</span>
 }
 
 static inline pte_t *pte_alloc_one_kernel(struct mm_struct *mm, unsigned long address)
<span class="p_chunk">@@ -43,7 +43,7 @@</span> <span class="p_context"> static inline pgtable_t pte_alloc_one(struct mm_struct *mm, unsigned long addres</span>
 
 static inline void pte_free_kernel(struct mm_struct *mm, pte_t *pte)
 {
<span class="p_del">-	free_page((unsigned long)pte);</span>
<span class="p_add">+	free_page(pte);</span>
 }
 
 static inline void pte_free(struct mm_struct *mm, pgtable_t pte)
<span class="p_header">diff --git a/arch/cris/mm/init.c b/arch/cris/mm/init.c</span>
<span class="p_header">index 1e7fd45..dd87022 100644</span>
<span class="p_header">--- a/arch/cris/mm/init.c</span>
<span class="p_header">+++ b/arch/cris/mm/init.c</span>
<span class="p_chunk">@@ -42,7 +42,7 @@</span> <span class="p_context"> void free_init_pages(const char *what, unsigned long begin, unsigned long end)</span>
 	for (addr = begin; addr &lt; end; addr += PAGE_SIZE) {
 		ClearPageReserved(virt_to_page(addr));
 		init_page_count(virt_to_page(addr));
<span class="p_del">-		free_page(addr);</span>
<span class="p_add">+		free_page((void *)addr);</span>
 		totalram_pages++;
 	}
 
<span class="p_header">diff --git a/arch/frv/include/asm/page.h b/arch/frv/include/asm/page.h</span>
<span class="p_header">index 8c97068..870960c 100644</span>
<span class="p_header">--- a/arch/frv/include/asm/page.h</span>
<span class="p_header">+++ b/arch/frv/include/asm/page.h</span>
<span class="p_chunk">@@ -9,7 +9,7 @@</span> <span class="p_context"></span>
 #ifndef __ASSEMBLY__
 
 #define get_user_page(vaddr)			__get_free_page(GFP_KERNEL)
<span class="p_del">-#define free_user_page(page, addr)		free_page(addr)</span>
<span class="p_add">+#define free_user_page(page, addr)		free_page((void *)addr)</span>
 
 #define clear_page(pgaddr)			memset((pgaddr), 0, PAGE_SIZE)
 #define copy_page(to,from)			memcpy((to), (from), PAGE_SIZE)
<span class="p_header">diff --git a/arch/frv/include/asm/pgalloc.h b/arch/frv/include/asm/pgalloc.h</span>
<span class="p_header">index 416d19a..1fc047c 100644</span>
<span class="p_header">--- a/arch/frv/include/asm/pgalloc.h</span>
<span class="p_header">+++ b/arch/frv/include/asm/pgalloc.h</span>
<span class="p_chunk">@@ -40,7 +40,7 @@</span> <span class="p_context"> extern pgtable_t pte_alloc_one(struct mm_struct *, unsigned long);</span>
 
 static inline void pte_free_kernel(struct mm_struct *mm, pte_t *pte)
 {
<span class="p_del">-	free_page((unsigned long)pte);</span>
<span class="p_add">+	free_page(pte);</span>
 }
 
 static inline void pte_free(struct mm_struct *mm, pgtable_t pte)
<span class="p_header">diff --git a/arch/hexagon/include/asm/pgalloc.h b/arch/hexagon/include/asm/pgalloc.h</span>
<span class="p_header">index 77da3b0..48c04dc 100644</span>
<span class="p_header">--- a/arch/hexagon/include/asm/pgalloc.h</span>
<span class="p_header">+++ b/arch/hexagon/include/asm/pgalloc.h</span>
<span class="p_chunk">@@ -56,7 +56,7 @@</span> <span class="p_context"> static inline pgd_t *pgd_alloc(struct mm_struct *mm)</span>
 
 static inline void pgd_free(struct mm_struct *mm, pgd_t *pgd)
 {
<span class="p_del">-	free_page((unsigned long) pgd);</span>
<span class="p_add">+	free_page(pgd);</span>
 }
 
 static inline struct page *pte_alloc_one(struct mm_struct *mm,
<span class="p_chunk">@@ -90,7 +90,7 @@</span> <span class="p_context"> static inline void pte_free(struct mm_struct *mm, struct page *pte)</span>
 
 static inline void pte_free_kernel(struct mm_struct *mm, pte_t *pte)
 {
<span class="p_del">-	free_page((unsigned long)pte);</span>
<span class="p_add">+	free_page(pte);</span>
 }
 
 static inline void pmd_populate(struct mm_struct *mm, pmd_t *pmd,
<span class="p_header">diff --git a/arch/ia64/hp/sim/simserial.c b/arch/ia64/hp/sim/simserial.c</span>
<span class="p_header">index e70cade..36b3217 100644</span>
<span class="p_header">--- a/arch/ia64/hp/sim/simserial.c</span>
<span class="p_header">+++ b/arch/ia64/hp/sim/simserial.c</span>
<span class="p_chunk">@@ -339,7 +339,7 @@</span> <span class="p_context"> static void shutdown(struct tty_port *port)</span>
 		free_irq(info-&gt;irq, info);
 
 	if (info-&gt;xmit.buf) {
<span class="p_del">-		free_page((unsigned long) info-&gt;xmit.buf);</span>
<span class="p_add">+		free_page(info-&gt;xmit.buf);</span>
 		info-&gt;xmit.buf = NULL;
 	}
 	local_irq_restore(flags);
<span class="p_chunk">@@ -374,7 +374,7 @@</span> <span class="p_context"> static int activate(struct tty_port *port, struct tty_struct *tty)</span>
 	local_irq_save(flags);
 
 	if (state-&gt;xmit.buf)
<span class="p_del">-		free_page(page);</span>
<span class="p_add">+		free_page((void *)page);</span>
 	else
 		state-&gt;xmit.buf = (unsigned char *) page;
 
<span class="p_header">diff --git a/arch/m32r/include/asm/pgalloc.h b/arch/m32r/include/asm/pgalloc.h</span>
<span class="p_header">index 2d55a06..3923429 100644</span>
<span class="p_header">--- a/arch/m32r/include/asm/pgalloc.h</span>
<span class="p_header">+++ b/arch/m32r/include/asm/pgalloc.h</span>
<span class="p_chunk">@@ -27,7 +27,7 @@</span> <span class="p_context"> static __inline__ pgd_t *pgd_alloc(struct mm_struct *mm)</span>
 
 static inline void pgd_free(struct mm_struct *mm, pgd_t *pgd)
 {
<span class="p_del">-	free_page((unsigned long)pgd);</span>
<span class="p_add">+	free_page(pgd);</span>
 }
 
 static __inline__ pte_t *pte_alloc_one_kernel(struct mm_struct *mm,
<span class="p_chunk">@@ -54,7 +54,7 @@</span> <span class="p_context"> static __inline__ pgtable_t pte_alloc_one(struct mm_struct *mm,</span>
 
 static inline void pte_free_kernel(struct mm_struct *mm, pte_t *pte)
 {
<span class="p_del">-	free_page((unsigned long)pte);</span>
<span class="p_add">+	free_page(pte);</span>
 }
 
 static inline void pte_free(struct mm_struct *mm, pgtable_t pte)
<span class="p_header">diff --git a/arch/m68k/include/asm/mcf_pgalloc.h b/arch/m68k/include/asm/mcf_pgalloc.h</span>
<span class="p_header">index f9924fb..2e70a56 100644</span>
<span class="p_header">--- a/arch/m68k/include/asm/mcf_pgalloc.h</span>
<span class="p_header">+++ b/arch/m68k/include/asm/mcf_pgalloc.h</span>
<span class="p_chunk">@@ -6,7 +6,7 @@</span> <span class="p_context"></span>
 
 extern inline void pte_free_kernel(struct mm_struct *mm, pte_t *pte)
 {
<span class="p_del">-	free_page((unsigned long) pte);</span>
<span class="p_add">+	free_page(pte);</span>
 }
 
 extern const char bad_pmd_string[];
<span class="p_chunk">@@ -86,7 +86,7 @@</span> <span class="p_context"> extern inline void pte_free(struct mm_struct *mm, struct page *page)</span>
 
 static inline void pgd_free(struct mm_struct *mm, pgd_t *pgd)
 {
<span class="p_del">-	free_page((unsigned long) pgd);</span>
<span class="p_add">+	free_page(pgd);</span>
 }
 
 static inline pgd_t *pgd_alloc(struct mm_struct *mm)
<span class="p_header">diff --git a/arch/m68k/include/asm/motorola_pgalloc.h b/arch/m68k/include/asm/motorola_pgalloc.h</span>
<span class="p_header">index 24bcba4..6e84224 100644</span>
<span class="p_header">--- a/arch/m68k/include/asm/motorola_pgalloc.h</span>
<span class="p_header">+++ b/arch/m68k/include/asm/motorola_pgalloc.h</span>
<span class="p_chunk">@@ -24,7 +24,7 @@</span> <span class="p_context"> static inline pte_t *pte_alloc_one_kernel(struct mm_struct *mm, unsigned long ad</span>
 static inline void pte_free_kernel(struct mm_struct *mm, pte_t *pte)
 {
 	cache_page(pte);
<span class="p_del">-	free_page((unsigned long) pte);</span>
<span class="p_add">+	free_page(pte);</span>
 }
 
 static inline pgtable_t pte_alloc_one(struct mm_struct *mm, unsigned long address)
<span class="p_header">diff --git a/arch/m68k/include/asm/page_mm.h b/arch/m68k/include/asm/page_mm.h</span>
<span class="p_header">index 5029f73..1a735f8 100644</span>
<span class="p_header">--- a/arch/m68k/include/asm/page_mm.h</span>
<span class="p_header">+++ b/arch/m68k/include/asm/page_mm.h</span>
<span class="p_chunk">@@ -7,7 +7,7 @@</span> <span class="p_context"></span>
 #include &lt;asm/module.h&gt;
 
 #define get_user_page(vaddr)		__get_free_page(GFP_KERNEL)
<span class="p_del">-#define free_user_page(page, addr)	free_page(addr)</span>
<span class="p_add">+#define free_user_page(page, addr)	free_page((void *)addr)</span>
 
 /*
  * We don&#39;t need to check for alignment etc.
<span class="p_header">diff --git a/arch/m68k/include/asm/page_no.h b/arch/m68k/include/asm/page_no.h</span>
<span class="p_header">index ef20916..1f9ec40 100644</span>
<span class="p_header">--- a/arch/m68k/include/asm/page_no.h</span>
<span class="p_header">+++ b/arch/m68k/include/asm/page_no.h</span>
<span class="p_chunk">@@ -7,7 +7,7 @@</span> <span class="p_context"> extern unsigned long memory_start;</span>
 extern unsigned long memory_end;
 
 #define get_user_page(vaddr)		__get_free_page(GFP_KERNEL)
<span class="p_del">-#define free_user_page(page, addr)	free_page(addr)</span>
<span class="p_add">+#define free_user_page(page, addr)	free_page((void *)addr)</span>
 
 #define clear_page(page)	memset((page), 0, PAGE_SIZE)
 #define copy_page(to,from)	memcpy((to), (from), PAGE_SIZE)
<span class="p_header">diff --git a/arch/m68k/include/asm/sun3_pgalloc.h b/arch/m68k/include/asm/sun3_pgalloc.h</span>
<span class="p_header">index 0931388..ab0fd5c 100644</span>
<span class="p_header">--- a/arch/m68k/include/asm/sun3_pgalloc.h</span>
<span class="p_header">+++ b/arch/m68k/include/asm/sun3_pgalloc.h</span>
<span class="p_chunk">@@ -19,7 +19,7 @@</span> <span class="p_context"> extern const char bad_pmd_string[];</span>
 
 static inline void pte_free_kernel(struct mm_struct *mm, pte_t *pte)
 {
<span class="p_del">-        free_page((unsigned long) pte);</span>
<span class="p_add">+        free_page(pte);</span>
 }
 
 static inline void pte_free(struct mm_struct *mm, pgtable_t page)
<span class="p_chunk">@@ -83,7 +83,7 @@</span> <span class="p_context"> static inline void pmd_populate(struct mm_struct *mm, pmd_t *pmd, pgtable_t page</span>
 
 static inline void pgd_free(struct mm_struct *mm, pgd_t *pgd)
 {
<span class="p_del">-        free_page((unsigned long) pgd);</span>
<span class="p_add">+        free_page(pgd);</span>
 }
 
 static inline pgd_t * pgd_alloc(struct mm_struct *mm)
<span class="p_header">diff --git a/arch/m68k/mm/memory.c b/arch/m68k/mm/memory.c</span>
<span class="p_header">index 51bc9d2..d812b57 100644</span>
<span class="p_header">--- a/arch/m68k/mm/memory.c</span>
<span class="p_header">+++ b/arch/m68k/mm/memory.c</span>
<span class="p_chunk">@@ -114,7 +114,7 @@</span> <span class="p_context"> int free_pointer_table (pmd_t *ptable)</span>
 		/* all tables in page are free, free page */
 		list_del(dp);
 		cache_page((void *)page);
<span class="p_del">-		free_page (page);</span>
<span class="p_add">+		free_page((void *)page);</span>
 		return 1;
 	} else if (ptable_list.next != dp) {
 		/*
<span class="p_header">diff --git a/arch/metag/include/asm/pgalloc.h b/arch/metag/include/asm/pgalloc.h</span>
<span class="p_header">index 3104df0..cf9e2fb 100644</span>
<span class="p_header">--- a/arch/metag/include/asm/pgalloc.h</span>
<span class="p_header">+++ b/arch/metag/include/asm/pgalloc.h</span>
<span class="p_chunk">@@ -36,7 +36,7 @@</span> <span class="p_context"> static inline pgd_t *pgd_alloc(struct mm_struct *mm)</span>
 
 static inline void pgd_free(struct mm_struct *mm, pgd_t *pgd)
 {
<span class="p_del">-	free_page((unsigned long)pgd);</span>
<span class="p_add">+	free_page(pgd);</span>
 }
 
 static inline pte_t *pte_alloc_one_kernel(struct mm_struct *mm,
<span class="p_chunk">@@ -63,7 +63,7 @@</span> <span class="p_context"> static inline pgtable_t pte_alloc_one(struct mm_struct *mm,</span>
 
 static inline void pte_free_kernel(struct mm_struct *mm, pte_t *pte)
 {
<span class="p_del">-	free_page((unsigned long)pte);</span>
<span class="p_add">+	free_page(pte);</span>
 }
 
 static inline void pte_free(struct mm_struct *mm, pgtable_t pte)
<span class="p_header">diff --git a/arch/microblaze/include/asm/pgalloc.h b/arch/microblaze/include/asm/pgalloc.h</span>
<span class="p_header">index 61436d6..5e3fc6c 100644</span>
<span class="p_header">--- a/arch/microblaze/include/asm/pgalloc.h</span>
<span class="p_header">+++ b/arch/microblaze/include/asm/pgalloc.h</span>
<span class="p_chunk">@@ -93,7 +93,7 @@</span> <span class="p_context"> static inline void free_pgd_fast(pgd_t *pgd)</span>
 
 static inline void free_pgd_slow(pgd_t *pgd)
 {
<span class="p_del">-	free_page((unsigned long)pgd);</span>
<span class="p_add">+	free_page(pgd);</span>
 }
 
 #define pgd_free(mm, pgd)        free_pgd_fast(pgd)
<span class="p_chunk">@@ -155,7 +155,7 @@</span> <span class="p_context"> static inline void pte_free_fast(pte_t *pte)</span>
 
 static inline void pte_free_kernel(struct mm_struct *mm, pte_t *pte)
 {
<span class="p_del">-	free_page((unsigned long)pte);</span>
<span class="p_add">+	free_page(pte);</span>
 }
 
 static inline void pte_free_slow(struct page *ptepage)
<span class="p_header">diff --git a/arch/mn10300/include/asm/pgalloc.h b/arch/mn10300/include/asm/pgalloc.h</span>
<span class="p_header">index 0f25d5f..f07e2d1 100644</span>
<span class="p_header">--- a/arch/mn10300/include/asm/pgalloc.h</span>
<span class="p_header">+++ b/arch/mn10300/include/asm/pgalloc.h</span>
<span class="p_chunk">@@ -41,7 +41,7 @@</span> <span class="p_context"> extern struct page *pte_alloc_one(struct mm_struct *, unsigned long);</span>
 
 static inline void pte_free_kernel(struct mm_struct *mm, pte_t *pte)
 {
<span class="p_del">-	free_page((unsigned long) pte);</span>
<span class="p_add">+	free_page(pte);</span>
 }
 
 static inline void pte_free(struct mm_struct *mm, struct page *pte)
<span class="p_header">diff --git a/arch/openrisc/include/asm/page.h b/arch/openrisc/include/asm/page.h</span>
<span class="p_header">index 108906f..8ab6f6f 100644</span>
<span class="p_header">--- a/arch/openrisc/include/asm/page.h</span>
<span class="p_header">+++ b/arch/openrisc/include/asm/page.h</span>
<span class="p_chunk">@@ -41,7 +41,7 @@</span> <span class="p_context"></span>
 #ifndef __ASSEMBLY__
 
 #define get_user_page(vaddr)            __get_free_page(GFP_KERNEL)
<span class="p_del">-#define free_user_page(page, addr)      free_page(addr)</span>
<span class="p_add">+#define free_user_page(page, addr)      free_page((void *)addr)</span>
 
 #define clear_page(page)	memset((page), 0, PAGE_SIZE)
 #define copy_page(to, from)	memcpy((to), (from), PAGE_SIZE)
<span class="p_header">diff --git a/arch/openrisc/include/asm/pgalloc.h b/arch/openrisc/include/asm/pgalloc.h</span>
<span class="p_header">index 21484e5b..1f61391 100644</span>
<span class="p_header">--- a/arch/openrisc/include/asm/pgalloc.h</span>
<span class="p_header">+++ b/arch/openrisc/include/asm/pgalloc.h</span>
<span class="p_chunk">@@ -68,7 +68,7 @@</span> <span class="p_context"> extern inline pgd_t *pgd_alloc(struct mm_struct *mm)</span>
 
 static inline void pgd_free(struct mm_struct *mm, pgd_t *pgd)
 {
<span class="p_del">-	free_page((unsigned long)pgd);</span>
<span class="p_add">+	free_page(pgd);</span>
 }
 
 extern pte_t *pte_alloc_one_kernel(struct mm_struct *mm, unsigned long address);
<span class="p_chunk">@@ -90,7 +90,7 @@</span> <span class="p_context"> static inline struct page *pte_alloc_one(struct mm_struct *mm,</span>
 
 static inline void pte_free_kernel(struct mm_struct *mm, pte_t *pte)
 {
<span class="p_del">-	free_page((unsigned long)pte);</span>
<span class="p_add">+	free_page(pte);</span>
 }
 
 static inline void pte_free(struct mm_struct *mm, struct page *pte)
<span class="p_header">diff --git a/arch/parisc/include/asm/pgalloc.h b/arch/parisc/include/asm/pgalloc.h</span>
<span class="p_header">index f2fd327..daca63d 100644</span>
<span class="p_header">--- a/arch/parisc/include/asm/pgalloc.h</span>
<span class="p_header">+++ b/arch/parisc/include/asm/pgalloc.h</span>
<span class="p_chunk">@@ -143,7 +143,7 @@</span> <span class="p_context"> pte_alloc_one_kernel(struct mm_struct *mm, unsigned long addr)</span>
 
 static inline void pte_free_kernel(struct mm_struct *mm, pte_t *pte)
 {
<span class="p_del">-	free_page((unsigned long)pte);</span>
<span class="p_add">+	free_page(pte);</span>
 }
 
 static inline void pte_free(struct mm_struct *mm, struct page *pte)
<span class="p_header">diff --git a/arch/powerpc/include/asm/pgalloc-32.h b/arch/powerpc/include/asm/pgalloc-32.h</span>
<span class="p_header">index 842846c..d25a3c3 100644</span>
<span class="p_header">--- a/arch/powerpc/include/asm/pgalloc-32.h</span>
<span class="p_header">+++ b/arch/powerpc/include/asm/pgalloc-32.h</span>
<span class="p_chunk">@@ -39,7 +39,7 @@</span> <span class="p_context"> extern pgtable_t pte_alloc_one(struct mm_struct *mm, unsigned long addr);</span>
 
 static inline void pte_free_kernel(struct mm_struct *mm, pte_t *pte)
 {
<span class="p_del">-	free_page((unsigned long)pte);</span>
<span class="p_add">+	free_page(pte);</span>
 }
 
 static inline void pte_free(struct mm_struct *mm, pgtable_t ptepage)
<span class="p_chunk">@@ -51,7 +51,7 @@</span> <span class="p_context"> static inline void pte_free(struct mm_struct *mm, pgtable_t ptepage)</span>
 static inline void pgtable_free(void *table, unsigned index_size)
 {
 	BUG_ON(index_size); /* 32-bit doesn&#39;t use this */
<span class="p_del">-	free_page((unsigned long)table);</span>
<span class="p_add">+	free_page(table);</span>
 }
 
 #define check_pgt_cache()	do { } while (0)
<span class="p_header">diff --git a/arch/powerpc/include/asm/pgalloc-64.h b/arch/powerpc/include/asm/pgalloc-64.h</span>
<span class="p_header">index 4b0be20..c26021b 100644</span>
<span class="p_header">--- a/arch/powerpc/include/asm/pgalloc-64.h</span>
<span class="p_header">+++ b/arch/powerpc/include/asm/pgalloc-64.h</span>
<span class="p_chunk">@@ -101,7 +101,7 @@</span> <span class="p_context"> static inline pgtable_t pte_alloc_one(struct mm_struct *mm,</span>
 
 static inline void pte_free_kernel(struct mm_struct *mm, pte_t *pte)
 {
<span class="p_del">-	free_page((unsigned long)pte);</span>
<span class="p_add">+	free_page(pte);</span>
 }
 
 static inline void pte_free(struct mm_struct *mm, pgtable_t ptepage)
<span class="p_chunk">@@ -113,7 +113,7 @@</span> <span class="p_context"> static inline void pte_free(struct mm_struct *mm, pgtable_t ptepage)</span>
 static inline void pgtable_free(void *table, unsigned index_size)
 {
 	if (!index_size)
<span class="p_del">-		free_page((unsigned long)table);</span>
<span class="p_add">+		free_page(table);</span>
 	else {
 		BUG_ON(index_size &gt; MAX_PGTABLE_INDEX_SIZE);
 		kmem_cache_free(PGT_CACHE(index_size), table);
<span class="p_header">diff --git a/arch/powerpc/kvm/book3s_pr.c b/arch/powerpc/kvm/book3s_pr.c</span>
<span class="p_header">index 64891b0..3775664 100644</span>
<span class="p_header">--- a/arch/powerpc/kvm/book3s_pr.c</span>
<span class="p_header">+++ b/arch/powerpc/kvm/book3s_pr.c</span>
<span class="p_chunk">@@ -1452,7 +1452,7 @@</span> <span class="p_context"> static void kvmppc_core_vcpu_free_pr(struct kvm_vcpu *vcpu)</span>
 {
 	struct kvmppc_vcpu_book3s *vcpu_book3s = to_book3s(vcpu);
 
<span class="p_del">-	free_page((unsigned long)vcpu-&gt;arch.shared &amp; PAGE_MASK);</span>
<span class="p_add">+	free_page((void *)((unsigned long)vcpu-&gt;arch.shared &amp; PAGE_MASK));</span>
 	kvm_vcpu_uninit(vcpu);
 #ifdef CONFIG_KVM_BOOK3S_32_HANDLER
 	kfree(vcpu-&gt;arch.shadow_vcpu);
<span class="p_header">diff --git a/arch/powerpc/kvm/e500.c b/arch/powerpc/kvm/e500.c</span>
<span class="p_header">index 32fdab5..29803fb 100644</span>
<span class="p_header">--- a/arch/powerpc/kvm/e500.c</span>
<span class="p_header">+++ b/arch/powerpc/kvm/e500.c</span>
<span class="p_chunk">@@ -484,7 +484,7 @@</span> <span class="p_context"> static void kvmppc_core_vcpu_free_e500(struct kvm_vcpu *vcpu)</span>
 {
 	struct kvmppc_vcpu_e500 *vcpu_e500 = to_e500(vcpu);
 
<span class="p_del">-	free_page((unsigned long)vcpu-&gt;arch.shared);</span>
<span class="p_add">+	free_page(vcpu-&gt;arch.shared);</span>
 	kvmppc_e500_tlb_uninit(vcpu_e500);
 	kvmppc_e500_id_table_free(vcpu_e500);
 	kvm_vcpu_uninit(vcpu);
<span class="p_header">diff --git a/arch/powerpc/kvm/e500mc.c b/arch/powerpc/kvm/e500mc.c</span>
<span class="p_header">index cda695d..e002a71 100644</span>
<span class="p_header">--- a/arch/powerpc/kvm/e500mc.c</span>
<span class="p_header">+++ b/arch/powerpc/kvm/e500mc.c</span>
<span class="p_chunk">@@ -351,7 +351,7 @@</span> <span class="p_context"> static void kvmppc_core_vcpu_free_e500mc(struct kvm_vcpu *vcpu)</span>
 {
 	struct kvmppc_vcpu_e500 *vcpu_e500 = to_e500(vcpu);
 
<span class="p_del">-	free_page((unsigned long)vcpu-&gt;arch.shared);</span>
<span class="p_add">+	free_page(vcpu-&gt;arch.shared);</span>
 	kvmppc_e500_tlb_uninit(vcpu_e500);
 	kvm_vcpu_uninit(vcpu);
 	kmem_cache_free(kvm_vcpu_cache, vcpu_e500);
<span class="p_header">diff --git a/arch/powerpc/mm/hugetlbpage.c b/arch/powerpc/mm/hugetlbpage.c</span>
<span class="p_header">index 9833fee..a466b84 100644</span>
<span class="p_header">--- a/arch/powerpc/mm/hugetlbpage.c</span>
<span class="p_header">+++ b/arch/powerpc/mm/hugetlbpage.c</span>
<span class="p_chunk">@@ -479,7 +479,7 @@</span> <span class="p_context"> static void hugepd_free_rcu_callback(struct rcu_head *head)</span>
 	for (i = 0; i &lt; batch-&gt;index; i++)
 		kmem_cache_free(hugepte_cache, batch-&gt;ptes[i]);
 
<span class="p_del">-	free_page((unsigned long)batch);</span>
<span class="p_add">+	free_page(batch);</span>
 }
 
 static void hugepd_free(struct mmu_gather *tlb, void *hugepte)
<span class="p_header">diff --git a/arch/powerpc/mm/subpage-prot.c b/arch/powerpc/mm/subpage-prot.c</span>
<span class="p_header">index fa9fb5b..6f962db 100644</span>
<span class="p_header">--- a/arch/powerpc/mm/subpage-prot.c</span>
<span class="p_header">+++ b/arch/powerpc/mm/subpage-prot.c</span>
<span class="p_chunk">@@ -31,7 +31,7 @@</span> <span class="p_context"> void subpage_prot_free(struct mm_struct *mm)</span>
 
 	for (i = 0; i &lt; 4; ++i) {
 		if (spt-&gt;low_prot[i]) {
<span class="p_del">-			free_page((unsigned long)spt-&gt;low_prot[i]);</span>
<span class="p_add">+			free_page(spt-&gt;low_prot[i]);</span>
 			spt-&gt;low_prot[i] = NULL;
 		}
 	}
<span class="p_chunk">@@ -44,8 +44,8 @@</span> <span class="p_context"> void subpage_prot_free(struct mm_struct *mm)</span>
 		for (j = 0; j &lt; SBP_L2_COUNT &amp;&amp; addr &lt; spt-&gt;maxaddr;
 		     ++j, addr += PAGE_SIZE)
 			if (p[j])
<span class="p_del">-				free_page((unsigned long)p[j]);</span>
<span class="p_del">-		free_page((unsigned long)p);</span>
<span class="p_add">+				free_page(p[j]);</span>
<span class="p_add">+		free_page(p);</span>
 	}
 	spt-&gt;maxaddr = 0;
 }
<span class="p_header">diff --git a/arch/powerpc/platforms/cell/spufs/coredump.c b/arch/powerpc/platforms/cell/spufs/coredump.c</span>
<span class="p_header">index be6212d..766c41d 100644</span>
<span class="p_header">--- a/arch/powerpc/platforms/cell/spufs/coredump.c</span>
<span class="p_header">+++ b/arch/powerpc/platforms/cell/spufs/coredump.c</span>
<span class="p_chunk">@@ -175,10 +175,10 @@</span> <span class="p_context"> static int spufs_arch_write_note(struct spu_context *ctx, int i,</span>
 		       roundup(cprm-&gt;written - total + sz, 4) - cprm-&gt;written))
 		goto Eio;
 out:
<span class="p_del">-	free_page((unsigned long)buf);</span>
<span class="p_add">+	free_page(buf);</span>
 	return rc;
 Eio:
<span class="p_del">-	free_page((unsigned long)buf);</span>
<span class="p_add">+	free_page(buf);</span>
 	return -EIO;
 }
 
<span class="p_header">diff --git a/arch/powerpc/platforms/pseries/cmm.c b/arch/powerpc/platforms/pseries/cmm.c</span>
<span class="p_header">index fc44ad0..db1dbe6 100644</span>
<span class="p_header">--- a/arch/powerpc/platforms/pseries/cmm.c</span>
<span class="p_header">+++ b/arch/powerpc/platforms/pseries/cmm.c</span>
<span class="p_chunk">@@ -150,7 +150,7 @@</span> <span class="p_context"> static long cmm_alloc_pages(long nr)</span>
 					__GFP_NORETRY | __GFP_NOMEMALLOC);
 			if (!npa) {
 				pr_info(&quot;%s: Can not allocate new page list\n&quot;, __func__);
<span class="p_del">-				free_page(addr);</span>
<span class="p_add">+				free_page((void *)addr);</span>
 				break;
 			}
 			spin_lock(&amp;cmm_lock);
<span class="p_chunk">@@ -162,13 +162,13 @@</span> <span class="p_context"> static long cmm_alloc_pages(long nr)</span>
 				pa = npa;
 				cmm_page_list = pa;
 			} else
<span class="p_del">-				free_page((unsigned long) npa);</span>
<span class="p_add">+				free_page(npa);</span>
 		}
 
 		if ((rc = plpar_page_set_loaned(__pa(addr)))) {
 			pr_err(&quot;%s: Can not set page to loaned. rc=%ld\n&quot;, __func__, rc);
 			spin_unlock(&amp;cmm_lock);
<span class="p_del">-			free_page(addr);</span>
<span class="p_add">+			free_page((void *)addr);</span>
 			break;
 		}
 
<span class="p_chunk">@@ -205,12 +205,12 @@</span> <span class="p_context"> static long cmm_free_pages(long nr)</span>
 
 		if (pa-&gt;index == 0) {
 			pa = pa-&gt;next;
<span class="p_del">-			free_page((unsigned long) cmm_page_list);</span>
<span class="p_add">+			free_page(cmm_page_list);</span>
 			cmm_page_list = pa;
 		}
 
 		plpar_page_set_active(__pa(addr));
<span class="p_del">-		free_page(addr);</span>
<span class="p_add">+		free_page((void *)addr);</span>
 		loaned_pages--;
 		nr--;
 		totalram_pages++;
<span class="p_chunk">@@ -544,7 +544,7 @@</span> <span class="p_context"> static int cmm_mem_going_offline(void *arg)</span>
 				continue;
 
 			plpar_page_set_active(__pa(pa_curr-&gt;page[idx]));
<span class="p_del">-			free_page(pa_curr-&gt;page[idx]);</span>
<span class="p_add">+			free_page((void *)pa_curr-&gt;page[idx]);</span>
 			freed++;
 			loaned_pages--;
 			totalram_pages++;
<span class="p_chunk">@@ -553,7 +553,7 @@</span> <span class="p_context"> static int cmm_mem_going_offline(void *arg)</span>
 				if (pa_curr == pa_last)
 					pa_curr = pa_last-&gt;next;
 				pa_last = pa_last-&gt;next;
<span class="p_del">-				free_page((unsigned long)cmm_page_list);</span>
<span class="p_add">+				free_page(cmm_page_list);</span>
 				cmm_page_list = pa_last;
 			}
 		}
<span class="p_chunk">@@ -581,7 +581,7 @@</span> <span class="p_context"> static int cmm_mem_going_offline(void *arg)</span>
 				cmm_page_list = npa;
 			if (pa_last)
 				pa_last-&gt;next = npa;
<span class="p_del">-			free_page((unsigned long) pa_curr);</span>
<span class="p_add">+			free_page(pa_curr);</span>
 			freed++;
 			pa_curr = npa;
 		}
<span class="p_header">diff --git a/arch/powerpc/platforms/pseries/pseries_energy.c b/arch/powerpc/platforms/pseries/pseries_energy.c</span>
<span class="p_header">index 9276779..26eac2a 100644</span>
<span class="p_header">--- a/arch/powerpc/platforms/pseries/pseries_energy.c</span>
<span class="p_header">+++ b/arch/powerpc/platforms/pseries/pseries_energy.c</span>
<span class="p_chunk">@@ -131,7 +131,7 @@</span> <span class="p_context"> static ssize_t get_best_energy_list(char *page, int activate)</span>
 	rc = plpar_hcall9(H_BEST_ENERGY, retbuf, flags, 0, __pa(buf_page),
 				0, 0, 0, 0, 0, 0);
 	if (rc != H_SUCCESS) {
<span class="p_del">-		free_page((unsigned long) buf_page);</span>
<span class="p_add">+		free_page(buf_page);</span>
 		return -EINVAL;
 	}
 
<span class="p_chunk">@@ -147,7 +147,7 @@</span> <span class="p_context"> static ssize_t get_best_energy_list(char *page, int activate)</span>
 		s += sprintf(s, &quot;\n&quot;);
 	}
 
<span class="p_del">-	free_page((unsigned long) buf_page);</span>
<span class="p_add">+	free_page(buf_page);</span>
 	return s-page;
 }
 
<span class="p_header">diff --git a/arch/s390/crypto/aes_s390.c b/arch/s390/crypto/aes_s390.c</span>
<span class="p_header">index 0b9b95f..4b610d6 100644</span>
<span class="p_header">--- a/arch/s390/crypto/aes_s390.c</span>
<span class="p_header">+++ b/arch/s390/crypto/aes_s390.c</span>
<span class="p_chunk">@@ -943,7 +943,7 @@</span> <span class="p_context"> static int __init aes_s390_init(void)</span>
 		}
 		ret = crypto_register_alg(&amp;ctr_aes_alg);
 		if (ret) {
<span class="p_del">-			free_page((unsigned long) ctrblk);</span>
<span class="p_add">+			free_page(ctrblk);</span>
 			goto ctr_aes_err;
 		}
 		ctr_aes_alg_reg = 1;
<span class="p_chunk">@@ -968,7 +968,7 @@</span> <span class="p_context"> static void __exit aes_s390_fini(void)</span>
 {
 	if (ctr_aes_alg_reg) {
 		crypto_unregister_alg(&amp;ctr_aes_alg);
<span class="p_del">-		free_page((unsigned long) ctrblk);</span>
<span class="p_add">+		free_page(ctrblk);</span>
 	}
 	if (xts_aes_alg_reg)
 		crypto_unregister_alg(&amp;xts_aes_alg);
<span class="p_header">diff --git a/arch/s390/crypto/des_s390.c b/arch/s390/crypto/des_s390.c</span>
<span class="p_header">index fba1c10..9f402dc 100644</span>
<span class="p_header">--- a/arch/s390/crypto/des_s390.c</span>
<span class="p_header">+++ b/arch/s390/crypto/des_s390.c</span>
<span class="p_chunk">@@ -607,7 +607,7 @@</span> <span class="p_context"> static void __exit des_s390_exit(void)</span>
 	if (ctrblk) {
 		crypto_unregister_alg(&amp;ctr_des_alg);
 		crypto_unregister_alg(&amp;ctr_des3_alg);
<span class="p_del">-		free_page((unsigned long) ctrblk);</span>
<span class="p_add">+		free_page(ctrblk);</span>
 	}
 	crypto_unregister_alg(&amp;cbc_des3_alg);
 	crypto_unregister_alg(&amp;ecb_des3_alg);
<span class="p_header">diff --git a/arch/s390/crypto/prng.c b/arch/s390/crypto/prng.c</span>
<span class="p_header">index b8045b9..d3835d2 100644</span>
<span class="p_header">--- a/arch/s390/crypto/prng.c</span>
<span class="p_header">+++ b/arch/s390/crypto/prng.c</span>
<span class="p_chunk">@@ -150,7 +150,7 @@</span> <span class="p_context"> static int generate_entropy(u8 *ebuf, size_t nbytes)</span>
 	}
 
 out:
<span class="p_del">-	free_page((unsigned long)pg);</span>
<span class="p_add">+	free_page(pg);</span>
 	return ret;
 }
 
<span class="p_header">diff --git a/arch/s390/hypfs/hypfs_sprp.c b/arch/s390/hypfs/hypfs_sprp.c</span>
<span class="p_header">index c9e5c72..8d98c96 100644</span>
<span class="p_header">--- a/arch/s390/hypfs/hypfs_sprp.c</span>
<span class="p_header">+++ b/arch/s390/hypfs/hypfs_sprp.c</span>
<span class="p_chunk">@@ -43,7 +43,7 @@</span> <span class="p_context"> static unsigned long hypfs_sprp_diag304(void *data, unsigned long cmd)</span>
 
 static void hypfs_sprp_free(const void *data)
 {
<span class="p_del">-	free_page((unsigned long) data);</span>
<span class="p_add">+	free_page(data);</span>
 }
 
 static int hypfs_sprp_create(void **data_ptr, void **free_ptr, size_t *size)
<span class="p_chunk">@@ -58,7 +58,7 @@</span> <span class="p_context"> static int hypfs_sprp_create(void **data_ptr, void **free_ptr, size_t *size)</span>
 	if (rc != 1) {
 		*data_ptr = *free_ptr = NULL;
 		*size = 0;
<span class="p_del">-		free_page((unsigned long) data);</span>
<span class="p_add">+		free_page(data);</span>
 		return -EIO;
 	}
 	*data_ptr = *free_ptr = data;
<span class="p_chunk">@@ -102,7 +102,7 @@</span> <span class="p_context"> static int __hypfs_sprp_ioctl(void __user *user_area)</span>
 
 	rc = copy_to_user(user_area, &amp;diag304, sizeof(diag304)) ? -EFAULT : 0;
 out:
<span class="p_del">-	free_page((unsigned long) data);</span>
<span class="p_add">+	free_page(data);</span>
 	return rc;
 }
 
<span class="p_header">diff --git a/arch/s390/kernel/ipl.c b/arch/s390/kernel/ipl.c</span>
<span class="p_header">index b1f0a90..b1f6414 100644</span>
<span class="p_header">--- a/arch/s390/kernel/ipl.c</span>
<span class="p_header">+++ b/arch/s390/kernel/ipl.c</span>
<span class="p_chunk">@@ -1240,14 +1240,14 @@</span> <span class="p_context"> static int __init reipl_fcp_init(void)</span>
 	reipl_fcp_kset = kset_create_and_add(IPL_FCP_STR, NULL,
 					     &amp;reipl_kset-&gt;kobj);
 	if (!reipl_fcp_kset) {
<span class="p_del">-		free_page((unsigned long) reipl_block_fcp);</span>
<span class="p_add">+		free_page(reipl_block_fcp);</span>
 		return -ENOMEM;
 	}
 
 	rc = sysfs_create_group(&amp;reipl_fcp_kset-&gt;kobj, &amp;reipl_fcp_attr_group);
 	if (rc) {
 		kset_unregister(reipl_fcp_kset);
<span class="p_del">-		free_page((unsigned long) reipl_block_fcp);</span>
<span class="p_add">+		free_page(reipl_block_fcp);</span>
 		return rc;
 	}
 
<span class="p_chunk">@@ -1474,7 +1474,7 @@</span> <span class="p_context"> static int __init dump_ccw_init(void)</span>
 		return -ENOMEM;
 	rc = sysfs_create_group(&amp;dump_kset-&gt;kobj, &amp;dump_ccw_attr_group);
 	if (rc) {
<span class="p_del">-		free_page((unsigned long)dump_block_ccw);</span>
<span class="p_add">+		free_page(dump_block_ccw);</span>
 		return rc;
 	}
 	dump_block_ccw-&gt;hdr.len = IPL_PARM_BLK_CCW_LEN;
<span class="p_chunk">@@ -1498,7 +1498,7 @@</span> <span class="p_context"> static int __init dump_fcp_init(void)</span>
 		return -ENOMEM;
 	rc = sysfs_create_group(&amp;dump_kset-&gt;kobj, &amp;dump_fcp_attr_group);
 	if (rc) {
<span class="p_del">-		free_page((unsigned long)dump_block_fcp);</span>
<span class="p_add">+		free_page(dump_block_fcp);</span>
 		return rc;
 	}
 	dump_block_fcp-&gt;hdr.len = IPL_PARM_BLK_FCP_LEN;
<span class="p_header">diff --git a/arch/s390/kernel/kprobes.c b/arch/s390/kernel/kprobes.c</span>
<span class="p_header">index 389db56..2021dc0 100644</span>
<span class="p_header">--- a/arch/s390/kernel/kprobes.c</span>
<span class="p_header">+++ b/arch/s390/kernel/kprobes.c</span>
<span class="p_chunk">@@ -48,7 +48,7 @@</span> <span class="p_context"> static void *alloc_dmainsn_page(void)</span>
 
 static void free_dmainsn_page(void *page)
 {
<span class="p_del">-	free_page((unsigned long)page);</span>
<span class="p_add">+	free_page(page);</span>
 }
 
 struct kprobe_insn_cache kprobe_dmainsn_slots = {
<span class="p_header">diff --git a/arch/s390/kernel/perf_cpum_sf.c b/arch/s390/kernel/perf_cpum_sf.c</span>
<span class="p_header">index 3d8da1e..0dca133 100644</span>
<span class="p_header">--- a/arch/s390/kernel/perf_cpum_sf.c</span>
<span class="p_header">+++ b/arch/s390/kernel/perf_cpum_sf.c</span>
<span class="p_chunk">@@ -132,7 +132,7 @@</span> <span class="p_context"> static void free_sampling_buffer(struct sf_buffer *sfb)</span>
 		if (is_link_entry(curr)) {
 			curr = get_next_sdbt(curr);
 			if (sdbt)
<span class="p_del">-				free_page((unsigned long) sdbt);</span>
<span class="p_add">+				free_page(sdbt);</span>
 
 			/* If the origin is reached, sampling buffer is freed */
 			if (curr == sfb-&gt;sdbt)
<span class="p_chunk">@@ -142,7 +142,7 @@</span> <span class="p_context"> static void free_sampling_buffer(struct sf_buffer *sfb)</span>
 		} else {
 			/* Process SDB pointer */
 			if (*curr) {
<span class="p_del">-				free_page(*curr);</span>
<span class="p_add">+				free_page((void *)*curr);</span>
 				curr++;
 			}
 		}
<span class="p_header">diff --git a/arch/s390/kernel/setup.c b/arch/s390/kernel/setup.c</span>
<span class="p_header">index c837bca..2556124 100644</span>
<span class="p_header">--- a/arch/s390/kernel/setup.c</span>
<span class="p_header">+++ b/arch/s390/kernel/setup.c</span>
<span class="p_chunk">@@ -807,7 +807,7 @@</span> <span class="p_context"> static void __init setup_randomness(void)</span>
 	vmms = (struct sysinfo_3_2_2 *) alloc_page(GFP_KERNEL);
 	if (vmms &amp;&amp; stsi(vmms, 3, 2, 2) == 0 &amp;&amp; vmms-&gt;count)
 		add_device_randomness(&amp;vmms, vmms-&gt;count);
<span class="p_del">-	free_page((unsigned long) vmms);</span>
<span class="p_add">+	free_page(vmms);</span>
 }
 
 /*
<span class="p_header">diff --git a/arch/s390/kernel/smp.c b/arch/s390/kernel/smp.c</span>
<span class="p_header">index 9062df5..216c8f5 100644</span>
<span class="p_header">--- a/arch/s390/kernel/smp.c</span>
<span class="p_header">+++ b/arch/s390/kernel/smp.c</span>
<span class="p_chunk">@@ -210,7 +210,7 @@</span> <span class="p_context"> static int pcpu_alloc_lowcore(struct pcpu *pcpu, int cpu)</span>
 	return 0;
 out:
 	if (pcpu != &amp;pcpu_devices[0]) {
<span class="p_del">-		free_page(panic_stack);</span>
<span class="p_add">+		free_page((void *)panic_stack);</span>
 		free_pages(async_stack, ASYNC_ORDER);
 		free_pages((unsigned long) pcpu-&gt;lowcore, LC_ORDER);
 	}
<span class="p_chunk">@@ -226,7 +226,7 @@</span> <span class="p_context"> static void pcpu_free_lowcore(struct pcpu *pcpu)</span>
 	vdso_free_per_cpu(pcpu-&gt;lowcore);
 	if (pcpu == &amp;pcpu_devices[0])
 		return;
<span class="p_del">-	free_page(pcpu-&gt;lowcore-&gt;panic_stack-PANIC_FRAME_OFFSET);</span>
<span class="p_add">+	free_page((void *)(pcpu-&gt;lowcore-&gt;panic_stack-PANIC_FRAME_OFFSET));</span>
 	free_pages(pcpu-&gt;lowcore-&gt;async_stack-ASYNC_FRAME_OFFSET, ASYNC_ORDER);
 	free_pages((unsigned long) pcpu-&gt;lowcore, LC_ORDER);
 }
<span class="p_header">diff --git a/arch/s390/kernel/suspend.c b/arch/s390/kernel/suspend.c</span>
<span class="p_header">index 39e2f41..8c23212 100644</span>
<span class="p_header">--- a/arch/s390/kernel/suspend.c</span>
<span class="p_header">+++ b/arch/s390/kernel/suspend.c</span>
<span class="p_chunk">@@ -65,7 +65,7 @@</span> <span class="p_context"> void page_key_free(void)</span>
 	while (page_key_data) {
 		pkd = page_key_data;
 		page_key_data = pkd-&gt;next;
<span class="p_del">-		free_page((unsigned long) pkd);</span>
<span class="p_add">+		free_page(pkd);</span>
 	}
 }
 
<span class="p_header">diff --git a/arch/s390/kernel/sysinfo.c b/arch/s390/kernel/sysinfo.c</span>
<span class="p_header">index 99babea..f6a4c52 100644</span>
<span class="p_header">--- a/arch/s390/kernel/sysinfo.c</span>
<span class="p_header">+++ b/arch/s390/kernel/sysinfo.c</span>
<span class="p_chunk">@@ -271,7 +271,7 @@</span> <span class="p_context"> static int sysinfo_show(struct seq_file *m, void *v)</span>
 		stsi_2_2_2(m, info);
 	if (level &gt;= 3)
 		stsi_3_2_2(m, info);
<span class="p_del">-	free_page((unsigned long)info);</span>
<span class="p_add">+	free_page(info);</span>
 	return 0;
 }
 
<span class="p_chunk">@@ -449,7 +449,7 @@</span> <span class="p_context"> void s390_adjust_jiffies(void)</span>
 		 */
 		capability = 42;
 	loops_per_jiffy = capability * (500000/HZ);
<span class="p_del">-	free_page((unsigned long) info);</span>
<span class="p_add">+	free_page(info);</span>
 }
 
 /*
<span class="p_header">diff --git a/arch/s390/kernel/time.c b/arch/s390/kernel/time.c</span>
<span class="p_header">index 99f84ac31..1ce2c3a 100644</span>
<span class="p_header">--- a/arch/s390/kernel/time.c</span>
<span class="p_header">+++ b/arch/s390/kernel/time.c</span>
<span class="p_chunk">@@ -1466,7 +1466,7 @@</span> <span class="p_context"> static void __init stp_reset(void)</span>
 	else if (stp_online) {
 		pr_warning(&quot;The real or virtual hardware system does &quot;
 			   &quot;not provide an STP interface\n&quot;);
<span class="p_del">-		free_page((unsigned long) stp_page);</span>
<span class="p_add">+		free_page(stp_page);</span>
 		stp_page = NULL;
 		stp_online = 0;
 	}
<span class="p_header">diff --git a/arch/s390/kernel/vdso.c b/arch/s390/kernel/vdso.c</span>
<span class="p_header">index 59eddb0..2391d83 100644</span>
<span class="p_header">--- a/arch/s390/kernel/vdso.c</span>
<span class="p_header">+++ b/arch/s390/kernel/vdso.c</span>
<span class="p_chunk">@@ -132,8 +132,8 @@</span> <span class="p_context"> int vdso_alloc_per_cpu(struct _lowcore *lowcore)</span>
 	return 0;
 
 out:
<span class="p_del">-	free_page(page_frame);</span>
<span class="p_del">-	free_page(page_table);</span>
<span class="p_add">+	free_page((void *)page_frame);</span>
<span class="p_add">+	free_page((void *)page_table);</span>
 	free_pages(segment_table, SEGMENT_ORDER);
 	return -ENOMEM;
 }
<span class="p_chunk">@@ -152,8 +152,8 @@</span> <span class="p_context"> void vdso_free_per_cpu(struct _lowcore *lowcore)</span>
 	page_table = *(unsigned long *) segment_table;
 	page_frame = *(unsigned long *) page_table;
 
<span class="p_del">-	free_page(page_frame);</span>
<span class="p_del">-	free_page(page_table);</span>
<span class="p_add">+	free_page((void *)page_frame);</span>
<span class="p_add">+	free_page((void *)page_table);</span>
 	free_pages(segment_table, SEGMENT_ORDER);
 }
 
<span class="p_header">diff --git a/arch/s390/kvm/kvm-s390.c b/arch/s390/kvm/kvm-s390.c</span>
<span class="p_header">index 8465892..940dd42 100644</span>
<span class="p_header">--- a/arch/s390/kvm/kvm-s390.c</span>
<span class="p_header">+++ b/arch/s390/kvm/kvm-s390.c</span>
<span class="p_chunk">@@ -1175,9 +1175,9 @@</span> <span class="p_context"> int kvm_arch_init_vm(struct kvm *kvm, unsigned long type)</span>
 	return 0;
 out_err:
 	kfree(kvm-&gt;arch.crypto.crycb);
<span class="p_del">-	free_page((unsigned long)kvm-&gt;arch.model.fac);</span>
<span class="p_add">+	free_page(kvm-&gt;arch.model.fac);</span>
 	debug_unregister(kvm-&gt;arch.dbf);
<span class="p_del">-	free_page((unsigned long)(kvm-&gt;arch.sca));</span>
<span class="p_add">+	free_page(kvm-&gt;arch.sca);</span>
 	KVM_EVENT(3, &quot;creation of vm failed: %d&quot;, rc);
 	return rc;
 }
<span class="p_chunk">@@ -1202,7 +1202,7 @@</span> <span class="p_context"> void kvm_arch_vcpu_destroy(struct kvm_vcpu *vcpu)</span>
 
 	if (vcpu-&gt;kvm-&gt;arch.use_cmma)
 		kvm_s390_vcpu_unsetup_cmma(vcpu);
<span class="p_del">-	free_page((unsigned long)(vcpu-&gt;arch.sie_block));</span>
<span class="p_add">+	free_page(vcpu-&gt;arch.sie_block);</span>
 
 	kvm_vcpu_uninit(vcpu);
 	kmem_cache_free(kvm_vcpu_cache, vcpu);
<span class="p_chunk">@@ -1227,8 +1227,8 @@</span> <span class="p_context"> static void kvm_free_vcpus(struct kvm *kvm)</span>
 void kvm_arch_destroy_vm(struct kvm *kvm)
 {
 	kvm_free_vcpus(kvm);
<span class="p_del">-	free_page((unsigned long)kvm-&gt;arch.model.fac);</span>
<span class="p_del">-	free_page((unsigned long)(kvm-&gt;arch.sca));</span>
<span class="p_add">+	free_page(kvm-&gt;arch.model.fac);</span>
<span class="p_add">+	free_page(kvm-&gt;arch.sca);</span>
 	debug_unregister(kvm-&gt;arch.dbf);
 	kfree(kvm-&gt;arch.crypto.crycb);
 	if (!kvm_is_ucontrol(kvm))
<span class="p_chunk">@@ -1390,7 +1390,7 @@</span> <span class="p_context"> static void kvm_s390_vcpu_crypto_setup(struct kvm_vcpu *vcpu)</span>
 
 void kvm_s390_vcpu_unsetup_cmma(struct kvm_vcpu *vcpu)
 {
<span class="p_del">-	free_page(vcpu-&gt;arch.sie_block-&gt;cbrlo);</span>
<span class="p_add">+	free_page((void *)vcpu-&gt;arch.sie_block-&gt;cbrlo);</span>
 	vcpu-&gt;arch.sie_block-&gt;cbrlo = 0;
 }
 
<span class="p_chunk">@@ -1523,7 +1523,7 @@</span> <span class="p_context"> struct kvm_vcpu *kvm_arch_vcpu_create(struct kvm *kvm,</span>
 
 	return vcpu;
 out_free_sie_block:
<span class="p_del">-	free_page((unsigned long)(vcpu-&gt;arch.sie_block));</span>
<span class="p_add">+	free_page(vcpu-&gt;arch.sie_block);</span>
 out_free_cpu:
 	kmem_cache_free(kvm_vcpu_cache, vcpu);
 out:
<span class="p_header">diff --git a/arch/s390/kvm/priv.c b/arch/s390/kvm/priv.c</span>
<span class="p_header">index d76b51c..9ed1a25 100644</span>
<span class="p_header">--- a/arch/s390/kvm/priv.c</span>
<span class="p_header">+++ b/arch/s390/kvm/priv.c</span>
<span class="p_chunk">@@ -564,14 +564,14 @@</span> <span class="p_context"> static int handle_stsi(struct kvm_vcpu *vcpu)</span>
 		rc = -EREMOTE;
 	}
 	trace_kvm_s390_handle_stsi(vcpu, fc, sel1, sel2, operand2);
<span class="p_del">-	free_page(mem);</span>
<span class="p_add">+	free_page((void *)mem);</span>
 	kvm_s390_set_psw_cc(vcpu, 0);
 	vcpu-&gt;run-&gt;s.regs.gprs[0] = 0;
 	return rc;
 out_no_data:
 	kvm_s390_set_psw_cc(vcpu, 3);
 out:
<span class="p_del">-	free_page(mem);</span>
<span class="p_add">+	free_page((void *)mem);</span>
 	return rc;
 }
 
<span class="p_header">diff --git a/arch/s390/mm/cmm.c b/arch/s390/mm/cmm.c</span>
<span class="p_header">index 79ddd58..b0ca6af 100644</span>
<span class="p_header">--- a/arch/s390/mm/cmm.c</span>
<span class="p_header">+++ b/arch/s390/mm/cmm.c</span>
<span class="p_chunk">@@ -78,7 +78,7 @@</span> <span class="p_context"> static long cmm_alloc_pages(long nr, long *counter,</span>
 			npa = (struct cmm_page_array *)
 				__get_free_page(GFP_NOIO);
 			if (!npa) {
<span class="p_del">-				free_page(addr);</span>
<span class="p_add">+				free_page((void *)addr);</span>
 				break;
 			}
 			spin_lock(&amp;cmm_lock);
<span class="p_chunk">@@ -89,7 +89,7 @@</span> <span class="p_context"> static long cmm_alloc_pages(long nr, long *counter,</span>
 				pa = npa;
 				*list = pa;
 			} else
<span class="p_del">-				free_page((unsigned long) npa);</span>
<span class="p_add">+				free_page(npa);</span>
 		}
 		diag10_range(addr &gt;&gt; PAGE_SHIFT, 1);
 		pa-&gt;pages[pa-&gt;index++] = addr;
<span class="p_chunk">@@ -113,10 +113,10 @@</span> <span class="p_context"> static long cmm_free_pages(long nr, long *counter, struct cmm_page_array **list)</span>
 		addr = pa-&gt;pages[--pa-&gt;index];
 		if (pa-&gt;index == 0) {
 			pa = pa-&gt;next;
<span class="p_del">-			free_page((unsigned long) *list);</span>
<span class="p_add">+			free_page(*list);</span>
 			*list = pa;
 		}
<span class="p_del">-		free_page(addr);</span>
<span class="p_add">+		free_page((void *)addr);</span>
 		(*counter)--;
 		nr--;
 	}
<span class="p_header">diff --git a/arch/s390/mm/maccess.c b/arch/s390/mm/maccess.c</span>
<span class="p_header">index 8a993a5..e20811c 100644</span>
<span class="p_header">--- a/arch/s390/mm/maccess.c</span>
<span class="p_header">+++ b/arch/s390/mm/maccess.c</span>
<span class="p_chunk">@@ -151,7 +151,7 @@</span> <span class="p_context"> int copy_to_user_real(void __user *dest, void *src, unsigned long count)</span>
 	}
 	rc = 0;
 out:
<span class="p_del">-	free_page((unsigned long) buf);</span>
<span class="p_add">+	free_page(buf);</span>
 	return rc;
 }
 
<span class="p_chunk">@@ -204,5 +204,5 @@</span> <span class="p_context"> void *xlate_dev_mem_ptr(phys_addr_t addr)</span>
 void unxlate_dev_mem_ptr(phys_addr_t addr, void *buf)
 {
 	if ((void *) addr != buf)
<span class="p_del">-		free_page((unsigned long) buf);</span>
<span class="p_add">+		free_page(buf);</span>
 }
<span class="p_header">diff --git a/arch/s390/mm/pgtable.c b/arch/s390/mm/pgtable.c</span>
<span class="p_header">index 54ef3bc..676989b 100644</span>
<span class="p_header">--- a/arch/s390/mm/pgtable.c</span>
<span class="p_header">+++ b/arch/s390/mm/pgtable.c</span>
<span class="p_chunk">@@ -1094,7 +1094,7 @@</span> <span class="p_context"> static void tlb_remove_table_rcu(struct rcu_head *head)</span>
 	for (i = 0; i &lt; batch-&gt;nr; i++)
 		__tlb_remove_table(batch-&gt;tables[i]);
 
<span class="p_del">-	free_page((unsigned long)batch);</span>
<span class="p_add">+	free_page(batch);</span>
 }
 
 void tlb_table_flush(struct mmu_gather *tlb)
<span class="p_header">diff --git a/arch/s390/oprofile/hwsampler.c b/arch/s390/oprofile/hwsampler.c</span>
<span class="p_header">index ff9b4eb..62f6aa2 100644</span>
<span class="p_header">--- a/arch/s390/oprofile/hwsampler.c</span>
<span class="p_header">+++ b/arch/s390/oprofile/hwsampler.c</span>
<span class="p_chunk">@@ -264,7 +264,7 @@</span> <span class="p_context"> static int allocate_sdbt(int cpu)</span>
 		barrier();
 		if (oom_killer_was_active || !sdbt) {
 			if (sdbt)
<span class="p_del">-				free_page((unsigned long)sdbt);</span>
<span class="p_add">+				free_page(sdbt);</span>
 
 			goto allocate_sdbt_error;
 		}
<span class="p_chunk">@@ -286,7 +286,7 @@</span> <span class="p_context"> static int allocate_sdbt(int cpu)</span>
 			barrier();
 			if (oom_killer_was_active || !sdb) {
 				if (sdb)
<span class="p_del">-					free_page(sdb);</span>
<span class="p_add">+					free_page((void *)sdb);</span>
 
 				goto allocate_sdbt_error;
 			}
<span class="p_chunk">@@ -353,7 +353,7 @@</span> <span class="p_context"> static int deallocate_sdbt(void)</span>
 			if (is_link_entry(curr)) {
 				curr = get_next_sdbt(curr);
 				if (sdbt)
<span class="p_del">-					free_page(sdbt);</span>
<span class="p_add">+					free_page((void *)sdbt);</span>
 
 				/* we are done if we reach the start */
 				if ((unsigned long) curr == start)
<span class="p_chunk">@@ -363,7 +363,7 @@</span> <span class="p_context"> static int deallocate_sdbt(void)</span>
 			} else {
 				/* process SDB pointer */
 				if (*curr) {
<span class="p_del">-					free_page(*curr);</span>
<span class="p_add">+					free_page((void *)*curr);</span>
 					curr++;
 				}
 			}
<span class="p_header">diff --git a/arch/sh/boards/mach-hp6xx/pm.c b/arch/sh/boards/mach-hp6xx/pm.c</span>
<span class="p_header">index 8b50cf7..83b3302 100644</span>
<span class="p_header">--- a/arch/sh/boards/mach-hp6xx/pm.c</span>
<span class="p_header">+++ b/arch/sh/boards/mach-hp6xx/pm.c</span>
<span class="p_chunk">@@ -81,7 +81,7 @@</span> <span class="p_context"> static void pm_enter(void)</span>
 
 	asm volatile(&quot;ldc %0, vbr&quot; : : &quot;r&quot; (vbr_old));
 
<span class="p_del">-	free_page(vbr_new);</span>
<span class="p_add">+	free_page((void *)vbr_new);</span>
 
 	/* enable PLL1 */
 	frqcr = __raw_readw(FRQCR);
<span class="p_header">diff --git a/arch/sparc/kernel/iommu.c b/arch/sparc/kernel/iommu.c</span>
<span class="p_header">index 3768682..7db91e1 100644</span>
<span class="p_header">--- a/arch/sparc/kernel/iommu.c</span>
<span class="p_header">+++ b/arch/sparc/kernel/iommu.c</span>
<span class="p_chunk">@@ -143,7 +143,7 @@</span> <span class="p_context"> int iommu_table_init(struct iommu *iommu, int tsbsize,</span>
 	return 0;
 
 out_free_dummy_page:
<span class="p_del">-	free_page(iommu-&gt;dummy_page);</span>
<span class="p_add">+	free_page((void *)iommu-&gt;dummy_page);</span>
 	iommu-&gt;dummy_page = 0UL;
 
 out_free_map:
<span class="p_header">diff --git a/arch/sparc/mm/init_64.c b/arch/sparc/mm/init_64.c</span>
<span class="p_header">index 3025bd5..6ef89c0 100644</span>
<span class="p_header">--- a/arch/sparc/mm/init_64.c</span>
<span class="p_header">+++ b/arch/sparc/mm/init_64.c</span>
<span class="p_chunk">@@ -2738,7 +2738,7 @@</span> <span class="p_context"> pgtable_t pte_alloc_one(struct mm_struct *mm,</span>
 
 void pte_free_kernel(struct mm_struct *mm, pte_t *pte)
 {
<span class="p_del">-	free_page((unsigned long)pte);</span>
<span class="p_add">+	free_page(pte);</span>
 }
 
 static void __pte_free(pgtable_t pte)
<span class="p_header">diff --git a/arch/tile/mm/elf.c b/arch/tile/mm/elf.c</span>
<span class="p_header">index 6225cc9..cbc81ab 100644</span>
<span class="p_header">--- a/arch/tile/mm/elf.c</span>
<span class="p_header">+++ b/arch/tile/mm/elf.c</span>
<span class="p_chunk">@@ -97,7 +97,7 @@</span> <span class="p_context"> static int notify_exec(struct mm_struct *mm)</span>
 done_put:
 	fput(exe_file);
 done_free:
<span class="p_del">-	free_page((unsigned long)buf);</span>
<span class="p_add">+	free_page(buf);</span>
 	return ret;
 }
 
<span class="p_header">diff --git a/arch/um/drivers/mconsole_kern.c b/arch/um/drivers/mconsole_kern.c</span>
<span class="p_header">index 29880c9..5992763 100644</span>
<span class="p_header">--- a/arch/um/drivers/mconsole_kern.c</span>
<span class="p_header">+++ b/arch/um/drivers/mconsole_kern.c</span>
<span class="p_chunk">@@ -334,7 +334,7 @@</span> <span class="p_context"> static int mem_config(char *str, char **error_out)</span>
 				unplug_index = UNPLUGGED_PER_PAGE;
 			}
 
<span class="p_del">-			free_page((unsigned long) addr);</span>
<span class="p_add">+			free_page(addr);</span>
 			unplugged_pages_count--;
 		}
 		else {
<span class="p_header">diff --git a/arch/um/include/asm/pgalloc.h b/arch/um/include/asm/pgalloc.h</span>
<span class="p_header">index bf90b2a..35acfd4 100644</span>
<span class="p_header">--- a/arch/um/include/asm/pgalloc.h</span>
<span class="p_header">+++ b/arch/um/include/asm/pgalloc.h</span>
<span class="p_chunk">@@ -30,7 +30,7 @@</span> <span class="p_context"> extern pgtable_t pte_alloc_one(struct mm_struct *, unsigned long);</span>
 
 static inline void pte_free_kernel(struct mm_struct *mm, pte_t *pte)
 {
<span class="p_del">-	free_page((unsigned long) pte);</span>
<span class="p_add">+	free_page(pte);</span>
 }
 
 static inline void pte_free(struct mm_struct *mm, pgtable_t pte)
<span class="p_chunk">@@ -49,7 +49,7 @@</span> <span class="p_context"> do {							\</span>
 
 static inline void pmd_free(struct mm_struct *mm, pmd_t *pmd)
 {
<span class="p_del">-	free_page((unsigned long)pmd);</span>
<span class="p_add">+	free_page(pmd);</span>
 }
 
 #define __pmd_free_tlb(tlb,x, address)   tlb_remove_page((tlb),virt_to_page(x))
<span class="p_header">diff --git a/arch/um/kernel/mem.c b/arch/um/kernel/mem.c</span>
<span class="p_header">index b2a2dff..8936388 100644</span>
<span class="p_header">--- a/arch/um/kernel/mem.c</span>
<span class="p_header">+++ b/arch/um/kernel/mem.c</span>
<span class="p_chunk">@@ -197,7 +197,7 @@</span> <span class="p_context"> pgd_t *pgd_alloc(struct mm_struct *mm)</span>
 
 void pgd_free(struct mm_struct *mm, pgd_t *pgd)
 {
<span class="p_del">-	free_page((unsigned long) pgd);</span>
<span class="p_add">+	free_page(pgd);</span>
 }
 
 pte_t *pte_alloc_one_kernel(struct mm_struct *mm, unsigned long address)
<span class="p_header">diff --git a/arch/um/kernel/skas/mmu.c b/arch/um/kernel/skas/mmu.c</span>
<span class="p_header">index 9591a66..ef2762b 100644</span>
<span class="p_header">--- a/arch/um/kernel/skas/mmu.c</span>
<span class="p_header">+++ b/arch/um/kernel/skas/mmu.c</span>
<span class="p_chunk">@@ -85,7 +85,7 @@</span> <span class="p_context"> int init_new_context(struct task_struct *task, struct mm_struct *mm)</span>
 
  out_free:
 	if (to_mm-&gt;id.stack != 0)
<span class="p_del">-		free_page(to_mm-&gt;id.stack);</span>
<span class="p_add">+		free_page((void *)to_mm-&gt;id.stack);</span>
  out:
 	return ret;
 }
<span class="p_chunk">@@ -153,6 +153,6 @@</span> <span class="p_context"> void destroy_context(struct mm_struct *mm)</span>
 	}
 	os_kill_ptraced_process(mmu-&gt;id.u.pid, 1);
 
<span class="p_del">-	free_page(mmu-&gt;id.stack);</span>
<span class="p_add">+	free_page((void *)mmu-&gt;id.stack);</span>
 	free_ldt(mmu);
 }
<span class="p_header">diff --git a/arch/unicore32/include/asm/pgalloc.h b/arch/unicore32/include/asm/pgalloc.h</span>
<span class="p_header">index 2e02d13..3287878 100644</span>
<span class="p_header">--- a/arch/unicore32/include/asm/pgalloc.h</span>
<span class="p_header">+++ b/arch/unicore32/include/asm/pgalloc.h</span>
<span class="p_chunk">@@ -70,7 +70,7 @@</span> <span class="p_context"> pte_alloc_one(struct mm_struct *mm, unsigned long addr)</span>
 static inline void pte_free_kernel(struct mm_struct *mm, pte_t *pte)
 {
 	if (pte)
<span class="p_del">-		free_page((unsigned long)pte);</span>
<span class="p_add">+		free_page(pte);</span>
 }
 
 static inline void pte_free(struct mm_struct *mm, pgtable_t pte)
<span class="p_header">diff --git a/arch/x86/include/asm/pgalloc.h b/arch/x86/include/asm/pgalloc.h</span>
<span class="p_header">index bf7f8b5..061eb29 100644</span>
<span class="p_header">--- a/arch/x86/include/asm/pgalloc.h</span>
<span class="p_header">+++ b/arch/x86/include/asm/pgalloc.h</span>
<span class="p_chunk">@@ -42,7 +42,7 @@</span> <span class="p_context"> extern pgtable_t pte_alloc_one(struct mm_struct *, unsigned long);</span>
 static inline void pte_free_kernel(struct mm_struct *mm, pte_t *pte)
 {
 	BUG_ON((unsigned long)pte &amp; (PAGE_SIZE-1));
<span class="p_del">-	free_page((unsigned long)pte);</span>
<span class="p_add">+	free_page(pte);</span>
 }
 
 static inline void pte_free(struct mm_struct *mm, struct page *pte)
<span class="p_chunk">@@ -95,7 +95,7 @@</span> <span class="p_context"> static inline void pmd_free(struct mm_struct *mm, pmd_t *pmd)</span>
 {
 	BUG_ON((unsigned long)pmd &amp; (PAGE_SIZE-1));
 	pgtable_pmd_page_dtor(virt_to_page(pmd));
<span class="p_del">-	free_page((unsigned long)pmd);</span>
<span class="p_add">+	free_page(pmd);</span>
 }
 
 extern void ___pmd_free_tlb(struct mmu_gather *tlb, pmd_t *pmd);
<span class="p_chunk">@@ -131,7 +131,7 @@</span> <span class="p_context"> static inline pud_t *pud_alloc_one(struct mm_struct *mm, unsigned long addr)</span>
 static inline void pud_free(struct mm_struct *mm, pud_t *pud)
 {
 	BUG_ON((unsigned long)pud &amp; (PAGE_SIZE-1));
<span class="p_del">-	free_page((unsigned long)pud);</span>
<span class="p_add">+	free_page(pud);</span>
 }
 
 extern void ___pud_free_tlb(struct mmu_gather *tlb, pud_t *pud);
<span class="p_header">diff --git a/arch/x86/kernel/cpu/perf_event_intel_pt.c b/arch/x86/kernel/cpu/perf_event_intel_pt.c</span>
<span class="p_header">index 868e119..79b7a3c 100644</span>
<span class="p_header">--- a/arch/x86/kernel/cpu/perf_event_intel_pt.c</span>
<span class="p_header">+++ b/arch/x86/kernel/cpu/perf_event_intel_pt.c</span>
<span class="p_chunk">@@ -373,7 +373,7 @@</span> <span class="p_context"> static struct topa *topa_alloc(int cpu, gfp_t gfp)</span>
  */
 static void topa_free(struct topa *topa)
 {
<span class="p_del">-	free_page((unsigned long)topa);</span>
<span class="p_add">+	free_page(topa);</span>
 }
 
 /**
<span class="p_header">diff --git a/arch/x86/kernel/ldt.c b/arch/x86/kernel/ldt.c</span>
<span class="p_header">index 6acc9dd..5208c58 100644</span>
<span class="p_header">--- a/arch/x86/kernel/ldt.c</span>
<span class="p_header">+++ b/arch/x86/kernel/ldt.c</span>
<span class="p_chunk">@@ -95,7 +95,7 @@</span> <span class="p_context"> static void free_ldt_struct(struct ldt_struct *ldt)</span>
 	if (ldt-&gt;size * LDT_ENTRY_SIZE &gt; PAGE_SIZE)
 		vfree(ldt-&gt;entries);
 	else
<span class="p_del">-		free_page((unsigned long)ldt-&gt;entries);</span>
<span class="p_add">+		free_page(ldt-&gt;entries);</span>
 	kfree(ldt);
 }
 
<span class="p_header">diff --git a/arch/x86/kernel/machine_kexec_32.c b/arch/x86/kernel/machine_kexec_32.c</span>
<span class="p_header">index 469b23d..7c820f91 100644</span>
<span class="p_header">--- a/arch/x86/kernel/machine_kexec_32.c</span>
<span class="p_header">+++ b/arch/x86/kernel/machine_kexec_32.c</span>
<span class="p_chunk">@@ -70,13 +70,13 @@</span> <span class="p_context"> static void load_segments(void)</span>
 
 static void machine_kexec_free_page_tables(struct kimage *image)
 {
<span class="p_del">-	free_page((unsigned long)image-&gt;arch.pgd);</span>
<span class="p_add">+	free_page(image-&gt;arch.pgd);</span>
 #ifdef CONFIG_X86_PAE
<span class="p_del">-	free_page((unsigned long)image-&gt;arch.pmd0);</span>
<span class="p_del">-	free_page((unsigned long)image-&gt;arch.pmd1);</span>
<span class="p_add">+	free_page(image-&gt;arch.pmd0);</span>
<span class="p_add">+	free_page(image-&gt;arch.pmd1);</span>
 #endif
<span class="p_del">-	free_page((unsigned long)image-&gt;arch.pte0);</span>
<span class="p_del">-	free_page((unsigned long)image-&gt;arch.pte1);</span>
<span class="p_add">+	free_page(image-&gt;arch.pte0);</span>
<span class="p_add">+	free_page(image-&gt;arch.pte1);</span>
 }
 
 static int machine_kexec_alloc_page_tables(struct kimage *image)
<span class="p_header">diff --git a/arch/x86/kernel/machine_kexec_64.c b/arch/x86/kernel/machine_kexec_64.c</span>
<span class="p_header">index 819ab3f..1809987 100644</span>
<span class="p_header">--- a/arch/x86/kernel/machine_kexec_64.c</span>
<span class="p_header">+++ b/arch/x86/kernel/machine_kexec_64.c</span>
<span class="p_chunk">@@ -36,9 +36,9 @@</span> <span class="p_context"> static struct kexec_file_ops *kexec_file_loaders[] = {</span>
 
 static void free_transition_pgtable(struct kimage *image)
 {
<span class="p_del">-	free_page((unsigned long)image-&gt;arch.pud);</span>
<span class="p_del">-	free_page((unsigned long)image-&gt;arch.pmd);</span>
<span class="p_del">-	free_page((unsigned long)image-&gt;arch.pte);</span>
<span class="p_add">+	free_page(image-&gt;arch.pud);</span>
<span class="p_add">+	free_page(image-&gt;arch.pmd);</span>
<span class="p_add">+	free_page(image-&gt;arch.pte);</span>
 }
 
 static int init_transition_pgtable(struct kimage *image, pgd_t *pgd)
<span class="p_header">diff --git a/arch/x86/kvm/lapic.c b/arch/x86/kvm/lapic.c</span>
<span class="p_header">index 4d30b86..406e746 100644</span>
<span class="p_header">--- a/arch/x86/kvm/lapic.c</span>
<span class="p_header">+++ b/arch/x86/kvm/lapic.c</span>
<span class="p_chunk">@@ -1551,7 +1551,7 @@</span> <span class="p_context"> void kvm_free_lapic(struct kvm_vcpu *vcpu)</span>
 		static_key_slow_dec_deferred(&amp;apic_sw_disabled);
 
 	if (apic-&gt;regs)
<span class="p_del">-		free_page((unsigned long)apic-&gt;regs);</span>
<span class="p_add">+		free_page(apic-&gt;regs);</span>
 
 	kfree(apic);
 }
<span class="p_header">diff --git a/arch/x86/kvm/mmu.c b/arch/x86/kvm/mmu.c</span>
<span class="p_header">index e7c2c14..fb86efb 100644</span>
<span class="p_header">--- a/arch/x86/kvm/mmu.c</span>
<span class="p_header">+++ b/arch/x86/kvm/mmu.c</span>
<span class="p_chunk">@@ -703,7 +703,7 @@</span> <span class="p_context"> static int mmu_topup_memory_cache_page(struct kvm_mmu_memory_cache *cache,</span>
 static void mmu_free_memory_cache_page(struct kvm_mmu_memory_cache *mc)
 {
 	while (mc-&gt;nobjs)
<span class="p_del">-		free_page((unsigned long)mc-&gt;objects[--mc-&gt;nobjs]);</span>
<span class="p_add">+		free_page(mc-&gt;objects[--mc-&gt;nobjs]);</span>
 }
 
 static int mmu_topup_memory_caches(struct kvm_vcpu *vcpu)
<span class="p_chunk">@@ -1687,9 +1687,9 @@</span> <span class="p_context"> static void kvm_mmu_free_page(struct kvm_mmu_page *sp)</span>
 	MMU_WARN_ON(!is_empty_shadow_page(sp-&gt;spt));
 	hlist_del(&amp;sp-&gt;hash_link);
 	list_del(&amp;sp-&gt;link);
<span class="p_del">-	free_page((unsigned long)sp-&gt;spt);</span>
<span class="p_add">+	free_page(sp-&gt;spt);</span>
 	if (!sp-&gt;role.direct)
<span class="p_del">-		free_page((unsigned long)sp-&gt;gfns);</span>
<span class="p_add">+		free_page(sp-&gt;gfns);</span>
 	kmem_cache_free(mmu_page_header_cache, sp);
 }
 
<span class="p_chunk">@@ -4451,9 +4451,9 @@</span> <span class="p_context"> EXPORT_SYMBOL_GPL(kvm_disable_tdp);</span>
 
 static void free_mmu_pages(struct kvm_vcpu *vcpu)
 {
<span class="p_del">-	free_page((unsigned long)vcpu-&gt;arch.mmu.pae_root);</span>
<span class="p_add">+	free_page(vcpu-&gt;arch.mmu.pae_root);</span>
 	if (vcpu-&gt;arch.mmu.lm_root != NULL)
<span class="p_del">-		free_page((unsigned long)vcpu-&gt;arch.mmu.lm_root);</span>
<span class="p_add">+		free_page(vcpu-&gt;arch.mmu.lm_root);</span>
 }
 
 static int alloc_mmu_pages(struct kvm_vcpu *vcpu)
<span class="p_header">diff --git a/arch/x86/kvm/vmx.c b/arch/x86/kvm/vmx.c</span>
<span class="p_header">index af823a3..f70ed2f 100644</span>
<span class="p_header">--- a/arch/x86/kvm/vmx.c</span>
<span class="p_header">+++ b/arch/x86/kvm/vmx.c</span>
<span class="p_chunk">@@ -6276,40 +6276,40 @@</span> <span class="p_context"> static __init int hardware_setup(void)</span>
 	return alloc_kvm_area();
 
 out8:
<span class="p_del">-	free_page((unsigned long)vmx_vmwrite_bitmap);</span>
<span class="p_add">+	free_page(vmx_vmwrite_bitmap);</span>
 out7:
<span class="p_del">-	free_page((unsigned long)vmx_vmread_bitmap);</span>
<span class="p_add">+	free_page(vmx_vmread_bitmap);</span>
 out6:
 	if (nested)
<span class="p_del">-		free_page((unsigned long)vmx_msr_bitmap_nested);</span>
<span class="p_add">+		free_page(vmx_msr_bitmap_nested);</span>
 out5:
<span class="p_del">-	free_page((unsigned long)vmx_msr_bitmap_longmode_x2apic);</span>
<span class="p_add">+	free_page(vmx_msr_bitmap_longmode_x2apic);</span>
 out4:
<span class="p_del">-	free_page((unsigned long)vmx_msr_bitmap_longmode);</span>
<span class="p_add">+	free_page(vmx_msr_bitmap_longmode);</span>
 out3:
<span class="p_del">-	free_page((unsigned long)vmx_msr_bitmap_legacy_x2apic);</span>
<span class="p_add">+	free_page(vmx_msr_bitmap_legacy_x2apic);</span>
 out2:
<span class="p_del">-	free_page((unsigned long)vmx_msr_bitmap_legacy);</span>
<span class="p_add">+	free_page(vmx_msr_bitmap_legacy);</span>
 out1:
<span class="p_del">-	free_page((unsigned long)vmx_io_bitmap_b);</span>
<span class="p_add">+	free_page(vmx_io_bitmap_b);</span>
 out:
<span class="p_del">-	free_page((unsigned long)vmx_io_bitmap_a);</span>
<span class="p_add">+	free_page(vmx_io_bitmap_a);</span>
 
     return r;
 }
 
 static __exit void hardware_unsetup(void)
 {
<span class="p_del">-	free_page((unsigned long)vmx_msr_bitmap_legacy_x2apic);</span>
<span class="p_del">-	free_page((unsigned long)vmx_msr_bitmap_longmode_x2apic);</span>
<span class="p_del">-	free_page((unsigned long)vmx_msr_bitmap_legacy);</span>
<span class="p_del">-	free_page((unsigned long)vmx_msr_bitmap_longmode);</span>
<span class="p_del">-	free_page((unsigned long)vmx_io_bitmap_b);</span>
<span class="p_del">-	free_page((unsigned long)vmx_io_bitmap_a);</span>
<span class="p_del">-	free_page((unsigned long)vmx_vmwrite_bitmap);</span>
<span class="p_del">-	free_page((unsigned long)vmx_vmread_bitmap);</span>
<span class="p_add">+	free_page(vmx_msr_bitmap_legacy_x2apic);</span>
<span class="p_add">+	free_page(vmx_msr_bitmap_longmode_x2apic);</span>
<span class="p_add">+	free_page(vmx_msr_bitmap_legacy);</span>
<span class="p_add">+	free_page(vmx_msr_bitmap_longmode);</span>
<span class="p_add">+	free_page(vmx_io_bitmap_b);</span>
<span class="p_add">+	free_page(vmx_io_bitmap_a);</span>
<span class="p_add">+	free_page(vmx_vmwrite_bitmap);</span>
<span class="p_add">+	free_page(vmx_vmread_bitmap);</span>
 	if (nested)
<span class="p_del">-		free_page((unsigned long)vmx_msr_bitmap_nested);</span>
<span class="p_add">+		free_page(vmx_msr_bitmap_nested);</span>
 
 	free_kvm_area();
 }
<span class="p_header">diff --git a/arch/x86/kvm/x86.c b/arch/x86/kvm/x86.c</span>
<span class="p_header">index eed3228..6b5980f 100644</span>
<span class="p_header">--- a/arch/x86/kvm/x86.c</span>
<span class="p_header">+++ b/arch/x86/kvm/x86.c</span>
<span class="p_chunk">@@ -7589,7 +7589,7 @@</span> <span class="p_context"> fail_free_lapic:</span>
 fail_mmu_destroy:
 	kvm_mmu_destroy(vcpu);
 fail_free_pio_data:
<span class="p_del">-	free_page((unsigned long)vcpu-&gt;arch.pio_data);</span>
<span class="p_add">+	free_page(vcpu-&gt;arch.pio_data);</span>
 fail:
 	return r;
 }
<span class="p_chunk">@@ -7604,7 +7604,7 @@</span> <span class="p_context"> void kvm_arch_vcpu_uninit(struct kvm_vcpu *vcpu)</span>
 	idx = srcu_read_lock(&amp;vcpu-&gt;kvm-&gt;srcu);
 	kvm_mmu_destroy(vcpu);
 	srcu_read_unlock(&amp;vcpu-&gt;kvm-&gt;srcu, idx);
<span class="p_del">-	free_page((unsigned long)vcpu-&gt;arch.pio_data);</span>
<span class="p_add">+	free_page(vcpu-&gt;arch.pio_data);</span>
 	if (!lapic_in_kernel(vcpu))
 		static_key_slow_dec(&amp;kvm_no_apic_vcpu);
 }
<span class="p_header">diff --git a/arch/x86/mm/pageattr.c b/arch/x86/mm/pageattr.c</span>
<span class="p_header">index a3137a4..5aa4ca6 100644</span>
<span class="p_header">--- a/arch/x86/mm/pageattr.c</span>
<span class="p_header">+++ b/arch/x86/mm/pageattr.c</span>
<span class="p_chunk">@@ -725,7 +725,7 @@</span> <span class="p_context"> static bool try_to_free_pte_page(pte_t *pte)</span>
 		if (!pte_none(pte[i]))
 			return false;
 
<span class="p_del">-	free_page((unsigned long)pte);</span>
<span class="p_add">+	free_page(pte);</span>
 	return true;
 }
 
<span class="p_chunk">@@ -737,7 +737,7 @@</span> <span class="p_context"> static bool try_to_free_pmd_page(pmd_t *pmd)</span>
 		if (!pmd_none(pmd[i]))
 			return false;
 
<span class="p_del">-	free_page((unsigned long)pmd);</span>
<span class="p_add">+	free_page(pmd);</span>
 	return true;
 }
 
<span class="p_chunk">@@ -749,7 +749,7 @@</span> <span class="p_context"> static bool try_to_free_pud_page(pud_t *pud)</span>
 		if (!pud_none(pud[i]))
 			return false;
 
<span class="p_del">-	free_page((unsigned long)pud);</span>
<span class="p_add">+	free_page(pud);</span>
 	return true;
 }
 
<span class="p_header">diff --git a/arch/x86/mm/pgtable.c b/arch/x86/mm/pgtable.c</span>
<span class="p_header">index fb0a9dd..8e51a6c 100644</span>
<span class="p_header">--- a/arch/x86/mm/pgtable.c</span>
<span class="p_header">+++ b/arch/x86/mm/pgtable.c</span>
<span class="p_chunk">@@ -198,7 +198,7 @@</span> <span class="p_context"> static void free_pmds(struct mm_struct *mm, pmd_t *pmds[])</span>
 	for(i = 0; i &lt; PREALLOCATED_PMDS; i++)
 		if (pmds[i]) {
 			pgtable_pmd_page_dtor(virt_to_page(pmds[i]));
<span class="p_del">-			free_page((unsigned long)pmds[i]);</span>
<span class="p_add">+			free_page(pmds[i]);</span>
 			mm_dec_nr_pmds(mm);
 		}
 }
<span class="p_chunk">@@ -213,7 +213,7 @@</span> <span class="p_context"> static int preallocate_pmds(struct mm_struct *mm, pmd_t *pmds[])</span>
 		if (!pmd)
 			failed = true;
 		if (pmd &amp;&amp; !pgtable_pmd_page_ctor(virt_to_page(pmd))) {
<span class="p_del">-			free_page((unsigned long)pmd);</span>
<span class="p_add">+			free_page(pmd);</span>
 			pmd = NULL;
 			failed = true;
 		}
<span class="p_chunk">@@ -335,7 +335,7 @@</span> <span class="p_context"> static inline pgd_t *_pgd_alloc(void)</span>
 static inline void _pgd_free(pgd_t *pgd)
 {
 	if (!SHARED_KERNEL_PMD)
<span class="p_del">-		free_page((unsigned long)pgd);</span>
<span class="p_add">+		free_page(pgd);</span>
 	else
 		kmem_cache_free(pgd_cache, pgd);
 }
<span class="p_chunk">@@ -347,7 +347,7 @@</span> <span class="p_context"> static inline pgd_t *_pgd_alloc(void)</span>
 
 static inline void _pgd_free(pgd_t *pgd)
 {
<span class="p_del">-	free_page((unsigned long)pgd);</span>
<span class="p_add">+	free_page(pgd);</span>
 }
 #endif /* CONFIG_X86_PAE */
 
<span class="p_header">diff --git a/arch/x86/pci/pcbios.c b/arch/x86/pci/pcbios.c</span>
<span class="p_header">index 9b83b90..7958c26 100644</span>
<span class="p_header">--- a/arch/x86/pci/pcbios.c</span>
<span class="p_header">+++ b/arch/x86/pci/pcbios.c</span>
<span class="p_chunk">@@ -423,7 +423,7 @@</span> <span class="p_context"> struct irq_routing_table * pcibios_get_irq_routing_table(void)</span>
 			printk(KERN_INFO &quot;PCI: Using BIOS Interrupt Routing Table\n&quot;);
 		}
 	}
<span class="p_del">-	free_page(page);</span>
<span class="p_add">+	free_page((void *)page);</span>
 	return rt;
 }
 EXPORT_SYMBOL(pcibios_get_irq_routing_table);
<span class="p_header">diff --git a/arch/x86/um/ldt.c b/arch/x86/um/ldt.c</span>
<span class="p_header">index 836a1eb..42522ff 100644</span>
<span class="p_header">--- a/arch/x86/um/ldt.c</span>
<span class="p_header">+++ b/arch/x86/um/ldt.c</span>
<span class="p_chunk">@@ -364,7 +364,7 @@</span> <span class="p_context"> void free_ldt(struct mm_context *mm)</span>
 	if (mm-&gt;arch.ldt.entry_count &gt; LDT_DIRECT_ENTRIES) {
 		i = mm-&gt;arch.ldt.entry_count / LDT_ENTRIES_PER_PAGE;
 		while (i-- &gt; 0)
<span class="p_del">-			free_page((long) mm-&gt;arch.ldt.u.pages[i]);</span>
<span class="p_add">+			free_page(mm-&gt;arch.ldt.u.pages[i]);</span>
 	}
 	mm-&gt;arch.ldt.entry_count = 0;
 }
<span class="p_header">diff --git a/arch/x86/xen/mmu.c b/arch/x86/xen/mmu.c</span>
<span class="p_header">index ac161db..bb7b2e5 100644</span>
<span class="p_header">--- a/arch/x86/xen/mmu.c</span>
<span class="p_header">+++ b/arch/x86/xen/mmu.c</span>
<span class="p_chunk">@@ -1547,7 +1547,7 @@</span> <span class="p_context"> static void xen_pgd_free(struct mm_struct *mm, pgd_t *pgd)</span>
 	pgd_t *user_pgd = xen_get_user_pgd(pgd);
 
 	if (user_pgd)
<span class="p_del">-		free_page((unsigned long)user_pgd);</span>
<span class="p_add">+		free_page(user_pgd);</span>
 #endif
 }
 
<span class="p_header">diff --git a/arch/x86/xen/p2m.c b/arch/x86/xen/p2m.c</span>
<span class="p_header">index cab9f76..b72eab3 100644</span>
<span class="p_header">--- a/arch/x86/xen/p2m.c</span>
<span class="p_header">+++ b/arch/x86/xen/p2m.c</span>
<span class="p_chunk">@@ -192,7 +192,7 @@</span> <span class="p_context"> static void __ref free_p2m_page(void *p)</span>
 		return;
 	}
 
<span class="p_del">-	free_page((unsigned long)p);</span>
<span class="p_add">+	free_page(p);</span>
 }
 
 /*
<span class="p_header">diff --git a/arch/xtensa/include/asm/pgalloc.h b/arch/xtensa/include/asm/pgalloc.h</span>
<span class="p_header">index d38eb92..022b9b3 100644</span>
<span class="p_header">--- a/arch/xtensa/include/asm/pgalloc.h</span>
<span class="p_header">+++ b/arch/xtensa/include/asm/pgalloc.h</span>
<span class="p_chunk">@@ -35,7 +35,7 @@</span> <span class="p_context"> pgd_alloc(struct mm_struct *mm)</span>
 
 static inline void pgd_free(struct mm_struct *mm, pgd_t *pgd)
 {
<span class="p_del">-	free_page((unsigned long)pgd);</span>
<span class="p_add">+	free_page(pgd);</span>
 }
 
 static inline pte_t *pte_alloc_one_kernel(struct mm_struct *mm,
<span class="p_chunk">@@ -71,7 +71,7 @@</span> <span class="p_context"> static inline pgtable_t pte_alloc_one(struct mm_struct *mm,</span>
 
 static inline void pte_free_kernel(struct mm_struct *mm, pte_t *pte)
 {
<span class="p_del">-	free_page((unsigned long)pte);</span>
<span class="p_add">+	free_page(pte);</span>
 }
 
 static inline void pte_free(struct mm_struct *mm, pgtable_t pte)
<span class="p_header">diff --git a/block/partitions/check.c b/block/partitions/check.c</span>
<span class="p_header">index 16118d1..dc43d02b 100644</span>
<span class="p_header">--- a/block/partitions/check.c</span>
<span class="p_header">+++ b/block/partitions/check.c</span>
<span class="p_chunk">@@ -176,7 +176,7 @@</span> <span class="p_context"> check_partition(struct gendisk *hd, struct block_device *bdev)</span>
 	if (res &gt; 0) {
 		printk(KERN_INFO &quot;%s&quot;, state-&gt;pp_buf);
 
<span class="p_del">-		free_page((unsigned long)state-&gt;pp_buf);</span>
<span class="p_add">+		free_page(state-&gt;pp_buf);</span>
 		return state;
 	}
 	if (state-&gt;access_beyond_eod)
<span class="p_chunk">@@ -191,7 +191,7 @@</span> <span class="p_context"> check_partition(struct gendisk *hd, struct block_device *bdev)</span>
 		printk(KERN_INFO &quot;%s&quot;, state-&gt;pp_buf);
 	}
 
<span class="p_del">-	free_page((unsigned long)state-&gt;pp_buf);</span>
<span class="p_add">+	free_page(state-&gt;pp_buf);</span>
 	free_partitions(state);
 	return ERR_PTR(res);
 }
<span class="p_header">diff --git a/crypto/blkcipher.c b/crypto/blkcipher.c</span>
<span class="p_header">index 8cc1622..d46ebfa 100644</span>
<span class="p_header">--- a/crypto/blkcipher.c</span>
<span class="p_header">+++ b/crypto/blkcipher.c</span>
<span class="p_chunk">@@ -138,7 +138,7 @@</span> <span class="p_context"> err:</span>
 	if (walk-&gt;buffer != walk-&gt;page)
 		kfree(walk-&gt;buffer);
 	if (walk-&gt;page)
<span class="p_del">-		free_page((unsigned long)walk-&gt;page);</span>
<span class="p_add">+		free_page(walk-&gt;page);</span>
 
 	return err;
 }
<span class="p_header">diff --git a/crypto/tcrypt.c b/crypto/tcrypt.c</span>
<span class="p_header">index 46a4a75..5cc0a85 100644</span>
<span class="p_header">--- a/crypto/tcrypt.c</span>
<span class="p_header">+++ b/crypto/tcrypt.c</span>
<span class="p_chunk">@@ -264,7 +264,7 @@</span> <span class="p_context"> static int testmgr_alloc_buf(char *buf[XBUFSIZE])</span>
 
 err_free_buf:
 	while (i-- &gt; 0)
<span class="p_del">-		free_page((unsigned long)buf[i]);</span>
<span class="p_add">+		free_page(buf[i]);</span>
 
 	return -ENOMEM;
 }
<span class="p_chunk">@@ -274,7 +274,7 @@</span> <span class="p_context"> static void testmgr_free_buf(char *buf[XBUFSIZE])</span>
 	int i;
 
 	for (i = 0; i &lt; XBUFSIZE; i++)
<span class="p_del">-		free_page((unsigned long)buf[i]);</span>
<span class="p_add">+		free_page(buf[i]);</span>
 }
 
 static void sg_init_aead(struct scatterlist *sg, char *xbuf[XBUFSIZE],
<span class="p_chunk">@@ -2228,7 +2228,7 @@</span> <span class="p_context"> static int __init tcrypt_mod_init(void)</span>
 
 err_free_tv:
 	for (i = 0; i &lt; TVMEMSIZE &amp;&amp; tvmem[i]; i++)
<span class="p_del">-		free_page((unsigned long)tvmem[i]);</span>
<span class="p_add">+		free_page(tvmem[i]);</span>
 
 	return err;
 }
<span class="p_header">diff --git a/crypto/testmgr.c b/crypto/testmgr.c</span>
<span class="p_header">index ae8c57fd..dc8d8f7 100644</span>
<span class="p_header">--- a/crypto/testmgr.c</span>
<span class="p_header">+++ b/crypto/testmgr.c</span>
<span class="p_chunk">@@ -175,7 +175,7 @@</span> <span class="p_context"> static int testmgr_alloc_buf(char *buf[XBUFSIZE])</span>
 
 err_free_buf:
 	while (i-- &gt; 0)
<span class="p_del">-		free_page((unsigned long)buf[i]);</span>
<span class="p_add">+		free_page(buf[i]);</span>
 
 	return -ENOMEM;
 }
<span class="p_chunk">@@ -185,7 +185,7 @@</span> <span class="p_context"> static void testmgr_free_buf(char *buf[XBUFSIZE])</span>
 	int i;
 
 	for (i = 0; i &lt; XBUFSIZE; i++)
<span class="p_del">-		free_page((unsigned long)buf[i]);</span>
<span class="p_add">+		free_page(buf[i]);</span>
 }
 
 static int wait_async_op(struct tcrypt_result *tr, int ret)
<span class="p_header">diff --git a/drivers/acpi/apei/ghes.c b/drivers/acpi/apei/ghes.c</span>
<span class="p_header">index 3dd9c46..1d074de 100644</span>
<span class="p_header">--- a/drivers/acpi/apei/ghes.c</span>
<span class="p_header">+++ b/drivers/acpi/apei/ghes.c</span>
<span class="p_chunk">@@ -202,7 +202,7 @@</span> <span class="p_context"> static void ghes_estatus_pool_free_chunk_page(struct gen_pool *pool,</span>
 					      struct gen_pool_chunk *chunk,
 					      void *data)
 {
<span class="p_del">-	free_page(chunk-&gt;start_addr);</span>
<span class="p_add">+	free_page((void *)chunk-&gt;start_addr);</span>
 }
 
 static void ghes_estatus_pool_exit(void)
<span class="p_header">diff --git a/drivers/acpi/nvs.c b/drivers/acpi/nvs.c</span>
<span class="p_header">index 85287b8..36bf798 100644</span>
<span class="p_header">--- a/drivers/acpi/nvs.c</span>
<span class="p_header">+++ b/drivers/acpi/nvs.c</span>
<span class="p_chunk">@@ -132,7 +132,7 @@</span> <span class="p_context"> void suspend_nvs_free(void)</span>
 
 	list_for_each_entry(entry, &amp;nvs_list, node)
 		if (entry-&gt;data) {
<span class="p_del">-			free_page((unsigned long)entry-&gt;data);</span>
<span class="p_add">+			free_page(entry-&gt;data);</span>
 			entry-&gt;data = NULL;
 			if (entry-&gt;kaddr) {
 				if (entry-&gt;unmap) {
<span class="p_header">diff --git a/drivers/atm/eni.c b/drivers/atm/eni.c</span>
<span class="p_header">index 6339efd..20420c3 100644</span>
<span class="p_header">--- a/drivers/atm/eni.c</span>
<span class="p_header">+++ b/drivers/atm/eni.c</span>
<span class="p_chunk">@@ -909,7 +909,7 @@</span> <span class="p_context"> static int start_rx(struct atm_dev *dev)</span>
 	if (!eni_dev-&gt;rx_map) {
 		printk(KERN_ERR DEV_LABEL &quot;(itf %d): couldn&#39;t get free page\n&quot;,
 		    dev-&gt;number);
<span class="p_del">-		free_page((unsigned long) eni_dev-&gt;free_list);</span>
<span class="p_add">+		free_page(eni_dev-&gt;free_list);</span>
 		return -ENOMEM;
 	}
 	eni_dev-&gt;rx_mult = DEFAULT_RX_MULT;
<span class="p_header">diff --git a/drivers/atm/lanai.c b/drivers/atm/lanai.c</span>
<span class="p_header">index ce43ae3..cf0a9f5 100644</span>
<span class="p_header">--- a/drivers/atm/lanai.c</span>
<span class="p_header">+++ b/drivers/atm/lanai.c</span>
<span class="p_chunk">@@ -1459,7 +1459,7 @@</span> <span class="p_context"> static int vcc_table_allocate(struct lanai_dev *lanai)</span>
 static inline void vcc_table_deallocate(const struct lanai_dev *lanai)
 {
 #ifdef VCCTABLE_GETFREEPAGE
<span class="p_del">-	free_page((unsigned long) lanai-&gt;vccs);</span>
<span class="p_add">+	free_page(lanai-&gt;vccs);</span>
 #else
 	vfree(lanai-&gt;vccs);
 #endif
<span class="p_header">diff --git a/drivers/auxdisplay/cfag12864b.c b/drivers/auxdisplay/cfag12864b.c</span>
<span class="p_header">index 41ce4bd..412c1bf 100644</span>
<span class="p_header">--- a/drivers/auxdisplay/cfag12864b.c</span>
<span class="p_header">+++ b/drivers/auxdisplay/cfag12864b.c</span>
<span class="p_chunk">@@ -371,7 +371,7 @@</span> <span class="p_context"> cachealloced:</span>
 	kfree(cfag12864b_cache);
 
 bufferalloced:
<span class="p_del">-	free_page((unsigned long) cfag12864b_buffer);</span>
<span class="p_add">+	free_page(cfag12864b_buffer);</span>
 
 none:
 	return ret;
<span class="p_chunk">@@ -383,7 +383,7 @@</span> <span class="p_context"> static void __exit cfag12864b_exit(void)</span>
 	cfag12864b_off();
 	destroy_workqueue(cfag12864b_workqueue);
 	kfree(cfag12864b_cache);
<span class="p_del">-	free_page((unsigned long) cfag12864b_buffer);</span>
<span class="p_add">+	free_page(cfag12864b_buffer);</span>
 }
 
 module_init(cfag12864b_init);
<span class="p_header">diff --git a/drivers/block/aoe/aoecmd.c b/drivers/block/aoe/aoecmd.c</span>
<span class="p_header">index ad80c85..544612b 100644</span>
<span class="p_header">--- a/drivers/block/aoe/aoecmd.c</span>
<span class="p_header">+++ b/drivers/block/aoe/aoecmd.c</span>
<span class="p_chunk">@@ -1821,6 +1821,6 @@</span> <span class="p_context"> aoecmd_exit(void)</span>
 	kfree(kts);
 	kfree(ktiowq);
 
<span class="p_del">-	free_page((unsigned long) page_address(empty_page));</span>
<span class="p_add">+	free_page(page_address(empty_page));</span>
 	empty_page = NULL;
 }
<span class="p_header">diff --git a/drivers/block/cciss.c b/drivers/block/cciss.c</span>
<span class="p_header">index 0422c47..a055899 100644</span>
<span class="p_header">--- a/drivers/block/cciss.c</span>
<span class="p_header">+++ b/drivers/block/cciss.c</span>
<span class="p_chunk">@@ -538,7 +538,7 @@</span> <span class="p_context"> cciss_proc_write(struct file *file, const char __user *buf,</span>
 	   safely possible. (only 1 module use count, lock issues.) */
 
 out:
<span class="p_del">-	free_page((unsigned long)buffer);</span>
<span class="p_add">+	free_page(buffer);</span>
 	return err;
 }
 
<span class="p_header">diff --git a/drivers/block/drbd/drbd_main.c b/drivers/block/drbd/drbd_main.c</span>
<span class="p_header">index 74d97f4..c5f9c21 100644</span>
<span class="p_header">--- a/drivers/block/drbd/drbd_main.c</span>
<span class="p_header">+++ b/drivers/block/drbd/drbd_main.c</span>
<span class="p_chunk">@@ -2498,8 +2498,8 @@</span> <span class="p_context"> static int drbd_alloc_socket(struct drbd_socket *socket)</span>
 
 static void drbd_free_socket(struct drbd_socket *socket)
 {
<span class="p_del">-	free_page((unsigned long) socket-&gt;sbuf);</span>
<span class="p_del">-	free_page((unsigned long) socket-&gt;rbuf);</span>
<span class="p_add">+	free_page(socket-&gt;sbuf);</span>
<span class="p_add">+	free_page(socket-&gt;rbuf);</span>
 }
 
 void conn_free_crypto(struct drbd_connection *connection)
<span class="p_header">diff --git a/drivers/char/agp/amd-k7-agp.c b/drivers/char/agp/amd-k7-agp.c</span>
<span class="p_header">index 3661a51..3835c1b 100644</span>
<span class="p_header">--- a/drivers/char/agp/amd-k7-agp.c</span>
<span class="p_header">+++ b/drivers/char/agp/amd-k7-agp.c</span>
<span class="p_chunk">@@ -55,7 +55,7 @@</span> <span class="p_context"> static int amd_create_page_map(struct amd_page_map *page_map)</span>
 static void amd_free_page_map(struct amd_page_map *page_map)
 {
 	set_memory_wb((unsigned long)page_map-&gt;real, 1);
<span class="p_del">-	free_page((unsigned long) page_map-&gt;real);</span>
<span class="p_add">+	free_page(page_map-&gt;real);</span>
 }
 
 static void amd_free_gatt_pages(void)
<span class="p_header">diff --git a/drivers/char/agp/ati-agp.c b/drivers/char/agp/ati-agp.c</span>
<span class="p_header">index 75a9786..95651e2 100644</span>
<span class="p_header">--- a/drivers/char/agp/ati-agp.c</span>
<span class="p_header">+++ b/drivers/char/agp/ati-agp.c</span>
<span class="p_chunk">@@ -77,7 +77,7 @@</span> <span class="p_context"> static void ati_free_page_map(struct ati_page_map *page_map)</span>
 {
 	unmap_page_from_agp(virt_to_page(page_map-&gt;real));
 	set_memory_wb((unsigned long)page_map-&gt;real, 1);
<span class="p_del">-	free_page((unsigned long) page_map-&gt;real);</span>
<span class="p_add">+	free_page(page_map-&gt;real);</span>
 }
 
 
<span class="p_header">diff --git a/drivers/char/agp/efficeon-agp.c b/drivers/char/agp/efficeon-agp.c</span>
<span class="p_header">index 533cb6d..1416595 100644</span>
<span class="p_header">--- a/drivers/char/agp/efficeon-agp.c</span>
<span class="p_header">+++ b/drivers/char/agp/efficeon-agp.c</span>
<span class="p_chunk">@@ -164,7 +164,7 @@</span> <span class="p_context"> static int efficeon_free_gatt_table(struct agp_bridge_data *bridge)</span>
 		if (page) {
 			efficeon_private.l1_table[index] = 0;
 			ClearPageReserved(virt_to_page((char *)page));
<span class="p_del">-			free_page(page);</span>
<span class="p_add">+			free_page((void *)page);</span>
 			freed++;
 		}
 		printk(KERN_DEBUG PFX &quot;efficeon_free_gatt_table(%p, %02x, %08x)\n&quot;,
<span class="p_header">diff --git a/drivers/char/agp/sworks-agp.c b/drivers/char/agp/sworks-agp.c</span>
<span class="p_header">index 9b163b4..96d2e55 100644</span>
<span class="p_header">--- a/drivers/char/agp/sworks-agp.c</span>
<span class="p_header">+++ b/drivers/char/agp/sworks-agp.c</span>
<span class="p_chunk">@@ -66,7 +66,7 @@</span> <span class="p_context"> static int serverworks_create_page_map(struct serverworks_page_map *page_map)</span>
 static void serverworks_free_page_map(struct serverworks_page_map *page_map)
 {
 	set_memory_wb((unsigned long)page_map-&gt;real, 1);
<span class="p_del">-	free_page((unsigned long) page_map-&gt;real);</span>
<span class="p_add">+	free_page(page_map-&gt;real);</span>
 }
 
 static void serverworks_free_gatt_pages(void)
<span class="p_header">diff --git a/drivers/char/mem.c b/drivers/char/mem.c</span>
<span class="p_header">index 6b1721f..63f7056 100644</span>
<span class="p_header">--- a/drivers/char/mem.c</span>
<span class="p_header">+++ b/drivers/char/mem.c</span>
<span class="p_chunk">@@ -445,7 +445,7 @@</span> <span class="p_context"> static ssize_t read_kmem(struct file *file, char __user *buf,</span>
 			read += sz;
 			p += sz;
 		}
<span class="p_del">-		free_page((unsigned long)kbuf);</span>
<span class="p_add">+		free_page(kbuf);</span>
 	}
 	*ppos = p;
 	return read ? read : err;
<span class="p_chunk">@@ -546,7 +546,7 @@</span> <span class="p_context"> static ssize_t write_kmem(struct file *file, const char __user *buf,</span>
 			virtr += sz;
 			p += sz;
 		}
<span class="p_del">-		free_page((unsigned long)kbuf);</span>
<span class="p_add">+		free_page(kbuf);</span>
 	}
 
 	*ppos = p;
<span class="p_header">diff --git a/drivers/char/pcmcia/synclink_cs.c b/drivers/char/pcmcia/synclink_cs.c</span>
<span class="p_header">index 45df4bf..6b79755 100644</span>
<span class="p_header">--- a/drivers/char/pcmcia/synclink_cs.c</span>
<span class="p_header">+++ b/drivers/char/pcmcia/synclink_cs.c</span>
<span class="p_chunk">@@ -1337,7 +1337,7 @@</span> <span class="p_context"> static void shutdown(MGSLPC_INFO * info, struct tty_struct *tty)</span>
 	del_timer_sync(&amp;info-&gt;tx_timer);
 
 	if (info-&gt;tx_buf) {
<span class="p_del">-		free_page((unsigned long) info-&gt;tx_buf);</span>
<span class="p_add">+		free_page(info-&gt;tx_buf);</span>
 		info-&gt;tx_buf = NULL;
 	}
 
<span class="p_header">diff --git a/drivers/char/tpm/tpm_ibmvtpm.c b/drivers/char/tpm/tpm_ibmvtpm.c</span>
<span class="p_header">index 3e6a226..35cf117 100644</span>
<span class="p_header">--- a/drivers/char/tpm/tpm_ibmvtpm.c</span>
<span class="p_header">+++ b/drivers/char/tpm/tpm_ibmvtpm.c</span>
<span class="p_chunk">@@ -288,7 +288,7 @@</span> <span class="p_context"> static int tpm_ibmvtpm_remove(struct vio_dev *vdev)</span>
 
 	dma_unmap_single(ibmvtpm-&gt;dev, ibmvtpm-&gt;crq_dma_handle,
 			 CRQ_RES_BUF_SIZE, DMA_BIDIRECTIONAL);
<span class="p_del">-	free_page((unsigned long)ibmvtpm-&gt;crq_queue.crq_addr);</span>
<span class="p_add">+	free_page(ibmvtpm-&gt;crq_queue.crq_addr);</span>
 
 	if (ibmvtpm-&gt;rtce_buf) {
 		dma_unmap_single(ibmvtpm-&gt;dev, ibmvtpm-&gt;rtce_dma_handle,
<span class="p_chunk">@@ -652,7 +652,7 @@</span> <span class="p_context"> reg_crq_cleanup:</span>
 cleanup:
 	if (ibmvtpm) {
 		if (crq_q-&gt;crq_addr)
<span class="p_del">-			free_page((unsigned long)crq_q-&gt;crq_addr);</span>
<span class="p_add">+			free_page(crq_q-&gt;crq_addr);</span>
 		kfree(ibmvtpm);
 	}
 
<span class="p_header">diff --git a/drivers/char/tpm/xen-tpmfront.c b/drivers/char/tpm/xen-tpmfront.c</span>
<span class="p_header">index 3111f27..4ac4830 100644</span>
<span class="p_header">--- a/drivers/char/tpm/xen-tpmfront.c</span>
<span class="p_header">+++ b/drivers/char/tpm/xen-tpmfront.c</span>
<span class="p_chunk">@@ -275,7 +275,7 @@</span> <span class="p_context"> static void ring_free(struct tpm_private *priv)</span>
 		gnttab_end_foreign_access(priv-&gt;ring_ref, 0,
 				(unsigned long)priv-&gt;shr);
 	else
<span class="p_del">-		free_page((unsigned long)priv-&gt;shr);</span>
<span class="p_add">+		free_page(priv-&gt;shr);</span>
 
 	if (priv-&gt;chip &amp;&amp; priv-&gt;chip-&gt;vendor.irq)
 		unbind_from_irqhandler(priv-&gt;chip-&gt;vendor.irq, priv);
<span class="p_header">diff --git a/drivers/char/xilinx_hwicap/xilinx_hwicap.c b/drivers/char/xilinx_hwicap/xilinx_hwicap.c</span>
<span class="p_header">index c07dfe5..7b09193 100644</span>
<span class="p_header">--- a/drivers/char/xilinx_hwicap/xilinx_hwicap.c</span>
<span class="p_header">+++ b/drivers/char/xilinx_hwicap/xilinx_hwicap.c</span>
<span class="p_chunk">@@ -411,13 +411,13 @@</span> <span class="p_context"> hwicap_read(struct file *file, char __user *buf, size_t count, loff_t *ppos)</span>
 
 		/* If we didn&#39;t read correctly, then bail out. */
 		if (status) {
<span class="p_del">-			free_page((unsigned long)kbuf);</span>
<span class="p_add">+			free_page(kbuf);</span>
 			goto error;
 		}
 
 		/* If we fail to return the data to the user, then bail out. */
 		if (copy_to_user(buf, kbuf, bytes_to_read)) {
<span class="p_del">-			free_page((unsigned long)kbuf);</span>
<span class="p_add">+			free_page(kbuf);</span>
 			status = -EFAULT;
 			goto error;
 		}
<span class="p_chunk">@@ -425,7 +425,7 @@</span> <span class="p_context"> hwicap_read(struct file *file, char __user *buf, size_t count, loff_t *ppos)</span>
 		       kbuf,
 		       bytes_remaining);
 		drvdata-&gt;read_buffer_in_use = bytes_remaining;
<span class="p_del">-		free_page((unsigned long)kbuf);</span>
<span class="p_add">+		free_page(kbuf);</span>
 	}
 	status = bytes_to_read;
  error:
<span class="p_chunk">@@ -478,13 +478,13 @@</span> <span class="p_context"> hwicap_write(struct file *file, const char __user *buf,</span>
 			    (((char *)kbuf) + drvdata-&gt;write_buffer_in_use),
 			    buf + written,
 			    len - (drvdata-&gt;write_buffer_in_use))) {
<span class="p_del">-				free_page((unsigned long)kbuf);</span>
<span class="p_add">+				free_page(kbuf);</span>
 				status = -EFAULT;
 				goto error;
 			}
 		} else {
 			if (copy_from_user(kbuf, buf + written, len)) {
<span class="p_del">-				free_page((unsigned long)kbuf);</span>
<span class="p_add">+				free_page(kbuf);</span>
 				status = -EFAULT;
 				goto error;
 			}
<span class="p_chunk">@@ -494,7 +494,7 @@</span> <span class="p_context"> hwicap_write(struct file *file, const char __user *buf,</span>
 				kbuf, len &gt;&gt; 2);
 
 		if (status) {
<span class="p_del">-			free_page((unsigned long)kbuf);</span>
<span class="p_add">+			free_page(kbuf);</span>
 			status = -EFAULT;
 			goto error;
 		}
<span class="p_chunk">@@ -515,7 +515,7 @@</span> <span class="p_context"> hwicap_write(struct file *file, const char __user *buf,</span>
 		}
 	}
 
<span class="p_del">-	free_page((unsigned long)kbuf);</span>
<span class="p_add">+	free_page(kbuf);</span>
 	status = written;
  error:
 	mutex_unlock(&amp;drvdata-&gt;sem);
<span class="p_header">diff --git a/drivers/crypto/atmel-aes.c b/drivers/crypto/atmel-aes.c</span>
<span class="p_header">index fb16d81..bf75457 100644</span>
<span class="p_header">--- a/drivers/crypto/atmel-aes.c</span>
<span class="p_header">+++ b/drivers/crypto/atmel-aes.c</span>
<span class="p_chunk">@@ -686,8 +686,8 @@</span> <span class="p_context"> err_map_out:</span>
 		DMA_TO_DEVICE);
 err_map_in:
 err_alloc:
<span class="p_del">-	free_page((unsigned long)dd-&gt;buf_out);</span>
<span class="p_del">-	free_page((unsigned long)dd-&gt;buf_in);</span>
<span class="p_add">+	free_page(dd-&gt;buf_out);</span>
<span class="p_add">+	free_page(dd-&gt;buf_in);</span>
 	if (err)
 		pr_err(&quot;error: %d\n&quot;, err);
 	return err;
<span class="p_chunk">@@ -699,8 +699,8 @@</span> <span class="p_context"> static void atmel_aes_buff_cleanup(struct atmel_aes_dev *dd)</span>
 			 DMA_FROM_DEVICE);
 	dma_unmap_single(dd-&gt;dev, dd-&gt;dma_addr_in, dd-&gt;buflen,
 		DMA_TO_DEVICE);
<span class="p_del">-	free_page((unsigned long)dd-&gt;buf_out);</span>
<span class="p_del">-	free_page((unsigned long)dd-&gt;buf_in);</span>
<span class="p_add">+	free_page(dd-&gt;buf_out);</span>
<span class="p_add">+	free_page(dd-&gt;buf_in);</span>
 }
 
 static int atmel_aes_crypt(struct ablkcipher_request *req, unsigned long mode)
<span class="p_header">diff --git a/drivers/crypto/atmel-tdes.c b/drivers/crypto/atmel-tdes.c</span>
<span class="p_header">index 2c7a628..0219027e 100644</span>
<span class="p_header">--- a/drivers/crypto/atmel-tdes.c</span>
<span class="p_header">+++ b/drivers/crypto/atmel-tdes.c</span>
<span class="p_chunk">@@ -381,8 +381,8 @@</span> <span class="p_context"> err_map_out:</span>
 		DMA_TO_DEVICE);
 err_map_in:
 err_alloc:
<span class="p_del">-	free_page((unsigned long)dd-&gt;buf_out);</span>
<span class="p_del">-	free_page((unsigned long)dd-&gt;buf_in);</span>
<span class="p_add">+	free_page(dd-&gt;buf_out);</span>
<span class="p_add">+	free_page(dd-&gt;buf_in);</span>
 	if (err)
 		pr_err(&quot;error: %d\n&quot;, err);
 	return err;
<span class="p_chunk">@@ -394,8 +394,8 @@</span> <span class="p_context"> static void atmel_tdes_buff_cleanup(struct atmel_tdes_dev *dd)</span>
 			 DMA_FROM_DEVICE);
 	dma_unmap_single(dd-&gt;dev, dd-&gt;dma_addr_in, dd-&gt;buflen,
 		DMA_TO_DEVICE);
<span class="p_del">-	free_page((unsigned long)dd-&gt;buf_out);</span>
<span class="p_del">-	free_page((unsigned long)dd-&gt;buf_in);</span>
<span class="p_add">+	free_page(dd-&gt;buf_out);</span>
<span class="p_add">+	free_page(dd-&gt;buf_in);</span>
 }
 
 static int atmel_tdes_crypt_pdc(struct crypto_tfm *tfm, dma_addr_t dma_addr_in,
<span class="p_header">diff --git a/drivers/crypto/nx/nx-842.c b/drivers/crypto/nx/nx-842.c</span>
<span class="p_header">index 046c1c4..ce459cb 100644</span>
<span class="p_header">--- a/drivers/crypto/nx/nx-842.c</span>
<span class="p_header">+++ b/drivers/crypto/nx/nx-842.c</span>
<span class="p_chunk">@@ -121,8 +121,8 @@</span> <span class="p_context"> int nx842_crypto_init(struct crypto_tfm *tfm, struct nx842_driver *driver)</span>
 	ctx-&gt;dbounce = (u8 *)__get_free_pages(GFP_KERNEL, BOUNCE_BUFFER_ORDER);
 	if (!ctx-&gt;wmem || !ctx-&gt;sbounce || !ctx-&gt;dbounce) {
 		kfree(ctx-&gt;wmem);
<span class="p_del">-		free_page((unsigned long)ctx-&gt;sbounce);</span>
<span class="p_del">-		free_page((unsigned long)ctx-&gt;dbounce);</span>
<span class="p_add">+		free_page(ctx-&gt;sbounce);</span>
<span class="p_add">+		free_page(ctx-&gt;dbounce);</span>
 		return -ENOMEM;
 	}
 
<span class="p_chunk">@@ -135,8 +135,8 @@</span> <span class="p_context"> void nx842_crypto_exit(struct crypto_tfm *tfm)</span>
 	struct nx842_crypto_ctx *ctx = crypto_tfm_ctx(tfm);
 
 	kfree(ctx-&gt;wmem);
<span class="p_del">-	free_page((unsigned long)ctx-&gt;sbounce);</span>
<span class="p_del">-	free_page((unsigned long)ctx-&gt;dbounce);</span>
<span class="p_add">+	free_page(ctx-&gt;sbounce);</span>
<span class="p_add">+	free_page(ctx-&gt;dbounce);</span>
 }
 EXPORT_SYMBOL_GPL(nx842_crypto_exit);
 
<span class="p_header">diff --git a/drivers/dma/nbpfaxi.c b/drivers/dma/nbpfaxi.c</span>
<span class="p_header">index 2b5a198..3943f14 100644</span>
<span class="p_header">--- a/drivers/dma/nbpfaxi.c</span>
<span class="p_header">+++ b/drivers/dma/nbpfaxi.c</span>
<span class="p_chunk">@@ -1065,7 +1065,7 @@</span> <span class="p_context"> static void nbpf_free_chan_resources(struct dma_chan *dchan)</span>
 		     i++, ldesc++)
 			dma_unmap_single(dchan-&gt;device-&gt;dev, ldesc-&gt;hwdesc_dma_addr,
 					 sizeof(*ldesc-&gt;hwdesc), DMA_TO_DEVICE);
<span class="p_del">-		free_page((unsigned long)dpage);</span>
<span class="p_add">+		free_page(dpage);</span>
 	}
 }
 
<span class="p_header">diff --git a/drivers/dma/sh/rcar-dmac.c b/drivers/dma/sh/rcar-dmac.c</span>
<span class="p_header">index 7820d07..f632f53 100644</span>
<span class="p_header">--- a/drivers/dma/sh/rcar-dmac.c</span>
<span class="p_header">+++ b/drivers/dma/sh/rcar-dmac.c</span>
<span class="p_chunk">@@ -995,7 +995,7 @@</span> <span class="p_context"> static void rcar_dmac_free_chan_resources(struct dma_chan *chan)</span>
 
 	list_for_each_entry_safe(page, _page, &amp;rchan-&gt;desc.pages, node) {
 		list_del(&amp;page-&gt;node);
<span class="p_del">-		free_page((unsigned long)page);</span>
<span class="p_add">+		free_page(page);</span>
 	}
 
 	pm_runtime_put(chan-&gt;device-&gt;dev);
<span class="p_header">diff --git a/drivers/extcon/extcon.c b/drivers/extcon/extcon.c</span>
<span class="p_header">index 21a123c..9f5decc 100644</span>
<span class="p_header">--- a/drivers/extcon/extcon.c</span>
<span class="p_header">+++ b/drivers/extcon/extcon.c</span>
<span class="p_chunk">@@ -316,7 +316,7 @@</span> <span class="p_context"> int extcon_update_state(struct extcon_dev *edev, u32 mask, u32 state)</span>
 			spin_unlock_irqrestore(&amp;edev-&gt;lock, flags);
 
 			kobject_uevent_env(&amp;edev-&gt;dev.kobj, KOBJ_CHANGE, envp);
<span class="p_del">-			free_page((unsigned long)prop_buf);</span>
<span class="p_add">+			free_page(prop_buf);</span>
 		} else {
 			/* Unlock early before uevent */
 			spin_unlock_irqrestore(&amp;edev-&gt;lock, flags);
<span class="p_header">diff --git a/drivers/firewire/ohci.c b/drivers/firewire/ohci.c</span>
<span class="p_header">index c2f5117..f7303dd 100644</span>
<span class="p_header">--- a/drivers/firewire/ohci.c</span>
<span class="p_header">+++ b/drivers/firewire/ohci.c</span>
<span class="p_chunk">@@ -3016,7 +3016,7 @@</span> <span class="p_context"> static struct fw_iso_context *ohci_allocate_iso_context(struct fw_card *card,</span>
 	return &amp;ctx-&gt;base;
 
  out_with_header:
<span class="p_del">-	free_page((unsigned long)ctx-&gt;header);</span>
<span class="p_add">+	free_page(ctx-&gt;header);</span>
  out:
 	spin_lock_irq(&amp;ohci-&gt;lock);
 
<span class="p_chunk">@@ -3120,7 +3120,7 @@</span> <span class="p_context"> static void ohci_free_iso_context(struct fw_iso_context *base)</span>
 
 	ohci_stop_iso(base);
 	context_release(&amp;ctx-&gt;context);
<span class="p_del">-	free_page((unsigned long)ctx-&gt;header);</span>
<span class="p_add">+	free_page(ctx-&gt;header);</span>
 
 	spin_lock_irqsave(&amp;ohci-&gt;lock, flags);
 
<span class="p_header">diff --git a/drivers/gpu/drm/via/via_dmablit.c b/drivers/gpu/drm/via/via_dmablit.c</span>
<span class="p_header">index d0cbd5e..869282d 100644</span>
<span class="p_header">--- a/drivers/gpu/drm/via/via_dmablit.c</span>
<span class="p_header">+++ b/drivers/gpu/drm/via/via_dmablit.c</span>
<span class="p_chunk">@@ -180,7 +180,7 @@</span> <span class="p_context"> via_free_sg_info(struct pci_dev *pdev, drm_via_sg_info_t *vsg)</span>
 	case dr_via_desc_pages_alloc:
 		for (i = 0; i &lt; vsg-&gt;num_desc_pages; ++i) {
 			if (vsg-&gt;desc_pages[i] != NULL)
<span class="p_del">-				free_page((unsigned long)vsg-&gt;desc_pages[i]);</span>
<span class="p_add">+				free_page(vsg-&gt;desc_pages[i]);</span>
 		}
 		kfree(vsg-&gt;desc_pages);
 	case dr_via_pages_locked:
<span class="p_header">diff --git a/drivers/hsi/clients/cmt_speech.c b/drivers/hsi/clients/cmt_speech.c</span>
<span class="p_header">index 95638df..7fa47a8 100644</span>
<span class="p_header">--- a/drivers/hsi/clients/cmt_speech.c</span>
<span class="p_header">+++ b/drivers/hsi/clients/cmt_speech.c</span>
<span class="p_chunk">@@ -1321,7 +1321,7 @@</span> <span class="p_context"> static int cs_char_open(struct inode *unused, struct file *file)</span>
 	return 0;
 
 out3:
<span class="p_del">-	free_page(p);</span>
<span class="p_add">+	free_page((void *)p);</span>
 out2:
 	spin_lock_bh(&amp;cs_char_data.lock);
 	cs_char_data.opened = 0;
<span class="p_chunk">@@ -1352,7 +1352,7 @@</span> <span class="p_context"> static int cs_char_release(struct inode *unused, struct file *file)</span>
 	cs_hsi_stop(csdata-&gt;hi);
 	spin_lock_bh(&amp;csdata-&gt;lock);
 	csdata-&gt;hi = NULL;
<span class="p_del">-	free_page(csdata-&gt;mmap_base);</span>
<span class="p_add">+	free_page((void *)csdata-&gt;mmap_base);</span>
 	cs_free_char_queue(&amp;csdata-&gt;chardev_queue);
 	cs_free_char_queue(&amp;csdata-&gt;dataind_queue);
 	csdata-&gt;opened = 0;
<span class="p_header">diff --git a/drivers/hv/hv.c b/drivers/hv/hv.c</span>
<span class="p_header">index 6341be8..0d7ae9e 100644</span>
<span class="p_header">--- a/drivers/hv/hv.c</span>
<span class="p_header">+++ b/drivers/hv/hv.c</span>
<span class="p_chunk">@@ -467,11 +467,11 @@</span> <span class="p_context"> static void hv_synic_free_cpu(int cpu)</span>
 	kfree(hv_context.event_dpc[cpu]);
 	kfree(hv_context.clk_evt[cpu]);
 	if (hv_context.synic_event_page[cpu])
<span class="p_del">-		free_page((unsigned long)hv_context.synic_event_page[cpu]);</span>
<span class="p_add">+		free_page(hv_context.synic_event_page[cpu]);</span>
 	if (hv_context.synic_message_page[cpu])
<span class="p_del">-		free_page((unsigned long)hv_context.synic_message_page[cpu]);</span>
<span class="p_add">+		free_page(hv_context.synic_message_page[cpu]);</span>
 	if (hv_context.post_msg_page[cpu])
<span class="p_del">-		free_page((unsigned long)hv_context.post_msg_page[cpu]);</span>
<span class="p_add">+		free_page(hv_context.post_msg_page[cpu]);</span>
 }
 
 void hv_synic_free(void)
<span class="p_header">diff --git a/drivers/ide/ide-proc.c b/drivers/ide/ide-proc.c</span>
<span class="p_header">index 97c0700..0002937 100644</span>
<span class="p_header">--- a/drivers/ide/ide-proc.c</span>
<span class="p_header">+++ b/drivers/ide/ide-proc.c</span>
<span class="p_chunk">@@ -354,7 +354,7 @@</span> <span class="p_context"> static ssize_t ide_settings_proc_write(struct file *file, const char __user *buf</span>
 		return -ENOMEM;
 
 	if (copy_from_user(buf, buffer, count)) {
<span class="p_del">-		free_page((unsigned long)buf);</span>
<span class="p_add">+		free_page(buf);</span>
 		return -EFAULT;
 	}
 
<span class="p_chunk">@@ -424,10 +424,10 @@</span> <span class="p_context"> static ssize_t ide_settings_proc_write(struct file *file, const char __user *buf</span>
 			mutex_unlock(&amp;ide_setting_mtx);
 		}
 	} while (!for_real++);
<span class="p_del">-	free_page((unsigned long)buf);</span>
<span class="p_add">+	free_page(buf);</span>
 	return count;
 parse_error:
<span class="p_del">-	free_page((unsigned long)buf);</span>
<span class="p_add">+	free_page(buf);</span>
 	printk(&quot;%s(): parse error\n&quot;, __func__);
 	return -EINVAL;
 }
<span class="p_header">diff --git a/drivers/infiniband/core/device.c b/drivers/infiniband/core/device.c</span>
<span class="p_header">index 179e813..7601ee0 100644</span>
<span class="p_header">--- a/drivers/infiniband/core/device.c</span>
<span class="p_header">+++ b/drivers/infiniband/core/device.c</span>
<span class="p_chunk">@@ -157,7 +157,7 @@</span> <span class="p_context"> static int alloc_name(char *name)</span>
 	}
 
 	i = find_first_zero_bit(inuse, PAGE_SIZE * 8);
<span class="p_del">-	free_page((unsigned long) inuse);</span>
<span class="p_add">+	free_page(inuse);</span>
 	snprintf(buf, sizeof buf, name, i);
 
 	if (__ib_device_get_by_name(buf))
<span class="p_header">diff --git a/drivers/infiniband/core/umem.c b/drivers/infiniband/core/umem.c</span>
<span class="p_header">index 38acb3c..a81e139 100644</span>
<span class="p_header">--- a/drivers/infiniband/core/umem.c</span>
<span class="p_header">+++ b/drivers/infiniband/core/umem.c</span>
<span class="p_chunk">@@ -235,8 +235,8 @@</span> <span class="p_context"> out:</span>
 
 	up_write(&amp;current-&gt;mm-&gt;mmap_sem);
 	if (vma_list)
<span class="p_del">-		free_page((unsigned long) vma_list);</span>
<span class="p_del">-	free_page((unsigned long) page_list);</span>
<span class="p_add">+		free_page(vma_list);</span>
<span class="p_add">+	free_page(page_list);</span>
 
 	return ret &lt; 0 ? ERR_PTR(ret) : umem;
 }
<span class="p_header">diff --git a/drivers/infiniband/core/umem_odp.c b/drivers/infiniband/core/umem_odp.c</span>
<span class="p_header">index 40becdb..8b14a3f 100644</span>
<span class="p_header">--- a/drivers/infiniband/core/umem_odp.c</span>
<span class="p_header">+++ b/drivers/infiniband/core/umem_odp.c</span>
<span class="p_chunk">@@ -613,7 +613,7 @@</span> <span class="p_context"> int ib_umem_odp_map_dma_pages(struct ib_umem *umem, u64 user_virt, u64 bcnt,</span>
 out_put_task:
 	put_task_struct(owning_process);
 out_no_task:
<span class="p_del">-	free_page((unsigned long)local_page_list);</span>
<span class="p_add">+	free_page(local_page_list);</span>
 	return ret;
 }
 EXPORT_SYMBOL(ib_umem_odp_map_dma_pages);
<span class="p_header">diff --git a/drivers/infiniband/hw/cxgb3/iwch_provider.c b/drivers/infiniband/hw/cxgb3/iwch_provider.c</span>
<span class="p_header">index c34725c..a80b709 100644</span>
<span class="p_header">--- a/drivers/infiniband/hw/cxgb3/iwch_provider.c</span>
<span class="p_header">+++ b/drivers/infiniband/hw/cxgb3/iwch_provider.c</span>
<span class="p_chunk">@@ -687,7 +687,7 @@</span> <span class="p_context"> static struct ib_mr *iwch_reg_user_mr(struct ib_pd *pd, u64 start, u64 length,</span>
 		err = iwch_write_pbl(mhp, pages, i, n);
 
 pbl_done:
<span class="p_del">-	free_page((unsigned long) pages);</span>
<span class="p_add">+	free_page(pages);</span>
 	if (err)
 		goto err_pbl;
 
<span class="p_header">diff --git a/drivers/infiniband/hw/cxgb4/device.c b/drivers/infiniband/hw/cxgb4/device.c</span>
<span class="p_header">index 58fce174..870ac06 100644</span>
<span class="p_header">--- a/drivers/infiniband/hw/cxgb4/device.c</span>
<span class="p_header">+++ b/drivers/infiniband/hw/cxgb4/device.c</span>
<span class="p_chunk">@@ -882,7 +882,7 @@</span> <span class="p_context"> err1:</span>
 static void c4iw_rdev_close(struct c4iw_rdev *rdev)
 {
 	kfree(rdev-&gt;wr_log);
<span class="p_del">-	free_page((unsigned long)rdev-&gt;status_page);</span>
<span class="p_add">+	free_page(rdev-&gt;status_page);</span>
 	c4iw_pblpool_destroy(rdev);
 	c4iw_rqtpool_destroy(rdev);
 	c4iw_destroy_resource(&amp;rdev-&gt;resource);
<span class="p_header">diff --git a/drivers/infiniband/hw/cxgb4/mem.c b/drivers/infiniband/hw/cxgb4/mem.c</span>
<span class="p_header">index e1629ab..9720caa 100644</span>
<span class="p_header">--- a/drivers/infiniband/hw/cxgb4/mem.c</span>
<span class="p_header">+++ b/drivers/infiniband/hw/cxgb4/mem.c</span>
<span class="p_chunk">@@ -773,7 +773,7 @@</span> <span class="p_context"> struct ib_mr *c4iw_reg_user_mr(struct ib_pd *pd, u64 start, u64 length,</span>
 				     mhp-&gt;attr.pbl_addr + (n &lt;&lt; 3), i);
 
 pbl_done:
<span class="p_del">-	free_page((unsigned long) pages);</span>
<span class="p_add">+	free_page(pages);</span>
 	if (err)
 		goto err_pbl;
 
<span class="p_header">diff --git a/drivers/infiniband/hw/mlx4/mr.c b/drivers/infiniband/hw/mlx4/mr.c</span>
<span class="p_header">index 4d1e1c6..227c99bb 100644</span>
<span class="p_header">--- a/drivers/infiniband/hw/mlx4/mr.c</span>
<span class="p_header">+++ b/drivers/infiniband/hw/mlx4/mr.c</span>
<span class="p_chunk">@@ -126,7 +126,7 @@</span> <span class="p_context"> int mlx4_ib_umem_write_mtt(struct mlx4_ib_dev *dev, struct mlx4_mtt *mtt,</span>
 		err = mlx4_write_mtt(dev-&gt;dev, mtt, n, i, pages);
 
 out:
<span class="p_del">-	free_page((unsigned long) pages);</span>
<span class="p_add">+	free_page(pages);</span>
 	return err;
 }
 
<span class="p_header">diff --git a/drivers/infiniband/hw/mlx5/mr.c b/drivers/infiniband/hw/mlx5/mr.c</span>
<span class="p_header">index 6000f7a..ffa411a 100644</span>
<span class="p_header">--- a/drivers/infiniband/hw/mlx5/mr.c</span>
<span class="p_header">+++ b/drivers/infiniband/hw/mlx5/mr.c</span>
<span class="p_chunk">@@ -966,7 +966,7 @@</span> <span class="p_context"> int mlx5_ib_update_mtt(struct mlx5_ib_mr *mr, u64 start_page_index, int npages,</span>
 
 free_pas:
 	if (!use_emergency_buf)
<span class="p_del">-		free_page((unsigned long)pas);</span>
<span class="p_add">+		free_page(pas);</span>
 	else
 		mutex_unlock(&amp;mlx5_ib_update_mtt_emergency_buffer_mutex);
 
<span class="p_header">diff --git a/drivers/infiniband/hw/mlx5/odp.c b/drivers/infiniband/hw/mlx5/odp.c</span>
<span class="p_header">index aa8391e..899add65 100644</span>
<span class="p_header">--- a/drivers/infiniband/hw/mlx5/odp.c</span>
<span class="p_header">+++ b/drivers/infiniband/hw/mlx5/odp.c</span>
<span class="p_chunk">@@ -588,7 +588,7 @@</span> <span class="p_context"> resolve_page_fault:</span>
 	mlx5_ib_dbg(dev, &quot;PAGE FAULT completed. QP 0x%x resume_with_error=%d, flags: 0x%x\n&quot;,
 		    qp-&gt;mqp.qpn, resume_with_error, pfault-&gt;mpfault.flags);
 
<span class="p_del">-	free_page((unsigned long)buffer);</span>
<span class="p_add">+	free_page(buffer);</span>
 }
 
 static int pages_in_range(u64 address, u32 length)
<span class="p_header">diff --git a/drivers/infiniband/hw/mthca/mthca_allocator.c b/drivers/infiniband/hw/mthca/mthca_allocator.c</span>
<span class="p_header">index b4e0cf4..d15552a 100644</span>
<span class="p_header">--- a/drivers/infiniband/hw/mthca/mthca_allocator.c</span>
<span class="p_header">+++ b/drivers/infiniband/hw/mthca/mthca_allocator.c</span>
<span class="p_chunk">@@ -147,7 +147,7 @@</span> <span class="p_context"> void mthca_array_clear(struct mthca_array *array, int index)</span>
 	int p = (index * sizeof (void *)) &gt;&gt; PAGE_SHIFT;
 
 	if (--array-&gt;page_list[p].used == 0) {
<span class="p_del">-		free_page((unsigned long) array-&gt;page_list[p].page);</span>
<span class="p_add">+		free_page(array-&gt;page_list[p].page);</span>
 		array-&gt;page_list[p].page = NULL;
 	} else
 		array-&gt;page_list[p].page[index &amp; MTHCA_ARRAY_MASK] = NULL;
<span class="p_chunk">@@ -179,7 +179,7 @@</span> <span class="p_context"> void mthca_array_cleanup(struct mthca_array *array, int nent)</span>
 	int i;
 
 	for (i = 0; i &lt; (nent * sizeof (void *) + PAGE_SIZE - 1) / PAGE_SIZE; ++i)
<span class="p_del">-		free_page((unsigned long) array-&gt;page_list[i].page);</span>
<span class="p_add">+		free_page(array-&gt;page_list[i].page);</span>
 
 	kfree(array-&gt;page_list);
 }
<span class="p_header">diff --git a/drivers/infiniband/hw/mthca/mthca_provider.c b/drivers/infiniband/hw/mthca/mthca_provider.c</span>
<span class="p_header">index dc2d48c..e95980e 100644</span>
<span class="p_header">--- a/drivers/infiniband/hw/mthca/mthca_provider.c</span>
<span class="p_header">+++ b/drivers/infiniband/hw/mthca/mthca_provider.c</span>
<span class="p_chunk">@@ -1058,7 +1058,7 @@</span> <span class="p_context"> static struct ib_mr *mthca_reg_user_mr(struct ib_pd *pd, u64 start, u64 length,</span>
 	if (i)
 		err = mthca_write_mtt(dev, mr-&gt;mtt, n, pages, i);
 mtt_done:
<span class="p_del">-	free_page((unsigned long) pages);</span>
<span class="p_add">+	free_page(pages);</span>
 	if (err)
 		goto err_mtt;
 
<span class="p_header">diff --git a/drivers/infiniband/hw/qib/qib_qp.c b/drivers/infiniband/hw/qib/qib_qp.c</span>
<span class="p_header">index 40f85bb..6ff0112 100644</span>
<span class="p_header">--- a/drivers/infiniband/hw/qib/qib_qp.c</span>
<span class="p_header">+++ b/drivers/infiniband/hw/qib/qib_qp.c</span>
<span class="p_chunk">@@ -110,7 +110,7 @@</span> <span class="p_context"> static void get_map_page(struct qib_qpn_table *qpt, struct qpn_map *map)</span>
 
 	spin_lock(&amp;qpt-&gt;lock);
 	if (map-&gt;page)
<span class="p_del">-		free_page(page);</span>
<span class="p_add">+		free_page((void *)page);</span>
 	else
 		map-&gt;page = (void *)page;
 	spin_unlock(&amp;qpt-&gt;lock);
<span class="p_chunk">@@ -1252,7 +1252,7 @@</span> <span class="p_context"> void qib_free_qpn_table(struct qib_qpn_table *qpt)</span>
 
 	for (i = 0; i &lt; ARRAY_SIZE(qpt-&gt;map); i++)
 		if (qpt-&gt;map[i].page)
<span class="p_del">-			free_page((unsigned long) qpt-&gt;map[i].page);</span>
<span class="p_add">+			free_page(qpt-&gt;map[i].page);</span>
 }
 
 /**
<span class="p_header">diff --git a/drivers/infiniband/hw/usnic/usnic_uiom.c b/drivers/infiniband/hw/usnic/usnic_uiom.c</span>
<span class="p_header">index 645a5f6..daaaf3d 100644</span>
<span class="p_header">--- a/drivers/infiniband/hw/usnic/usnic_uiom.c</span>
<span class="p_header">+++ b/drivers/infiniband/hw/usnic/usnic_uiom.c</span>
<span class="p_chunk">@@ -190,7 +190,7 @@</span> <span class="p_context"> out:</span>
 		current-&gt;mm-&gt;locked_vm = locked;
 
 	up_write(&amp;current-&gt;mm-&gt;mmap_sem);
<span class="p_del">-	free_page((unsigned long) page_list);</span>
<span class="p_add">+	free_page(page_list);</span>
 	return ret;
 }
 
<span class="p_header">diff --git a/drivers/input/misc/xen-kbdfront.c b/drivers/input/misc/xen-kbdfront.c</span>
<span class="p_header">index 0a9ad2cf..d70a619 100644</span>
<span class="p_header">--- a/drivers/input/misc/xen-kbdfront.c</span>
<span class="p_header">+++ b/drivers/input/misc/xen-kbdfront.c</span>
<span class="p_chunk">@@ -226,7 +226,7 @@</span> <span class="p_context"> static int xenkbd_remove(struct xenbus_device *dev)</span>
 		input_unregister_device(info-&gt;kbd);
 	if (info-&gt;ptr)
 		input_unregister_device(info-&gt;ptr);
<span class="p_del">-	free_page((unsigned long)info-&gt;page);</span>
<span class="p_add">+	free_page(info-&gt;page);</span>
 	kfree(info);
 	return 0;
 }
<span class="p_header">diff --git a/drivers/iommu/amd_iommu.c b/drivers/iommu/amd_iommu.c</span>
<span class="p_header">index 8b2be1e..3102804 100644</span>
<span class="p_header">--- a/drivers/iommu/amd_iommu.c</span>
<span class="p_header">+++ b/drivers/iommu/amd_iommu.c</span>
<span class="p_chunk">@@ -1466,7 +1466,7 @@</span> <span class="p_context"> static int alloc_new_range(struct dma_ops_domain *dma_dom,</span>
 out_free:
 	update_domain(&amp;dma_dom-&gt;domain);
 
<span class="p_del">-	free_page((unsigned long)dma_dom-&gt;aperture[index]-&gt;bitmap);</span>
<span class="p_add">+	free_page(dma_dom-&gt;aperture[index]-&gt;bitmap);</span>
 
 	kfree(dma_dom-&gt;aperture[index]);
 	dma_dom-&gt;aperture[index] = NULL;
<span class="p_chunk">@@ -1642,9 +1642,9 @@</span> <span class="p_context"> static void domain_id_free(int id)</span>
 }
 
 #define DEFINE_FREE_PT_FN(LVL, FN)				\
<span class="p_del">-static void free_pt_##LVL (unsigned long __pt)			\</span>
<span class="p_add">+static void free_pt_##LVL (void *__pt)				\</span>
 {								\
<span class="p_del">-	unsigned long p;					\</span>
<span class="p_add">+	void *p;						\</span>
 	u64 *pt;						\
 	int i;							\
 								\
<span class="p_chunk">@@ -1660,10 +1660,10 @@</span> <span class="p_context"> static void free_pt_##LVL (unsigned long __pt)			\</span>
 		    PM_PTE_LEVEL(pt[i]) == 7)			\
 			continue;				\
 								\
<span class="p_del">-		p = (unsigned long)IOMMU_PTE_PAGE(pt[i]);	\</span>
<span class="p_add">+		p = IOMMU_PTE_PAGE(pt[i]);			\</span>
 		FN(p);						\
 	}							\
<span class="p_del">-	free_page((unsigned long)pt);				\</span>
<span class="p_add">+	free_page(pt);						\</span>
 }
 
 DEFINE_FREE_PT_FN(l2, free_page)
<span class="p_chunk">@@ -1674,7 +1674,7 @@</span> <span class="p_context"> DEFINE_FREE_PT_FN(l6, free_pt_l5)</span>
 
 static void free_pagetable(struct protection_domain *domain)
 {
<span class="p_del">-	unsigned long root = (unsigned long)domain-&gt;pt_root;</span>
<span class="p_add">+	void *root = domain-&gt;pt_root;</span>
 
 	switch (domain-&gt;mode) {
 	case PAGE_MODE_NONE:
<span class="p_chunk">@@ -1713,7 +1713,7 @@</span> <span class="p_context"> static void free_gcr3_tbl_level1(u64 *tbl)</span>
 
 		ptr = __va(tbl[i] &amp; PAGE_MASK);
 
<span class="p_del">-		free_page((unsigned long)ptr);</span>
<span class="p_add">+		free_page(ptr);</span>
 	}
 }
 
<span class="p_chunk">@@ -1741,7 +1741,7 @@</span> <span class="p_context"> static void free_gcr3_table(struct protection_domain *domain)</span>
 	else
 		BUG_ON(domain-&gt;glx != 0);
 
<span class="p_del">-	free_page((unsigned long)domain-&gt;gcr3_tbl);</span>
<span class="p_add">+	free_page(domain-&gt;gcr3_tbl);</span>
 }
 
 /*
<span class="p_chunk">@@ -1762,7 +1762,7 @@</span> <span class="p_context"> static void dma_ops_domain_free(struct dma_ops_domain *dom)</span>
 	for (i = 0; i &lt; APERTURE_MAX_RANGES; ++i) {
 		if (!dom-&gt;aperture[i])
 			continue;
<span class="p_del">-		free_page((unsigned long)dom-&gt;aperture[i]-&gt;bitmap);</span>
<span class="p_add">+		free_page(dom-&gt;aperture[i]-&gt;bitmap);</span>
 		kfree(dom-&gt;aperture[i]);
 	}
 
<span class="p_header">diff --git a/drivers/iommu/amd_iommu_v2.c b/drivers/iommu/amd_iommu_v2.c</span>
<span class="p_header">index d21d4ed..a347fc3 100644</span>
<span class="p_header">--- a/drivers/iommu/amd_iommu_v2.c</span>
<span class="p_header">+++ b/drivers/iommu/amd_iommu_v2.c</span>
<span class="p_chunk">@@ -309,7 +309,7 @@</span> <span class="p_context"> static void free_pasid_states_level1(struct pasid_state **tbl)</span>
 		if (tbl[i] == NULL)
 			continue;
 
<span class="p_del">-		free_page((unsigned long)tbl[i]);</span>
<span class="p_add">+		free_page(tbl[i]);</span>
 	}
 }
 
<span class="p_chunk">@@ -359,7 +359,7 @@</span> <span class="p_context"> static void free_pasid_states(struct device_state *dev_state)</span>
 	else
 		BUG_ON(dev_state-&gt;pasid_levels != 0);
 
<span class="p_del">-	free_page((unsigned long)dev_state-&gt;states);</span>
<span class="p_add">+	free_page(dev_state-&gt;states);</span>
 }
 
 static struct pasid_state *mn_to_state(struct mmu_notifier *mn)
<span class="p_chunk">@@ -823,7 +823,7 @@</span> <span class="p_context"> out_free_domain:</span>
 	iommu_domain_free(dev_state-&gt;domain);
 
 out_free_states:
<span class="p_del">-	free_page((unsigned long)dev_state-&gt;states);</span>
<span class="p_add">+	free_page(dev_state-&gt;states);</span>
 
 out_free_dev_state:
 	kfree(dev_state);
<span class="p_header">diff --git a/drivers/iommu/dmar.c b/drivers/iommu/dmar.c</span>
<span class="p_header">index 80e3c17..37f4c82 100644</span>
<span class="p_header">--- a/drivers/iommu/dmar.c</span>
<span class="p_header">+++ b/drivers/iommu/dmar.c</span>
<span class="p_chunk">@@ -1097,7 +1097,7 @@</span> <span class="p_context"> static void free_iommu(struct intel_iommu *iommu)</span>
 	}
 
 	if (iommu-&gt;qi) {
<span class="p_del">-		free_page((unsigned long)iommu-&gt;qi-&gt;desc);</span>
<span class="p_add">+		free_page(iommu-&gt;qi-&gt;desc);</span>
 		kfree(iommu-&gt;qi-&gt;desc_status);
 		kfree(iommu-&gt;qi);
 	}
<span class="p_chunk">@@ -1433,7 +1433,7 @@</span> <span class="p_context"> int dmar_enable_qi(struct intel_iommu *iommu)</span>
 
 	qi-&gt;desc_status = kzalloc(QI_LENGTH * sizeof(int), GFP_ATOMIC);
 	if (!qi-&gt;desc_status) {
<span class="p_del">-		free_page((unsigned long) qi-&gt;desc);</span>
<span class="p_add">+		free_page(qi-&gt;desc);</span>
 		kfree(qi);
 		iommu-&gt;qi = NULL;
 		return -ENOMEM;
<span class="p_header">diff --git a/drivers/iommu/intel-iommu.c b/drivers/iommu/intel-iommu.c</span>
<span class="p_header">index ac73876..1330044 100644</span>
<span class="p_header">--- a/drivers/iommu/intel-iommu.c</span>
<span class="p_header">+++ b/drivers/iommu/intel-iommu.c</span>
<span class="p_chunk">@@ -655,7 +655,7 @@</span> <span class="p_context"> static inline void *alloc_pgtable_page(int node)</span>
 
 static inline void free_pgtable_page(void *vaddr)
 {
<span class="p_del">-	free_page((unsigned long)vaddr);</span>
<span class="p_add">+	free_page(vaddr);</span>
 }
 
 static inline void *alloc_domain_mem(void)
<span class="p_header">diff --git a/drivers/iommu/msm_iommu.c b/drivers/iommu/msm_iommu.c</span>
<span class="p_header">index e321fa5..b8bcc57 100644</span>
<span class="p_header">--- a/drivers/iommu/msm_iommu.c</span>
<span class="p_header">+++ b/drivers/iommu/msm_iommu.c</span>
<span class="p_chunk">@@ -260,8 +260,7 @@</span> <span class="p_context"> static void msm_iommu_domain_free(struct iommu_domain *domain)</span>
 
 	for (i = 0; i &lt; NUM_FL_PTE; i++)
 		if ((fl_table[i] &amp; 0x03) == FL_TYPE_TABLE)
<span class="p_del">-			free_page((unsigned long) __va(((fl_table[i]) &amp;</span>
<span class="p_del">-							FL_BASE_MASK)));</span>
<span class="p_add">+			free_page(__va(((fl_table[i]) &amp; FL_BASE_MASK)));</span>
 
 	free_pages((unsigned long)priv-&gt;pgtable, get_order(SZ_16K));
 	priv-&gt;pgtable = NULL;
<span class="p_chunk">@@ -536,7 +535,7 @@</span> <span class="p_context"> static size_t msm_iommu_unmap(struct iommu_domain *domain, unsigned long va,</span>
 			if (sl_table[i])
 				used = 1;
 		if (!used) {
<span class="p_del">-			free_page((unsigned long)sl_table);</span>
<span class="p_add">+			free_page(sl_table);</span>
 			*fl_pte = 0;
 		}
 	}
<span class="p_header">diff --git a/drivers/iommu/rockchip-iommu.c b/drivers/iommu/rockchip-iommu.c</span>
<span class="p_header">index ebf0adb..eca78ef 100644</span>
<span class="p_header">--- a/drivers/iommu/rockchip-iommu.c</span>
<span class="p_header">+++ b/drivers/iommu/rockchip-iommu.c</span>
<span class="p_chunk">@@ -867,11 +867,11 @@</span> <span class="p_context"> static void rk_iommu_domain_free(struct iommu_domain *domain)</span>
 		if (rk_dte_is_pt_valid(dte)) {
 			phys_addr_t pt_phys = rk_dte_pt_address(dte);
 			u32 *page_table = phys_to_virt(pt_phys);
<span class="p_del">-			free_page((unsigned long)page_table);</span>
<span class="p_add">+			free_page(page_table);</span>
 		}
 	}
 
<span class="p_del">-	free_page((unsigned long)rk_domain-&gt;dt);</span>
<span class="p_add">+	free_page(rk_domain-&gt;dt);</span>
 	kfree(rk_domain);
 }
 
<span class="p_header">diff --git a/drivers/irqchip/irq-gic-v3-its.c b/drivers/irqchip/irq-gic-v3-its.c</span>
<span class="p_header">index e23d1d1..2513a68 100644</span>
<span class="p_header">--- a/drivers/irqchip/irq-gic-v3-its.c</span>
<span class="p_header">+++ b/drivers/irqchip/irq-gic-v3-its.c</span>
<span class="p_chunk">@@ -808,7 +808,7 @@</span> <span class="p_context"> static void its_free_tables(struct its_node *its)</span>
 
 	for (i = 0; i &lt; GITS_BASER_NR_REGS; i++) {
 		if (its-&gt;tables[i]) {
<span class="p_del">-			free_page((unsigned long)its-&gt;tables[i]);</span>
<span class="p_add">+			free_page(its-&gt;tables[i]);</span>
 			its-&gt;tables[i] = NULL;
 		}
 	}
<span class="p_header">diff --git a/drivers/lguest/lguest_user.c b/drivers/lguest/lguest_user.c</span>
<span class="p_header">index 30c6068..328e249 100644</span>
<span class="p_header">--- a/drivers/lguest/lguest_user.c</span>
<span class="p_header">+++ b/drivers/lguest/lguest_user.c</span>
<span class="p_chunk">@@ -275,7 +275,7 @@</span> <span class="p_context"> static int initialize(struct file *file, const unsigned long __user *input)</span>
 
 free_regs:
 	/* FIXME: This should be in free_vcpu */
<span class="p_del">-	free_page(lg-&gt;cpus[0].regs_page);</span>
<span class="p_add">+	free_page((void *)lg-&gt;cpus[0].regs_page);</span>
 free_lg:
 	kfree(lg);
 unlock:
<span class="p_chunk">@@ -377,7 +377,7 @@</span> <span class="p_context"> static int close(struct inode *inode, struct file *file)</span>
 		/* Cancels the hrtimer set via LHCALL_SET_CLOCKEVENT. */
 		hrtimer_cancel(&amp;lg-&gt;cpus[i].hrt);
 		/* We can free up the register page we allocated. */
<span class="p_del">-		free_page(lg-&gt;cpus[i].regs_page);</span>
<span class="p_add">+		free_page((void *)lg-&gt;cpus[i].regs_page);</span>
 		/*
 		 * Now all the memory cleanups are done, it&#39;s safe to release
 		 * the Launcher&#39;s memory management structure.
<span class="p_header">diff --git a/drivers/lguest/page_tables.c b/drivers/lguest/page_tables.c</span>
<span class="p_header">index e3abebc9..012b10a 100644</span>
<span class="p_header">--- a/drivers/lguest/page_tables.c</span>
<span class="p_header">+++ b/drivers/lguest/page_tables.c</span>
<span class="p_chunk">@@ -595,7 +595,7 @@</span> <span class="p_context"> static void release_pmd(pmd_t *spmd)</span>
 		for (i = 0; i &lt; PTRS_PER_PTE; i++)
 			release_pte(ptepage[i]);
 		/* Now we can free the page of PTEs */
<span class="p_del">-		free_page((long)ptepage);</span>
<span class="p_add">+		free_page(ptepage);</span>
 		/* And zero out the PMD entry so we never release it twice. */
 		set_pmd(spmd, __pmd(0));
 	}
<span class="p_chunk">@@ -612,7 +612,7 @@</span> <span class="p_context"> static void release_pgd(pgd_t *spgd)</span>
 			release_pmd(&amp;pmdpage[i]);
 
 		/* Now we can free the page of PMDs */
<span class="p_del">-		free_page((long)pmdpage);</span>
<span class="p_add">+		free_page(pmdpage);</span>
 		/* And zero out the PGD entry so we never release it twice. */
 		set_pgd(spgd, __pgd(0));
 	}
<span class="p_chunk">@@ -639,7 +639,7 @@</span> <span class="p_context"> static void release_pgd(pgd_t *spgd)</span>
 		for (i = 0; i &lt; PTRS_PER_PTE; i++)
 			release_pte(ptepage[i]);
 		/* Now we can free the page of PTEs */
<span class="p_del">-		free_page((long)ptepage);</span>
<span class="p_add">+		free_page(ptepage);</span>
 		/* And zero out the PGD entry so we never release it twice. */
 		*spgd = __pgd(0);
 	}
<span class="p_chunk">@@ -1133,7 +1133,7 @@</span> <span class="p_context"> void free_guest_pagetable(struct lguest *lg)</span>
 	release_all_pagetables(lg);
 	/* Now free the top levels: free_page() can handle 0 just fine. */
 	for (i = 0; i &lt; ARRAY_SIZE(lg-&gt;pgdirs); i++)
<span class="p_del">-		free_page((long)lg-&gt;pgdirs[i].pgdir);</span>
<span class="p_add">+		free_page(lg-&gt;pgdirs[i].pgdir);</span>
 }
 
 /*H:481
<span class="p_header">diff --git a/drivers/macintosh/rack-meter.c b/drivers/macintosh/rack-meter.c</span>
<span class="p_header">index 048901a..ff85b7b 100644</span>
<span class="p_header">--- a/drivers/macintosh/rack-meter.c</span>
<span class="p_header">+++ b/drivers/macintosh/rack-meter.c</span>
<span class="p_chunk">@@ -509,7 +509,7 @@</span> <span class="p_context"> static int rackmeter_probe(struct macio_dev* mdev,</span>
 			  sizeof(struct rackmeter_dma),
 			  rm-&gt;dma_buf_v, rm-&gt;dma_buf_p);
  bail_free_samples:
<span class="p_del">-	free_page((unsigned long)rm-&gt;ubuf);</span>
<span class="p_add">+	free_page(rm-&gt;ubuf);</span>
  bail_release:
 #if 0
 	macio_release_resources(mdev);
<span class="p_chunk">@@ -549,7 +549,7 @@</span> <span class="p_context"> static int rackmeter_remove(struct macio_dev* mdev)</span>
 			  rm-&gt;dma_buf_v, rm-&gt;dma_buf_p);
 
 	/* Free samples */
<span class="p_del">-	free_page((unsigned long)rm-&gt;ubuf);</span>
<span class="p_add">+	free_page(rm-&gt;ubuf);</span>
 
 #if 0
 	/* Release resources */
<span class="p_header">diff --git a/drivers/media/pci/pt1/pt1.c b/drivers/media/pci/pt1/pt1.c</span>
<span class="p_header">index e7e4428..ce4f862 100644</span>
<span class="p_header">--- a/drivers/media/pci/pt1/pt1.c</span>
<span class="p_header">+++ b/drivers/media/pci/pt1/pt1.c</span>
<span class="p_chunk">@@ -624,7 +624,7 @@</span> <span class="p_context"> static void pt1_free_adapter(struct pt1_adapter *adap)</span>
 	dvb_dmxdev_release(&amp;adap-&gt;dmxdev);
 	dvb_dmx_release(&amp;adap-&gt;demux);
 	dvb_unregister_adapter(&amp;adap-&gt;adap);
<span class="p_del">-	free_page((unsigned long)adap-&gt;buf);</span>
<span class="p_add">+	free_page(adap-&gt;buf);</span>
 	kfree(adap);
 }
 
<span class="p_chunk">@@ -696,7 +696,7 @@</span> <span class="p_context"> err_dmx_release:</span>
 err_unregister_adapter:
 	dvb_unregister_adapter(dvb_adap);
 err_free_page:
<span class="p_del">-	free_page((unsigned long)buf);</span>
<span class="p_add">+	free_page(buf);</span>
 err_kfree:
 	kfree(adap);
 err:
<span class="p_header">diff --git a/drivers/media/pci/saa7134/saa7134-go7007.c b/drivers/media/pci/saa7134/saa7134-go7007.c</span>
<span class="p_header">index 8a2abb3..083297d 100644</span>
<span class="p_header">--- a/drivers/media/pci/saa7134/saa7134-go7007.c</span>
<span class="p_header">+++ b/drivers/media/pci/saa7134/saa7134-go7007.c</span>
<span class="p_chunk">@@ -475,9 +475,9 @@</span> <span class="p_context"> static int saa7134_go7007_init(struct saa7134_dev *dev)</span>
 
 allocfail:
 	if (saa-&gt;top)
<span class="p_del">-		free_page((unsigned long)saa-&gt;top);</span>
<span class="p_add">+		free_page(saa-&gt;top);</span>
 	if (saa-&gt;bottom)
<span class="p_del">-		free_page((unsigned long)saa-&gt;bottom);</span>
<span class="p_add">+		free_page(saa-&gt;bottom);</span>
 	kfree(saa);
 	kfree(go);
 	return -ENOMEM;
<span class="p_chunk">@@ -497,8 +497,8 @@</span> <span class="p_context"> static int saa7134_go7007_fini(struct saa7134_dev *dev)</span>
 
 	saa = go-&gt;hpi_context;
 	go-&gt;status = STATUS_SHUTDOWN;
<span class="p_del">-	free_page((unsigned long)saa-&gt;top);</span>
<span class="p_del">-	free_page((unsigned long)saa-&gt;bottom);</span>
<span class="p_add">+	free_page(saa-&gt;top);</span>
<span class="p_add">+	free_page(saa-&gt;bottom);</span>
 	v4l2_device_unregister_subdev(&amp;saa-&gt;sd);
 	kfree(saa);
 	video_unregister_device(&amp;go-&gt;vdev);
<span class="p_header">diff --git a/drivers/media/pci/ttpci/av7110_ca.c b/drivers/media/pci/ttpci/av7110_ca.c</span>
<span class="p_header">index a6079b9..ed9c8380 100644</span>
<span class="p_header">--- a/drivers/media/pci/ttpci/av7110_ca.c</span>
<span class="p_header">+++ b/drivers/media/pci/ttpci/av7110_ca.c</span>
<span class="p_chunk">@@ -182,7 +182,7 @@</span> <span class="p_context"> static ssize_t ci_ll_write(struct dvb_ringbuffer *cibuf, struct file *file,</span>
 
 	res = dvb_ringbuffer_write(cibuf, page, count);
 out:
<span class="p_del">-	free_page((unsigned long)page);</span>
<span class="p_add">+	free_page(page);</span>
 	return res;
 }
 
<span class="p_header">diff --git a/drivers/media/pci/zoran/zoran_driver.c b/drivers/media/pci/zoran/zoran_driver.c</span>
<span class="p_header">index 80caa70..c19037f 100644</span>
<span class="p_header">--- a/drivers/media/pci/zoran/zoran_driver.c</span>
<span class="p_header">+++ b/drivers/media/pci/zoran/zoran_driver.c</span>
<span class="p_chunk">@@ -418,13 +418,13 @@</span> <span class="p_context"> static void jpg_fbuffer_free(struct zoran_fh *fh)</span>
 				if (!frag_tab)
 					break;
 				ClearPageReserved(virt_to_page(bus_to_virt(le32_to_cpu(frag_tab))));
<span class="p_del">-				free_page((unsigned long)bus_to_virt(le32_to_cpu(frag_tab)));</span>
<span class="p_add">+				free_page(bus_to_virt(le32_to_cpu(frag_tab)));</span>
 				buffer-&gt;jpg.frag_tab[2 * j] = 0;
 				buffer-&gt;jpg.frag_tab[2 * j + 1] = 0;
 			}
 		}
 
<span class="p_del">-		free_page((unsigned long)buffer-&gt;jpg.frag_tab);</span>
<span class="p_add">+		free_page(buffer-&gt;jpg.frag_tab);</span>
 		buffer-&gt;jpg.frag_tab = NULL;
 	}
 
<span class="p_header">diff --git a/drivers/misc/cxl/context.c b/drivers/misc/cxl/context.c</span>
<span class="p_header">index 2faa127..a7d7efb 100644</span>
<span class="p_header">--- a/drivers/misc/cxl/context.c</span>
<span class="p_header">+++ b/drivers/misc/cxl/context.c</span>
<span class="p_chunk">@@ -268,7 +268,7 @@</span> <span class="p_context"> static void reclaim_ctx(struct rcu_head *rcu)</span>
 {
 	struct cxl_context *ctx = container_of(rcu, struct cxl_context, rcu);
 
<span class="p_del">-	free_page((u64)ctx-&gt;sstp);</span>
<span class="p_add">+	free_page(ctx-&gt;sstp);</span>
 	if (ctx-&gt;ff_page)
 		__free_page(ctx-&gt;ff_page);
 	ctx-&gt;sstp = NULL;
<span class="p_header">diff --git a/drivers/misc/cxl/pci.c b/drivers/misc/cxl/pci.c</span>
<span class="p_header">index 85761d7..2750bff 100644</span>
<span class="p_header">--- a/drivers/misc/cxl/pci.c</span>
<span class="p_header">+++ b/drivers/misc/cxl/pci.c</span>
<span class="p_chunk">@@ -798,7 +798,7 @@</span> <span class="p_context"> ssize_t cxl_afu_read_err_buffer(struct cxl_afu *afu, char *buf,</span>
 	memcpy_fromio(tbuf, ebuf + aligned_start, aligned_length);
 	memcpy(buf, tbuf + (off &amp; 0x7), count);
 
<span class="p_del">-	free_page((unsigned long)tbuf);</span>
<span class="p_add">+	free_page(tbuf);</span>
 
 	return count;
 }
<span class="p_header">diff --git a/drivers/misc/ibmasm/ibmasmfs.c b/drivers/misc/ibmasm/ibmasmfs.c</span>
<span class="p_header">index e8b9331..6694cca 100644</span>
<span class="p_header">--- a/drivers/misc/ibmasm/ibmasmfs.c</span>
<span class="p_header">+++ b/drivers/misc/ibmasm/ibmasmfs.c</span>
<span class="p_chunk">@@ -534,7 +534,7 @@</span> <span class="p_context"> static ssize_t remote_settings_file_read(struct file *file, char __user *buf, si</span>
 	retval = len;
 
 exit:
<span class="p_del">-	free_page((unsigned long)page);</span>
<span class="p_add">+	free_page(page);</span>
 	return retval;
 }
 
<span class="p_header">diff --git a/drivers/misc/lkdtm.c b/drivers/misc/lkdtm.c</span>
<span class="p_header">index 11fdadc..0446145 100644</span>
<span class="p_header">--- a/drivers/misc/lkdtm.c</span>
<span class="p_header">+++ b/drivers/misc/lkdtm.c</span>
<span class="p_chunk">@@ -631,7 +631,7 @@</span> <span class="p_context"> static ssize_t do_register_entry(enum cname which, struct file *f,</span>
 	if (!buf)
 		return -ENOMEM;
 	if (copy_from_user(buf, user_buf, count)) {
<span class="p_del">-		free_page((unsigned long) buf);</span>
<span class="p_add">+		free_page(buf);</span>
 		return -EFAULT;
 	}
 	/* NULL-terminate and remove enter */
<span class="p_chunk">@@ -639,7 +639,7 @@</span> <span class="p_context"> static ssize_t do_register_entry(enum cname which, struct file *f,</span>
 	strim(buf);
 
 	cptype = parse_cp_type(buf, count);
<span class="p_del">-	free_page((unsigned long) buf);</span>
<span class="p_add">+	free_page(buf);</span>
 
 	if (cptype == CT_NONE)
 		return -EINVAL;
<span class="p_chunk">@@ -671,7 +671,7 @@</span> <span class="p_context"> static ssize_t lkdtm_debugfs_read(struct file *f, char __user *user_buf,</span>
 
 	out = simple_read_from_buffer(user_buf, count, off,
 				      buf, n);
<span class="p_del">-	free_page((unsigned long) buf);</span>
<span class="p_add">+	free_page(buf);</span>
 
 	return out;
 }
<span class="p_chunk">@@ -746,7 +746,7 @@</span> <span class="p_context"> static ssize_t direct_entry(struct file *f, const char __user *user_buf,</span>
 	if (!buf)
 		return -ENOMEM;
 	if (copy_from_user(buf, user_buf, count)) {
<span class="p_del">-		free_page((unsigned long) buf);</span>
<span class="p_add">+		free_page(buf);</span>
 		return -EFAULT;
 	}
 	/* NULL-terminate and remove enter */
<span class="p_chunk">@@ -754,7 +754,7 @@</span> <span class="p_context"> static ssize_t direct_entry(struct file *f, const char __user *user_buf,</span>
 	strim(buf);
 
 	type = parse_cp_type(buf, count);
<span class="p_del">-	free_page((unsigned long) buf);</span>
<span class="p_add">+	free_page(buf);</span>
 	if (type == CT_NONE)
 		return -EINVAL;
 
<span class="p_header">diff --git a/drivers/net/ethernet/i825xx/82596.c b/drivers/net/ethernet/i825xx/82596.c</span>
<span class="p_header">index 7ce6379..b276776 100644</span>
<span class="p_header">--- a/drivers/net/ethernet/i825xx/82596.c</span>
<span class="p_header">+++ b/drivers/net/ethernet/i825xx/82596.c</span>
<span class="p_chunk">@@ -1230,7 +1230,7 @@</span> <span class="p_context"> out2:</span>
 	kernel_set_cachemode((void *)(dev-&gt;mem_start), 4096,
 			IOMAP_FULL_CACHING);
 #endif
<span class="p_del">-	free_page ((u32)(dev-&gt;mem_start));</span>
<span class="p_add">+	free_page ((void *)(dev-&gt;mem_start));</span>
 out1:
 out:
 	free_netdev(dev);
<span class="p_chunk">@@ -1541,7 +1541,7 @@</span> <span class="p_context"> void __exit cleanup_module(void)</span>
 	kernel_set_cachemode((void *)(dev_82596-&gt;mem_start), 4096,
 			IOMAP_FULL_CACHING);
 #endif
<span class="p_del">-	free_page ((u32)(dev_82596-&gt;mem_start));</span>
<span class="p_add">+	free_page ((void *)(dev_82596-&gt;mem_start));</span>
 	free_netdev(dev_82596);
 }
 
<span class="p_header">diff --git a/drivers/net/ethernet/ibm/ehea/ehea_main.c b/drivers/net/ethernet/ibm/ehea/ehea_main.c</span>
<span class="p_header">index 2a0dc12..2d9d8e7 100644</span>
<span class="p_header">--- a/drivers/net/ethernet/ibm/ehea/ehea_main.c</span>
<span class="p_header">+++ b/drivers/net/ethernet/ibm/ehea/ehea_main.c</span>
<span class="p_chunk">@@ -385,7 +385,7 @@</span> <span class="p_context"> static void ehea_update_stats(struct work_struct *work)</span>
 	stats-&gt;rx_errors = cb2-&gt;rxuerr;
 
 out_herr:
<span class="p_del">-	free_page((unsigned long)cb2);</span>
<span class="p_add">+	free_page(cb2);</span>
 resched:
 	schedule_delayed_work(&amp;port-&gt;stats_work,
 			      round_jiffies_relative(msecs_to_jiffies(1000)));
<span class="p_chunk">@@ -1074,7 +1074,7 @@</span> <span class="p_context"> int ehea_sense_port_attr(struct ehea_port *port)</span>
 out_free:
 	if (ret || netif_msg_probe(port))
 		ehea_dump(cb0, sizeof(*cb0), &quot;ehea_sense_port_attr&quot;);
<span class="p_del">-	free_page((unsigned long)cb0);</span>
<span class="p_add">+	free_page(cb0);</span>
 out:
 	return ret;
 }
<span class="p_chunk">@@ -1153,7 +1153,7 @@</span> <span class="p_context"> int ehea_set_portspeed(struct ehea_port *port, u32 port_speed)</span>
 	if (!prop_carrier_state || (port-&gt;phy_link == EHEA_PHY_LINK_UP))
 		netif_carrier_on(port-&gt;netdev);
 
<span class="p_del">-	free_page((unsigned long)cb4);</span>
<span class="p_add">+	free_page(cb4);</span>
 out:
 	return ret;
 }
<span class="p_chunk">@@ -1410,7 +1410,7 @@</span> <span class="p_context"> static int ehea_configure_port(struct ehea_port *port)</span>
 	ret = 0;
 
 out_free:
<span class="p_del">-	free_page((unsigned long)cb0);</span>
<span class="p_add">+	free_page(cb0);</span>
 out:
 	return ret;
 }
<span class="p_chunk">@@ -1795,7 +1795,7 @@</span> <span class="p_context"> static int ehea_set_mac_addr(struct net_device *dev, void *sa)</span>
 out_upregs:
 	ehea_update_bcmc_registrations();
 out_free:
<span class="p_del">-	free_page((unsigned long)cb0);</span>
<span class="p_add">+	free_page(cb0);</span>
 out:
 	return ret;
 }
<span class="p_chunk">@@ -1838,7 +1838,7 @@</span> <span class="p_context"> static void ehea_promiscuous(struct net_device *dev, int enable)</span>
 
 	port-&gt;promisc = enable;
 out:
<span class="p_del">-	free_page((unsigned long)cb7);</span>
<span class="p_add">+	free_page(cb7);</span>
 }
 
 static u64 ehea_multicast_reg_helper(struct ehea_port *port, u64 mc_mac_addr,
<span class="p_chunk">@@ -2156,7 +2156,7 @@</span> <span class="p_context"> static int ehea_vlan_rx_add_vid(struct net_device *dev, __be16 proto, u16 vid)</span>
 		err = -EINVAL;
 	}
 out:
<span class="p_del">-	free_page((unsigned long)cb1);</span>
<span class="p_add">+	free_page(cb1);</span>
 	return err;
 }
 
<span class="p_chunk">@@ -2194,7 +2194,7 @@</span> <span class="p_context"> static int ehea_vlan_rx_kill_vid(struct net_device *dev, __be16 proto, u16 vid)</span>
 		err = -EINVAL;
 	}
 out:
<span class="p_del">-	free_page((unsigned long)cb1);</span>
<span class="p_add">+	free_page(cb1);</span>
 	return err;
 }
 
<span class="p_chunk">@@ -2269,7 +2269,7 @@</span> <span class="p_context"> static int ehea_activate_qp(struct ehea_adapter *adapter, struct ehea_qp *qp)</span>
 
 	ret = 0;
 out:
<span class="p_del">-	free_page((unsigned long)cb0);</span>
<span class="p_add">+	free_page(cb0);</span>
 	return ret;
 }
 
<span class="p_chunk">@@ -2604,7 +2604,7 @@</span> <span class="p_context"> static int ehea_stop_qps(struct net_device *dev)</span>
 
 	ret = 0;
 out:
<span class="p_del">-	free_page((unsigned long)cb0);</span>
<span class="p_add">+	free_page(cb0);</span>
 
 	return ret;
 }
<span class="p_chunk">@@ -2707,7 +2707,7 @@</span> <span class="p_context"> static int ehea_restart_qps(struct net_device *dev)</span>
 		ehea_refill_rq3(pr, 0);
 	}
 out:
<span class="p_del">-	free_page((unsigned long)cb0);</span>
<span class="p_add">+	free_page(cb0);</span>
 
 	return ret;
 }
<span class="p_chunk">@@ -2856,7 +2856,7 @@</span> <span class="p_context"> static int ehea_sense_adapter_attr(struct ehea_adapter *adapter)</span>
 	ret = 0;
 
 out_herr:
<span class="p_del">-	free_page((unsigned long)cb);</span>
<span class="p_add">+	free_page(cb);</span>
 out:
 	return ret;
 }
<span class="p_chunk">@@ -2898,7 +2898,7 @@</span> <span class="p_context"> static int ehea_get_jumboframe_status(struct ehea_port *port, int *jumbo)</span>
 		} else
 			ret = -EINVAL;
 
<span class="p_del">-		free_page((unsigned long)cb4);</span>
<span class="p_add">+		free_page(cb4);</span>
 	}
 out:
 	return ret;
<span class="p_header">diff --git a/drivers/net/ethernet/ibm/ehea/ehea_qmr.c b/drivers/net/ethernet/ibm/ehea/ehea_qmr.c</span>
<span class="p_header">index a0820f7..3ca48a5 100644</span>
<span class="p_header">--- a/drivers/net/ethernet/ibm/ehea/ehea_qmr.c</span>
<span class="p_header">+++ b/drivers/net/ethernet/ibm/ehea/ehea_qmr.c</span>
<span class="p_chunk">@@ -96,7 +96,7 @@</span> <span class="p_context"> out_nomem:</span>
 	for (i = 0; i &lt; nr_of_pages; i += pages_per_kpage) {
 		if (!(queue-&gt;queue_pages)[i])
 			break;
<span class="p_del">-		free_page((unsigned long)(queue-&gt;queue_pages)[i]);</span>
<span class="p_add">+		free_page((queue-&gt;queue_pages)[i]);</span>
 	}
 	return -ENOMEM;
 }
<span class="p_chunk">@@ -114,7 +114,7 @@</span> <span class="p_context"> static void hw_queue_dtor(struct hw_queue *queue)</span>
 	nr_pages = queue-&gt;queue_length / queue-&gt;pagesize;
 
 	for (i = 0; i &lt; nr_pages; i += pages_per_kpage)
<span class="p_del">-		free_page((unsigned long)(queue-&gt;queue_pages)[i]);</span>
<span class="p_add">+		free_page((queue-&gt;queue_pages)[i]);</span>
 
 	kfree(queue-&gt;queue_pages);
 }
<span class="p_chunk">@@ -930,7 +930,7 @@</span> <span class="p_context"> int ehea_reg_kernel_mr(struct ehea_adapter *adapter, struct ehea_mr *mr)</span>
 	mr-&gt;adapter = adapter;
 	ret = 0;
 out:
<span class="p_del">-	free_page((unsigned long)pt);</span>
<span class="p_add">+	free_page(pt);</span>
 	return ret;
 }
 
<span class="p_chunk">@@ -1016,7 +1016,7 @@</span> <span class="p_context"> u64 ehea_error_data(struct ehea_adapter *adapter, u64 res_handle,</span>
 	} else
 		pr_err(&quot;Error data could not be fetched: %llX\n&quot;, res_handle);
 
<span class="p_del">-	free_page((unsigned long)rblock);</span>
<span class="p_add">+	free_page(rblock);</span>
 out:
 	return type;
 }
<span class="p_header">diff --git a/drivers/net/ethernet/ibm/ibmveth.c b/drivers/net/ethernet/ibm/ibmveth.c</span>
<span class="p_header">index 7af870a..cf7dd33 100644</span>
<span class="p_header">--- a/drivers/net/ethernet/ibm/ibmveth.c</span>
<span class="p_header">+++ b/drivers/net/ethernet/ibm/ibmveth.c</span>
<span class="p_chunk">@@ -475,7 +475,7 @@</span> <span class="p_context"> static void ibmveth_cleanup(struct ibmveth_adapter *adapter)</span>
 					DMA_BIDIRECTIONAL);
 			adapter-&gt;buffer_list_dma = DMA_ERROR_CODE;
 		}
<span class="p_del">-		free_page((unsigned long)adapter-&gt;buffer_list_addr);</span>
<span class="p_add">+		free_page(adapter-&gt;buffer_list_addr);</span>
 		adapter-&gt;buffer_list_addr = NULL;
 	}
 
<span class="p_chunk">@@ -485,7 +485,7 @@</span> <span class="p_context"> static void ibmveth_cleanup(struct ibmveth_adapter *adapter)</span>
 					DMA_BIDIRECTIONAL);
 			adapter-&gt;filter_list_dma = DMA_ERROR_CODE;
 		}
<span class="p_del">-		free_page((unsigned long)adapter-&gt;filter_list_addr);</span>
<span class="p_add">+		free_page(adapter-&gt;filter_list_addr);</span>
 		adapter-&gt;filter_list_addr = NULL;
 	}
 
<span class="p_header">diff --git a/drivers/net/ethernet/seeq/sgiseeq.c b/drivers/net/ethernet/seeq/sgiseeq.c</span>
<span class="p_header">index ca73366..db3a0d9 100644</span>
<span class="p_header">--- a/drivers/net/ethernet/seeq/sgiseeq.c</span>
<span class="p_header">+++ b/drivers/net/ethernet/seeq/sgiseeq.c</span>
<span class="p_chunk">@@ -800,7 +800,7 @@</span> <span class="p_context"> static int sgiseeq_probe(struct platform_device *pdev)</span>
 	return 0;
 
 err_out_free_page:
<span class="p_del">-	free_page((unsigned long) sp-&gt;srings);</span>
<span class="p_add">+	free_page(sp-&gt;srings);</span>
 err_out_free_dev:
 	free_netdev(dev);
 
<span class="p_header">diff --git a/drivers/net/ethernet/sfc/mcdi.c b/drivers/net/ethernet/sfc/mcdi.c</span>
<span class="p_header">index 41fb6b6..36c786b 100644</span>
<span class="p_header">--- a/drivers/net/ethernet/sfc/mcdi.c</span>
<span class="p_header">+++ b/drivers/net/ethernet/sfc/mcdi.c</span>
<span class="p_chunk">@@ -119,7 +119,7 @@</span> <span class="p_context"> int efx_mcdi_init(struct efx_nic *efx)</span>
 	return 0;
 fail2:
 #ifdef CONFIG_SFC_MCDI_LOGGING
<span class="p_del">-	free_page((unsigned long)mcdi-&gt;logging_buffer);</span>
<span class="p_add">+	free_page(mcdi-&gt;logging_buffer);</span>
 fail1:
 #endif
 	kfree(efx-&gt;mcdi);
<span class="p_chunk">@@ -139,7 +139,7 @@</span> <span class="p_context"> void efx_mcdi_fini(struct efx_nic *efx)</span>
 	efx_mcdi_drv_attach(efx, false, NULL);
 
 #ifdef CONFIG_SFC_MCDI_LOGGING
<span class="p_del">-	free_page((unsigned long)efx-&gt;mcdi-&gt;iface.logging_buffer);</span>
<span class="p_add">+	free_page(efx-&gt;mcdi-&gt;iface.logging_buffer);</span>
 #endif
 
 	kfree(efx-&gt;mcdi);
<span class="p_header">diff --git a/drivers/net/ethernet/sgi/ioc3-eth.c b/drivers/net/ethernet/sgi/ioc3-eth.c</span>
<span class="p_header">index 7a254da..d3b1416 100644</span>
<span class="p_header">--- a/drivers/net/ethernet/sgi/ioc3-eth.c</span>
<span class="p_header">+++ b/drivers/net/ethernet/sgi/ioc3-eth.c</span>
<span class="p_chunk">@@ -887,7 +887,7 @@</span> <span class="p_context"> static void ioc3_free_rings(struct ioc3_private *ip)</span>
 
 			n_entry = (n_entry + 1) &amp; 511;
 		}
<span class="p_del">-		free_page((unsigned long)ip-&gt;rxr);</span>
<span class="p_add">+		free_page(ip-&gt;rxr);</span>
 		ip-&gt;rxr = NULL;
 	}
 }
<span class="p_header">diff --git a/drivers/net/ethernet/toshiba/ps3_gelic_wireless.c b/drivers/net/ethernet/toshiba/ps3_gelic_wireless.c</span>
<span class="p_header">index 13214a6..c1b3142 100644</span>
<span class="p_header">--- a/drivers/net/ethernet/toshiba/ps3_gelic_wireless.c</span>
<span class="p_header">+++ b/drivers/net/ethernet/toshiba/ps3_gelic_wireless.c</span>
<span class="p_chunk">@@ -1430,7 +1430,7 @@</span> <span class="p_context"> static struct iw_statistics *gelic_wl_get_wireless_stats(</span>
 		is-&gt;qual.updated = IW_QUAL_ALL_INVALID;
 
 	kfree(cmd);
<span class="p_del">-	free_page((unsigned long)buf);</span>
<span class="p_add">+	free_page(buf);</span>
 	pr_debug(&quot;%s: -&gt;\n&quot;, __func__);
 	return is;
 }
<span class="p_chunk">@@ -1498,7 +1498,7 @@</span> <span class="p_context"> static int gelic_wl_start_scan(struct gelic_wl_info *wl, int always_scan,</span>
 	}
 	kfree(cmd);
 out:
<span class="p_del">-	free_page((unsigned long)buf);</span>
<span class="p_add">+	free_page(buf);</span>
 	mutex_unlock(&amp;wl-&gt;scan_lock);
 	pr_debug(&quot;%s: -&gt;\n&quot;, __func__);
 	return ret;
<span class="p_chunk">@@ -1642,7 +1642,7 @@</span> <span class="p_context"> static void gelic_wl_scan_complete_event(struct gelic_wl_info *wl)</span>
 	wireless_send_event(port_to_netdev(wl_port(wl)), SIOCGIWSCAN, &amp;data,
 			    NULL);
 out:
<span class="p_del">-	free_page((unsigned long)buf);</span>
<span class="p_add">+	free_page(buf);</span>
 	complete(&amp;wl-&gt;scan_done);
 	mutex_unlock(&amp;wl-&gt;scan_lock);
 	pr_debug(&quot;%s:end\n&quot;, __func__);
<span class="p_chunk">@@ -1817,7 +1817,7 @@</span> <span class="p_context"> static int gelic_wl_do_wep_setup(struct gelic_wl_info *wl)</span>
 
 	kfree(cmd);
 out:
<span class="p_del">-	free_page((unsigned long)wep);</span>
<span class="p_add">+	free_page(wep);</span>
 	pr_debug(&quot;%s: -&gt;\n&quot;, __func__);
 	return ret;
 }
<span class="p_chunk">@@ -1916,7 +1916,7 @@</span> <span class="p_context"> static int gelic_wl_do_wpa_setup(struct gelic_wl_info *wl)</span>
 	else if (cmd-&gt;status || cmd-&gt;cmd_status)
 		ret = -ENXIO;
 	kfree(cmd);
<span class="p_del">-	free_page((unsigned long)wpa);</span>
<span class="p_add">+	free_page(wpa);</span>
 	pr_debug(&quot;%s: --&gt; %d\n&quot;, __func__, ret);
 	return ret;
 }
<span class="p_chunk">@@ -2027,7 +2027,7 @@</span> <span class="p_context"> static int gelic_wl_associate_bss(struct gelic_wl_info *wl,</span>
 		pr_info(&quot;%s: connected\n&quot;, __func__);
 	}
 out:
<span class="p_del">-	free_page((unsigned long)common);</span>
<span class="p_add">+	free_page(common);</span>
 	pr_debug(&quot;%s: -&gt;\n&quot;, __func__);
 	return ret;
 }
<span class="p_header">diff --git a/drivers/net/usb/kaweth.c b/drivers/net/usb/kaweth.c</span>
<span class="p_header">index f64b25c..a8493be 100644</span>
<span class="p_header">--- a/drivers/net/usb/kaweth.c</span>
<span class="p_header">+++ b/drivers/net/usb/kaweth.c</span>
<span class="p_chunk">@@ -1093,7 +1093,7 @@</span> <span class="p_context"> static int kaweth_probe(</span>
 		/* Device will now disappear for a moment...  */
 		dev_info(dev, &quot;Firmware loaded.  I&#39;ll be back...\n&quot;);
 err_fw:
<span class="p_del">-		free_page((unsigned long)kaweth-&gt;firmware_buf);</span>
<span class="p_add">+		free_page(kaweth-&gt;firmware_buf);</span>
 		free_netdev(netdev);
 		return -EIO;
 	}
<span class="p_header">diff --git a/drivers/net/wan/z85230.c b/drivers/net/wan/z85230.c</span>
<span class="p_header">index 2f0bd69..514381b 100644</span>
<span class="p_header">--- a/drivers/net/wan/z85230.c</span>
<span class="p_header">+++ b/drivers/net/wan/z85230.c</span>
<span class="p_chunk">@@ -887,7 +887,7 @@</span> <span class="p_context"> int z8530_sync_dma_open(struct net_device *dev, struct z8530_channel *c)</span>
 	c-&gt;tx_dma_buf[0]=(void *)get_zeroed_page(GFP_KERNEL|GFP_DMA);
 	if(c-&gt;tx_dma_buf[0]==NULL)
 	{
<span class="p_del">-		free_page((unsigned long)c-&gt;rx_buf[0]);</span>
<span class="p_add">+		free_page(c-&gt;rx_buf[0]);</span>
 		c-&gt;rx_buf[0]=NULL;
 		return -ENOBUFS;
 	}
<span class="p_chunk">@@ -1020,12 +1020,12 @@</span> <span class="p_context"> int z8530_sync_dma_close(struct net_device *dev, struct z8530_channel *c)</span>
 	
 	if(c-&gt;rx_buf[0])
 	{
<span class="p_del">-		free_page((unsigned long)c-&gt;rx_buf[0]);</span>
<span class="p_add">+		free_page(c-&gt;rx_buf[0]);</span>
 		c-&gt;rx_buf[0]=NULL;
 	}
 	if(c-&gt;tx_dma_buf[0])
 	{
<span class="p_del">-		free_page((unsigned  long)c-&gt;tx_dma_buf[0]);</span>
<span class="p_add">+		free_page(c-&gt;tx_dma_buf[0]);</span>
 		c-&gt;tx_dma_buf[0]=NULL;
 	}
 	chk=read_zsreg(c,R0);
<span class="p_chunk">@@ -1189,7 +1189,7 @@</span> <span class="p_context"> int z8530_sync_txdma_close(struct net_device *dev, struct z8530_channel *c)</span>
 	
 	if(c-&gt;tx_dma_buf[0])
 	{
<span class="p_del">-		free_page((unsigned long)c-&gt;tx_dma_buf[0]);</span>
<span class="p_add">+		free_page(c-&gt;tx_dma_buf[0]);</span>
 		c-&gt;tx_dma_buf[0]=NULL;
 	}
 	chk=read_zsreg(c,R0);
<span class="p_header">diff --git a/drivers/net/wireless/b43/debugfs.c b/drivers/net/wireless/b43/debugfs.c</span>
<span class="p_header">index b4bcd94..260de71 100644</span>
<span class="p_header">--- a/drivers/net/wireless/b43/debugfs.c</span>
<span class="p_header">+++ b/drivers/net/wireless/b43/debugfs.c</span>
<span class="p_chunk">@@ -605,7 +605,7 @@</span> <span class="p_context"> static ssize_t b43_debugfs_write(struct file *file,</span>
 		goto out_freepage;
 
 out_freepage:
<span class="p_del">-	free_page((unsigned long)buf);</span>
<span class="p_add">+	free_page(buf);</span>
 out_unlock:
 	mutex_unlock(&amp;dev-&gt;wl-&gt;mutex);
 
<span class="p_header">diff --git a/drivers/net/wireless/b43legacy/debugfs.c b/drivers/net/wireless/b43legacy/debugfs.c</span>
<span class="p_header">index 090910e..947a823 100644</span>
<span class="p_header">--- a/drivers/net/wireless/b43legacy/debugfs.c</span>
<span class="p_header">+++ b/drivers/net/wireless/b43legacy/debugfs.c</span>
<span class="p_chunk">@@ -312,7 +312,7 @@</span> <span class="p_context"> static ssize_t b43legacy_debugfs_write(struct file *file,</span>
 		goto out_freepage;
 
 out_freepage:
<span class="p_del">-	free_page((unsigned long)buf);</span>
<span class="p_add">+	free_page(buf);</span>
 out_unlock:
 	mutex_unlock(&amp;dev-&gt;wl-&gt;mutex);
 
<span class="p_header">diff --git a/drivers/net/wireless/libertas/debugfs.c b/drivers/net/wireless/libertas/debugfs.c</span>
<span class="p_header">index 26cbf1d..f79c11f 100644</span>
<span class="p_header">--- a/drivers/net/wireless/libertas/debugfs.c</span>
<span class="p_header">+++ b/drivers/net/wireless/libertas/debugfs.c</span>
<span class="p_chunk">@@ -47,7 +47,7 @@</span> <span class="p_context"> static ssize_t lbs_dev_info(struct file *file, char __user *userbuf,</span>
 
 	res = simple_read_from_buffer(userbuf, count, ppos, buf, pos);
 
<span class="p_del">-	free_page(addr);</span>
<span class="p_add">+	free_page((void *)addr);</span>
 	return res;
 }
 
<span class="p_chunk">@@ -88,7 +88,7 @@</span> <span class="p_context"> static ssize_t lbs_sleepparams_write(struct file *file,</span>
 		ret = -EINVAL;
 
 out_unlock:
<span class="p_del">-	free_page(addr);</span>
<span class="p_add">+	free_page((void *)addr);</span>
 	return ret;
 }
 
<span class="p_chunk">@@ -116,7 +116,7 @@</span> <span class="p_context"> static ssize_t lbs_sleepparams_read(struct file *file, char __user *userbuf,</span>
 	ret = simple_read_from_buffer(userbuf, count, ppos, buf, pos);
 
 out_unlock:
<span class="p_del">-	free_page(addr);</span>
<span class="p_add">+	free_page((void *)addr);</span>
 	return ret;
 }
 
<span class="p_chunk">@@ -162,7 +162,7 @@</span> <span class="p_context"> static ssize_t lbs_host_sleep_write(struct file *file,</span>
 		ret = count;
 
 out_unlock:
<span class="p_del">-	free_page(addr);</span>
<span class="p_add">+	free_page((void *)addr);</span>
 	return ret;
 }
 
<span class="p_chunk">@@ -181,7 +181,7 @@</span> <span class="p_context"> static ssize_t lbs_host_sleep_read(struct file *file, char __user *userbuf,</span>
 
 	ret = simple_read_from_buffer(userbuf, count, ppos, buf, pos);
 
<span class="p_del">-	free_page(addr);</span>
<span class="p_add">+	free_page((void *)addr);</span>
 	return ret;
 }
 
<span class="p_chunk">@@ -268,7 +268,7 @@</span> <span class="p_context"> static ssize_t lbs_threshold_read(uint16_t tlv_type, uint16_t event_mask,</span>
 	kfree(subscribed);
 
  out_page:
<span class="p_del">-	free_page((unsigned long)buf);</span>
<span class="p_add">+	free_page(buf);</span>
 	return ret;
 }
 
<span class="p_chunk">@@ -343,7 +343,7 @@</span> <span class="p_context"> static ssize_t lbs_threshold_write(uint16_t tlv_type, uint16_t event_mask,</span>
  out_events:
 	kfree(events);
  out_page:
<span class="p_del">-	free_page((unsigned long)buf);</span>
<span class="p_add">+	free_page(buf);</span>
 	return ret;
 }
 
<span class="p_chunk">@@ -463,7 +463,7 @@</span> <span class="p_context"> static ssize_t lbs_rdmac_read(struct file *file, char __user *userbuf,</span>
 				priv-&gt;mac_offset, val);
 		ret = simple_read_from_buffer(userbuf, count, ppos, buf, pos);
 	}
<span class="p_del">-	free_page(addr);</span>
<span class="p_add">+	free_page((void *)addr);</span>
 	return ret;
 }
 
<span class="p_chunk">@@ -486,7 +486,7 @@</span> <span class="p_context"> static ssize_t lbs_rdmac_write(struct file *file,</span>
 	priv-&gt;mac_offset = simple_strtoul(buf, NULL, 16);
 	res = count;
 out_unlock:
<span class="p_del">-	free_page(addr);</span>
<span class="p_add">+	free_page((void *)addr);</span>
 	return res;
 }
 
<span class="p_chunk">@@ -520,7 +520,7 @@</span> <span class="p_context"> static ssize_t lbs_wrmac_write(struct file *file,</span>
 	if (!res)
 		res = count;
 out_unlock:
<span class="p_del">-	free_page(addr);</span>
<span class="p_add">+	free_page((void *)addr);</span>
 	return res;
 }
 
<span class="p_chunk">@@ -544,7 +544,7 @@</span> <span class="p_context"> static ssize_t lbs_rdbbp_read(struct file *file, char __user *userbuf,</span>
 				priv-&gt;bbp_offset, val);
 		ret = simple_read_from_buffer(userbuf, count, ppos, buf, pos);
 	}
<span class="p_del">-	free_page(addr);</span>
<span class="p_add">+	free_page((void *)addr);</span>
 
 	return ret;
 }
<span class="p_chunk">@@ -568,7 +568,7 @@</span> <span class="p_context"> static ssize_t lbs_rdbbp_write(struct file *file,</span>
 	priv-&gt;bbp_offset = simple_strtoul(buf, NULL, 16);
 	res = count;
 out_unlock:
<span class="p_del">-	free_page(addr);</span>
<span class="p_add">+	free_page((void *)addr);</span>
 	return res;
 }
 
<span class="p_chunk">@@ -602,7 +602,7 @@</span> <span class="p_context"> static ssize_t lbs_wrbbp_write(struct file *file,</span>
 	if (!res)
 		res = count;
 out_unlock:
<span class="p_del">-	free_page(addr);</span>
<span class="p_add">+	free_page((void *)addr);</span>
 	return res;
 }
 
<span class="p_chunk">@@ -626,7 +626,7 @@</span> <span class="p_context"> static ssize_t lbs_rdrf_read(struct file *file, char __user *userbuf,</span>
 				priv-&gt;rf_offset, val);
 		ret = simple_read_from_buffer(userbuf, count, ppos, buf, pos);
 	}
<span class="p_del">-	free_page(addr);</span>
<span class="p_add">+	free_page((void *)addr);</span>
 
 	return ret;
 }
<span class="p_chunk">@@ -650,7 +650,7 @@</span> <span class="p_context"> static ssize_t lbs_rdrf_write(struct file *file,</span>
 	priv-&gt;rf_offset = simple_strtoul(buf, NULL, 16);
 	res = count;
 out_unlock:
<span class="p_del">-	free_page(addr);</span>
<span class="p_add">+	free_page((void *)addr);</span>
 	return res;
 }
 
<span class="p_chunk">@@ -684,7 +684,7 @@</span> <span class="p_context"> static ssize_t lbs_wrrf_write(struct file *file,</span>
 	if (!res)
 		res = count;
 out_unlock:
<span class="p_del">-	free_page(addr);</span>
<span class="p_add">+	free_page((void *)addr);</span>
 	return res;
 }
 
<span class="p_chunk">@@ -887,7 +887,7 @@</span> <span class="p_context"> static ssize_t lbs_debugfs_read(struct file *file, char __user *userbuf,</span>
 
 	res = simple_read_from_buffer(userbuf, count, ppos, p, pos);
 
<span class="p_del">-	free_page(addr);</span>
<span class="p_add">+	free_page((void *)addr);</span>
 	return res;
 }
 
<span class="p_header">diff --git a/drivers/net/wireless/mwifiex/debugfs.c b/drivers/net/wireless/mwifiex/debugfs.c</span>
<span class="p_header">index 9824d8d..4ed3dba 100644</span>
<span class="p_header">--- a/drivers/net/wireless/mwifiex/debugfs.c</span>
<span class="p_header">+++ b/drivers/net/wireless/mwifiex/debugfs.c</span>
<span class="p_chunk">@@ -147,7 +147,7 @@</span> <span class="p_context"> mwifiex_info_read(struct file *file, char __user *ubuf,</span>
 				      (unsigned long) p - page);
 
 free_and_exit:
<span class="p_del">-	free_page(page);</span>
<span class="p_add">+	free_page((void *)page);</span>
 	return ret;
 }
 
<span class="p_chunk">@@ -257,7 +257,7 @@</span> <span class="p_context"> mwifiex_getlog_read(struct file *file, char __user *ubuf,</span>
 				      (unsigned long) p - page);
 
 free_and_exit:
<span class="p_del">-	free_page(page);</span>
<span class="p_add">+	free_page((void *)page);</span>
 	return ret;
 }
 
<span class="p_chunk">@@ -430,7 +430,7 @@</span> <span class="p_context"> mwifiex_debug_read(struct file *file, char __user *ubuf,</span>
 				      (unsigned long) p - page);
 
 free_and_exit:
<span class="p_del">-	free_page(page);</span>
<span class="p_add">+	free_page((void *)page);</span>
 	return ret;
 }
 
<span class="p_chunk">@@ -474,7 +474,7 @@</span> <span class="p_context"> mwifiex_regrdwr_write(struct file *file,</span>
 		ret = count;
 	}
 done:
<span class="p_del">-	free_page(addr);</span>
<span class="p_add">+	free_page((void *)addr);</span>
 	return ret;
 }
 
<span class="p_chunk">@@ -531,7 +531,7 @@</span> <span class="p_context"> mwifiex_regrdwr_read(struct file *file, char __user *ubuf,</span>
 	ret = simple_read_from_buffer(ubuf, count, ppos, buf, pos);
 
 done:
<span class="p_del">-	free_page(addr);</span>
<span class="p_add">+	free_page((void *)addr);</span>
 	return ret;
 }
 
<span class="p_chunk">@@ -557,7 +557,7 @@</span> <span class="p_context"> mwifiex_debug_mask_read(struct file *file, char __user *ubuf,</span>
 			priv-&gt;adapter-&gt;debug_mask);
 	ret = simple_read_from_buffer(ubuf, count, ppos, buf, pos);
 
<span class="p_del">-	free_page(page);</span>
<span class="p_add">+	free_page((void *)page);</span>
 	return ret;
 }
 
<span class="p_chunk">@@ -592,7 +592,7 @@</span> <span class="p_context"> mwifiex_debug_mask_write(struct file *file, const char __user *ubuf,</span>
 	priv-&gt;adapter-&gt;debug_mask = debug_mask;
 	ret = count;
 done:
<span class="p_del">-	free_page(addr);</span>
<span class="p_add">+	free_page((void *)addr);</span>
 	return ret;
 }
 
<span class="p_chunk">@@ -645,7 +645,7 @@</span> <span class="p_context"> mwifiex_memrw_write(struct file *file, const char __user *ubuf, size_t count,</span>
 		ret = count;
 
 done:
<span class="p_del">-	free_page(addr);</span>
<span class="p_add">+	free_page((void *)addr);</span>
 	return ret;
 }
 
<span class="p_chunk">@@ -669,7 +669,7 @@</span> <span class="p_context"> mwifiex_memrw_read(struct file *file, char __user *ubuf,</span>
 			priv-&gt;mem_rw.value);
 	ret = simple_read_from_buffer(ubuf, count, ppos, buf, pos);
 
<span class="p_del">-	free_page(addr);</span>
<span class="p_add">+	free_page((void *)addr);</span>
 	return ret;
 }
 
<span class="p_chunk">@@ -712,7 +712,7 @@</span> <span class="p_context"> mwifiex_rdeeprom_write(struct file *file,</span>
 		ret = count;
 	}
 done:
<span class="p_del">-	free_page(addr);</span>
<span class="p_add">+	free_page((void *)addr);</span>
 	return ret;
 }
 
<span class="p_chunk">@@ -759,7 +759,7 @@</span> <span class="p_context"> mwifiex_rdeeprom_read(struct file *file, char __user *ubuf,</span>
 done:
 	ret = simple_read_from_buffer(ubuf, count, ppos, buf, pos);
 out_free:
<span class="p_del">-	free_page(addr);</span>
<span class="p_add">+	free_page((void *)addr);</span>
 	return ret;
 }
 
<span class="p_chunk">@@ -823,7 +823,7 @@</span> <span class="p_context"> mwifiex_hscfg_write(struct file *file, const char __user *ubuf,</span>
 	priv-&gt;adapter-&gt;hs_enabling = false;
 	ret = count;
 done:
<span class="p_del">-	free_page(addr);</span>
<span class="p_add">+	free_page((void *)addr);</span>
 	return ret;
 }
 
<span class="p_chunk">@@ -852,7 +852,7 @@</span> <span class="p_context"> mwifiex_hscfg_read(struct file *file, char __user *ubuf,</span>
 
 	ret = simple_read_from_buffer(ubuf, count, ppos, buf, pos);
 
<span class="p_del">-	free_page(addr);</span>
<span class="p_add">+	free_page((void *)addr);</span>
 	return ret;
 }
 
<span class="p_header">diff --git a/drivers/net/wireless/ti/wlcore/main.c b/drivers/net/wireless/ti/wlcore/main.c</span>
<span class="p_header">index ec7f6af..25defe4 100644</span>
<span class="p_header">--- a/drivers/net/wireless/ti/wlcore/main.c</span>
<span class="p_header">+++ b/drivers/net/wireless/ti/wlcore/main.c</span>
<span class="p_chunk">@@ -6348,7 +6348,7 @@</span> <span class="p_context"> err_mbox:</span>
 	kfree(wl-&gt;mbox);
 
 err_fwlog:
<span class="p_del">-	free_page((unsigned long)wl-&gt;fwlog);</span>
<span class="p_add">+	free_page(wl-&gt;fwlog);</span>
 
 err_dummy_packet:
 	dev_kfree_skb(wl-&gt;dummy_packet);
<span class="p_chunk">@@ -6384,7 +6384,7 @@</span> <span class="p_context"> int wlcore_free_hw(struct wl1271 *wl)</span>
 
 	kfree(wl-&gt;buffer_32);
 	kfree(wl-&gt;mbox);
<span class="p_del">-	free_page((unsigned long)wl-&gt;fwlog);</span>
<span class="p_add">+	free_page(wl-&gt;fwlog);</span>
 	dev_kfree_skb(wl-&gt;dummy_packet);
 	free_pages((unsigned long)wl-&gt;aggr_buf, get_order(wl-&gt;aggr_buf_size));
 
<span class="p_header">diff --git a/drivers/net/xen-netfront.c b/drivers/net/xen-netfront.c</span>
<span class="p_header">index d6abf19..0f9b7cf 100644</span>
<span class="p_header">--- a/drivers/net/xen-netfront.c</span>
<span class="p_header">+++ b/drivers/net/xen-netfront.c</span>
<span class="p_chunk">@@ -1587,11 +1587,11 @@</span> <span class="p_context"> static int setup_netfront(struct xenbus_device *dev,</span>
 alloc_evtchn_fail:
 	gnttab_end_foreign_access_ref(queue-&gt;rx_ring_ref, 0);
 grant_rx_ring_fail:
<span class="p_del">-	free_page((unsigned long)rxs);</span>
<span class="p_add">+	free_page(rxs);</span>
 alloc_rx_ring_fail:
 	gnttab_end_foreign_access_ref(queue-&gt;tx_ring_ref, 0);
 grant_tx_ring_fail:
<span class="p_del">-	free_page((unsigned long)txs);</span>
<span class="p_add">+	free_page(txs);</span>
 fail:
 	return err;
 }
<span class="p_header">diff --git a/drivers/pci/xen-pcifront.c b/drivers/pci/xen-pcifront.c</span>
<span class="p_header">index c777b97..85f69e5 100644</span>
<span class="p_header">--- a/drivers/pci/xen-pcifront.c</span>
<span class="p_header">+++ b/drivers/pci/xen-pcifront.c</span>
<span class="p_chunk">@@ -774,7 +774,7 @@</span> <span class="p_context"> static void free_pdev(struct pcifront_device *pdev)</span>
 		gnttab_end_foreign_access(pdev-&gt;gnt_ref, 0 /* r/w page */,
 					  (unsigned long)pdev-&gt;sh_info);
 	else
<span class="p_del">-		free_page((unsigned long)pdev-&gt;sh_info);</span>
<span class="p_add">+		free_page(pdev-&gt;sh_info);</span>
 
 	dev_set_drvdata(&amp;pdev-&gt;xdev-&gt;dev, NULL);
 
<span class="p_header">diff --git a/drivers/platform/x86/dell-laptop.c b/drivers/platform/x86/dell-laptop.c</span>
<span class="p_header">index aaeeae8..996839f 100644</span>
<span class="p_header">--- a/drivers/platform/x86/dell-laptop.c</span>
<span class="p_header">+++ b/drivers/platform/x86/dell-laptop.c</span>
<span class="p_chunk">@@ -2208,7 +2208,7 @@</span> <span class="p_context"> static int __init dell_init(void)</span>
 fail_backlight:
 	dell_cleanup_rfkill();
 fail_rfkill:
<span class="p_del">-	free_page((unsigned long)buffer);</span>
<span class="p_add">+	free_page(buffer);</span>
 fail_buffer:
 	platform_device_del(platform_device);
 fail_platform_device2:
<span class="p_chunk">@@ -2233,7 +2233,7 @@</span> <span class="p_context"> static void __exit dell_exit(void)</span>
 		platform_driver_unregister(&amp;platform_driver);
 	}
 	kfree(da_tokens);
<span class="p_del">-	free_page((unsigned long)buffer);</span>
<span class="p_add">+	free_page(buffer);</span>
 }
 
 /* dell-rbtn.c driver export functions which will not work correctly (and could
<span class="p_header">diff --git a/drivers/power/power_supply_sysfs.c b/drivers/power/power_supply_sysfs.c</span>
<span class="p_header">index ed2d7fd..e0063c5 100644</span>
<span class="p_header">--- a/drivers/power/power_supply_sysfs.c</span>
<span class="p_header">+++ b/drivers/power/power_supply_sysfs.c</span>
<span class="p_chunk">@@ -330,7 +330,7 @@</span> <span class="p_context"> int power_supply_uevent(struct device *dev, struct kobj_uevent_env *env)</span>
 	}
 
 out:
<span class="p_del">-	free_page((unsigned long)prop_buf);</span>
<span class="p_add">+	free_page(prop_buf);</span>
 
 	return ret;
 }
<span class="p_header">diff --git a/drivers/s390/block/dasd.c b/drivers/s390/block/dasd.c</span>
<span class="p_header">index a263c10..5257c80 100644</span>
<span class="p_header">--- a/drivers/s390/block/dasd.c</span>
<span class="p_header">+++ b/drivers/s390/block/dasd.c</span>
<span class="p_chunk">@@ -136,8 +136,8 @@</span> <span class="p_context"> struct dasd_device *dasd_alloc_device(void)</span>
 void dasd_free_device(struct dasd_device *device)
 {
 	kfree(device-&gt;private);
<span class="p_del">-	free_page((unsigned long) device-&gt;erp_mem);</span>
<span class="p_del">-	free_pages((unsigned long) device-&gt;ccw_mem, 1);</span>
<span class="p_add">+	free_page(device-&gt;erp_mem);</span>
<span class="p_add">+	free_pages((unsigned long)device-&gt;ccw_mem, 1);</span>
 	kfree(device);
 }
 
<span class="p_header">diff --git a/drivers/s390/block/dasd_diag.c b/drivers/s390/block/dasd_diag.c</span>
<span class="p_header">index cb61f30..f5746ad 100644</span>
<span class="p_header">--- a/drivers/s390/block/dasd_diag.c</span>
<span class="p_header">+++ b/drivers/s390/block/dasd_diag.c</span>
<span class="p_chunk">@@ -460,7 +460,7 @@</span> <span class="p_context"> dasd_diag_check_device(struct dasd_device *device)</span>
 		rc = 0;
 	}
 out_label:
<span class="p_del">-	free_page((long) label);</span>
<span class="p_add">+	free_page(label);</span>
 out:
 	if (rc) {
 		device-&gt;block = NULL;
<span class="p_header">diff --git a/drivers/s390/block/dasd_eckd.c b/drivers/s390/block/dasd_eckd.c</span>
<span class="p_header">index 9083247..c2d120a 100644</span>
<span class="p_header">--- a/drivers/s390/block/dasd_eckd.c</span>
<span class="p_header">+++ b/drivers/s390/block/dasd_eckd.c</span>
<span class="p_chunk">@@ -4270,7 +4270,7 @@</span> <span class="p_context"> static void dasd_eckd_dump_sense_ccw(struct dasd_device *device,</span>
 		if (len &gt; 0)
 			printk(KERN_ERR &quot;%s&quot;, page);
 	}
<span class="p_del">-	free_page((unsigned long) page);</span>
<span class="p_add">+	free_page(page);</span>
 }
 
 
<span class="p_chunk">@@ -4403,7 +4403,7 @@</span> <span class="p_context"> static void dasd_eckd_dump_sense_tcw(struct dasd_device *device,</span>
 			&quot; SORRY - NO TSB DATA AVAILABLE\n&quot;);
 	}
 	printk(KERN_ERR &quot;%s&quot;, page);
<span class="p_del">-	free_page((unsigned long) page);</span>
<span class="p_add">+	free_page(page);</span>
 }
 
 static void dasd_eckd_dump_sense(struct dasd_device *device,
<span class="p_chunk">@@ -5130,7 +5130,7 @@</span> <span class="p_context"> dasd_eckd_init(void)</span>
 	else {
 		kfree(path_verification_worker);
 		kfree(dasd_reserve_req);
<span class="p_del">-		free_page((unsigned long)rawpadpage);</span>
<span class="p_add">+		free_page(rawpadpage);</span>
 	}
 	return ret;
 }
<span class="p_chunk">@@ -5141,7 +5141,7 @@</span> <span class="p_context"> dasd_eckd_cleanup(void)</span>
 	ccw_driver_unregister(&amp;dasd_eckd_driver);
 	kfree(path_verification_worker);
 	kfree(dasd_reserve_req);
<span class="p_del">-	free_page((unsigned long)rawpadpage);</span>
<span class="p_add">+	free_page(rawpadpage);</span>
 }
 
 module_init(dasd_eckd_init);
<span class="p_header">diff --git a/drivers/s390/block/dasd_eer.c b/drivers/s390/block/dasd_eer.c</span>
<span class="p_header">index 21ef63c..6cab911 100644</span>
<span class="p_header">--- a/drivers/s390/block/dasd_eer.c</span>
<span class="p_header">+++ b/drivers/s390/block/dasd_eer.c</span>
<span class="p_chunk">@@ -216,7 +216,7 @@</span> <span class="p_context"> static void dasd_eer_free_buffer_pages(char **buf, int no_pages)</span>
 	int i;
 
 	for (i = 0; i &lt; no_pages; i++)
<span class="p_del">-		free_page((unsigned long) buf[i]);</span>
<span class="p_add">+		free_page(buf[i]);</span>
 }
 
 /*
<span class="p_header">diff --git a/drivers/s390/block/dasd_fba.c b/drivers/s390/block/dasd_fba.c</span>
<span class="p_header">index c9262e7..0b69bad 100644</span>
<span class="p_header">--- a/drivers/s390/block/dasd_fba.c</span>
<span class="p_header">+++ b/drivers/s390/block/dasd_fba.c</span>
<span class="p_chunk">@@ -571,7 +571,7 @@</span> <span class="p_context"> dasd_fba_dump_sense(struct dasd_device *device, struct dasd_ccw_req * req,</span>
 	}
 	if (len &gt; 0)
 		printk(KERN_ERR &quot;%s&quot;, page);
<span class="p_del">-	free_page((unsigned long) page);</span>
<span class="p_add">+	free_page(page);</span>
 }
 
 /*
<span class="p_header">diff --git a/drivers/s390/block/scm_blk.c b/drivers/s390/block/scm_blk.c</span>
<span class="p_header">index 75d9896..146a3ae 100644</span>
<span class="p_header">--- a/drivers/s390/block/scm_blk.c</span>
<span class="p_header">+++ b/drivers/s390/block/scm_blk.c</span>
<span class="p_chunk">@@ -41,7 +41,7 @@</span> <span class="p_context"> static void __scm_free_rq(struct scm_request *scmrq)</span>
 {
 	struct aob_rq_header *aobrq = to_aobrq(scmrq);
 
<span class="p_del">-	free_page((unsigned long) scmrq-&gt;aob);</span>
<span class="p_add">+	free_page(scmrq-&gt;aob);</span>
 	__scm_free_rq_cluster(scmrq);
 	kfree(scmrq-&gt;request);
 	kfree(aobrq);
<span class="p_header">diff --git a/drivers/s390/block/scm_blk_cluster.c b/drivers/s390/block/scm_blk_cluster.c</span>
<span class="p_header">index 7497ddd..65952f7 100644</span>
<span class="p_header">--- a/drivers/s390/block/scm_blk_cluster.c</span>
<span class="p_header">+++ b/drivers/s390/block/scm_blk_cluster.c</span>
<span class="p_chunk">@@ -29,7 +29,7 @@</span> <span class="p_context"> void __scm_free_rq_cluster(struct scm_request *scmrq)</span>
 		return;
 
 	for (i = 0; i &lt; 2 * write_cluster_size; i++)
<span class="p_del">-		free_page((unsigned long) scmrq-&gt;cluster.buf[i]);</span>
<span class="p_add">+		free_page(scmrq-&gt;cluster.buf[i]);</span>
 
 	kfree(scmrq-&gt;cluster.buf);
 }
<span class="p_header">diff --git a/drivers/s390/block/xpram.c b/drivers/s390/block/xpram.c</span>
<span class="p_header">index 288f59a..542c6d0 100644</span>
<span class="p_header">--- a/drivers/s390/block/xpram.c</span>
<span class="p_header">+++ b/drivers/s390/block/xpram.c</span>
<span class="p_chunk">@@ -149,7 +149,7 @@</span> <span class="p_context"> static int xpram_present(void)</span>
 	if (!mem_page)
 		return -ENOMEM;
 	rc = xpram_page_in(mem_page, 0);
<span class="p_del">-	free_page(mem_page);</span>
<span class="p_add">+	free_page((void *)mem_page);</span>
 	return rc ? -ENXIO : 0;
 }
 
<span class="p_chunk">@@ -173,7 +173,7 @@</span> <span class="p_context"> static unsigned long xpram_highest_page_index(void)</span>
 		add_bit &gt;&gt;= 1;
 	}
 
<span class="p_del">-	free_page (mem_page);</span>
<span class="p_add">+	free_page((void *)mem_page);</span>
 
 	return page_index;
 }
<span class="p_header">diff --git a/drivers/s390/char/diag_ftp.c b/drivers/s390/char/diag_ftp.c</span>
<span class="p_header">index a5ccbf6..d110a32 100644</span>
<span class="p_header">--- a/drivers/s390/char/diag_ftp.c</span>
<span class="p_header">+++ b/drivers/s390/char/diag_ftp.c</span>
<span class="p_chunk">@@ -207,7 +207,7 @@</span> <span class="p_context"> ssize_t diag_ftp_cmd(const struct hmcdrv_ftp_cmdspec *ftp, size_t *fsize)</span>
 	}
 
 out_free:
<span class="p_del">-	free_page((unsigned long) ldfpl);</span>
<span class="p_add">+	free_page(ldfpl);</span>
 out:
 	return len;
 }
<span class="p_header">diff --git a/drivers/s390/char/hmcdrv_ftp.c b/drivers/s390/char/hmcdrv_ftp.c</span>
<span class="p_header">index d4b61d9..d8a07bb 100644</span>
<span class="p_header">--- a/drivers/s390/char/hmcdrv_ftp.c</span>
<span class="p_header">+++ b/drivers/s390/char/hmcdrv_ftp.c</span>
<span class="p_chunk">@@ -216,7 +216,7 @@</span> <span class="p_context"> int hmcdrv_ftp_probe(void)</span>
 		break;
 	} /* switch */
 out:
<span class="p_del">-	free_page((unsigned long) ftp.buf);</span>
<span class="p_add">+	free_page(ftp.buf);</span>
 	return rc;
 }
 EXPORT_SYMBOL(hmcdrv_ftp_probe);
<span class="p_header">diff --git a/drivers/s390/char/sclp_async.c b/drivers/s390/char/sclp_async.c</span>
<span class="p_header">index 19c2542..bc029d6 100644</span>
<span class="p_header">--- a/drivers/s390/char/sclp_async.c</span>
<span class="p_header">+++ b/drivers/s390/char/sclp_async.c</span>
<span class="p_chunk">@@ -186,7 +186,7 @@</span> <span class="p_context"> static int __init sclp_async_init(void)</span>
 		goto out;
 out_mem:
 	kfree(request);
<span class="p_del">-	free_page((unsigned long) sccb);</span>
<span class="p_add">+	free_page(sccb);</span>
 	unregister_sysctl_table(callhome_sysctl_header);
 out_sclp:
 	sclp_unregister(&amp;sclp_async_register);
<span class="p_chunk">@@ -201,7 +201,7 @@</span> <span class="p_context"> static void __exit sclp_async_exit(void)</span>
 					 &amp;call_home_panic_nb);
 	unregister_sysctl_table(callhome_sysctl_header);
 	sclp_unregister(&amp;sclp_async_register);
<span class="p_del">-	free_page((unsigned long) sccb);</span>
<span class="p_add">+	free_page(sccb);</span>
 	kfree(request);
 }
 module_exit(sclp_async_exit);
<span class="p_header">diff --git a/drivers/s390/char/sclp_cmd.c b/drivers/s390/char/sclp_cmd.c</span>
<span class="p_header">index 806239c..09b6c07 100644</span>
<span class="p_header">--- a/drivers/s390/char/sclp_cmd.c</span>
<span class="p_header">+++ b/drivers/s390/char/sclp_cmd.c</span>
<span class="p_chunk">@@ -129,7 +129,7 @@</span> <span class="p_context"> int sclp_get_core_info(struct sclp_core_info *info)</span>
 	}
 	sclp_fill_core_info(info, sccb);
 out:
<span class="p_del">-	free_page((unsigned long) sccb);</span>
<span class="p_add">+	free_page(sccb);</span>
 	return rc;
 }
 
<span class="p_chunk">@@ -237,7 +237,7 @@</span> <span class="p_context"> static int do_assign_storage(sclp_cmdw_t cmd, u16 rn)</span>
 		break;
 	}
 out:
<span class="p_del">-	free_page((unsigned long) sccb);</span>
<span class="p_add">+	free_page(sccb);</span>
 	return rc;
 }
 
<span class="p_chunk">@@ -294,7 +294,7 @@</span> <span class="p_context"> static int sclp_attach_storage(u8 id)</span>
 		break;
 	}
 out:
<span class="p_del">-	free_page((unsigned long) sccb);</span>
<span class="p_add">+	free_page(sccb);</span>
 	return rc;
 }
 
<span class="p_chunk">@@ -570,7 +570,7 @@</span> <span class="p_context"> static int __init sclp_detect_standby_memory(void)</span>
 out_driver:
 	platform_driver_unregister(&amp;sclp_mem_pdrv);
 out:
<span class="p_del">-	free_page((unsigned long) sccb);</span>
<span class="p_add">+	free_page(sccb);</span>
 	return rc;
 }
 __initcall(sclp_detect_standby_memory);
<span class="p_chunk">@@ -622,7 +622,7 @@</span> <span class="p_context"> static int do_pci_configure(sclp_cmdw_t cmd, u32 fid)</span>
 		break;
 	}
 out:
<span class="p_del">-	free_page((unsigned long) sccb);</span>
<span class="p_add">+	free_page(sccb);</span>
 	return rc;
 }
 
<span class="p_chunk">@@ -682,7 +682,7 @@</span> <span class="p_context"> static int do_chp_configure(sclp_cmdw_t cmd)</span>
 		break;
 	}
 out:
<span class="p_del">-	free_page((unsigned long) sccb);</span>
<span class="p_add">+	free_page(sccb);</span>
 	return rc;
 }
 
<span class="p_chunk">@@ -753,6 +753,6 @@</span> <span class="p_context"> int sclp_chp_read_info(struct sclp_chp_info *info)</span>
 	memcpy(info-&gt;standby, sccb-&gt;standby, SCLP_CHP_INFO_MASK_SIZE);
 	memcpy(info-&gt;configured, sccb-&gt;configured, SCLP_CHP_INFO_MASK_SIZE);
 out:
<span class="p_del">-	free_page((unsigned long) sccb);</span>
<span class="p_add">+	free_page(sccb);</span>
 	return rc;
 }
<span class="p_header">diff --git a/drivers/s390/char/sclp_cpi_sys.c b/drivers/s390/char/sclp_cpi_sys.c</span>
<span class="p_header">index 2acea80..9895146 100644</span>
<span class="p_header">--- a/drivers/s390/char/sclp_cpi_sys.c</span>
<span class="p_header">+++ b/drivers/s390/char/sclp_cpi_sys.c</span>
<span class="p_chunk">@@ -118,7 +118,7 @@</span> <span class="p_context"> static struct sclp_req *cpi_prepare_req(void)</span>
 
 static void cpi_free_req(struct sclp_req *req)
 {
<span class="p_del">-	free_page((unsigned long) req-&gt;sccb);</span>
<span class="p_add">+	free_page(req-&gt;sccb);</span>
 	kfree(req);
 }
 
<span class="p_header">diff --git a/drivers/s390/char/sclp_ctl.c b/drivers/s390/char/sclp_ctl.c</span>
<span class="p_header">index 648cb86..8b90112 100644</span>
<span class="p_header">--- a/drivers/s390/char/sclp_ctl.c</span>
<span class="p_header">+++ b/drivers/s390/char/sclp_ctl.c</span>
<span class="p_chunk">@@ -81,7 +81,7 @@</span> <span class="p_context"> static int sclp_ctl_ioctl_sccb(void __user *user_area)</span>
 	if (copy_to_user(u64_to_uptr(ctl_sccb.sccb), sccb, sccb-&gt;length))
 		rc = -EFAULT;
 out_free:
<span class="p_del">-	free_page((unsigned long) sccb);</span>
<span class="p_add">+	free_page(sccb);</span>
 	return rc;
 }
 
<span class="p_header">diff --git a/drivers/s390/char/sclp_ftp.c b/drivers/s390/char/sclp_ftp.c</span>
<span class="p_header">index 6561cc5..66bf759 100644</span>
<span class="p_header">--- a/drivers/s390/char/sclp_ftp.c</span>
<span class="p_header">+++ b/drivers/s390/char/sclp_ftp.c</span>
<span class="p_chunk">@@ -152,7 +152,7 @@</span> <span class="p_context"> static int sclp_ftp_et7(const struct hmcdrv_ftp_cmdspec *ftp)</span>
 	}
 
 out_free:
<span class="p_del">-	free_page((unsigned long) sccb);</span>
<span class="p_add">+	free_page(sccb);</span>
 	kfree(req);
 	return rc;
 }
<span class="p_chunk">@@ -260,7 +260,7 @@</span> <span class="p_context"> int sclp_ftp_startup(void)</span>
 				 info222-&gt;lpar_number, info222-&gt;name);
 		}
 
<span class="p_del">-		free_page(info);</span>
<span class="p_add">+		free_page((void *)info);</span>
 	}
 #endif	/* DEBUG */
 	return 0;
<span class="p_header">diff --git a/drivers/s390/char/sclp_vt220.c b/drivers/s390/char/sclp_vt220.c</span>
<span class="p_header">index 68d6ee7..373d280 100644</span>
<span class="p_header">--- a/drivers/s390/char/sclp_vt220.c</span>
<span class="p_header">+++ b/drivers/s390/char/sclp_vt220.c</span>
<span class="p_chunk">@@ -668,7 +668,7 @@</span> <span class="p_context"> static void __init __sclp_vt220_free_pages(void)</span>
 
 	list_for_each_safe(page, p, &amp;sclp_vt220_empty) {
 		list_del(page);
<span class="p_del">-		free_page((unsigned long) page);</span>
<span class="p_add">+		free_page(page);</span>
 	}
 }
 
<span class="p_header">diff --git a/drivers/s390/char/vmlogrdr.c b/drivers/s390/char/vmlogrdr.c</span>
<span class="p_header">index 799c152..a42ef55 100644</span>
<span class="p_header">--- a/drivers/s390/char/vmlogrdr.c</span>
<span class="p_header">+++ b/drivers/s390/char/vmlogrdr.c</span>
<span class="p_chunk">@@ -839,7 +839,7 @@</span> <span class="p_context"> static void vmlogrdr_cleanup(void)</span>
 	}
 	for (i=0; i &lt; MAXMINOR; ++i ) {
 		vmlogrdr_unregister_device(&amp;sys_ser[i]);
<span class="p_del">-		free_page((unsigned long)sys_ser[i].buffer);</span>
<span class="p_add">+		free_page(sys_ser[i].buffer);</span>
 	}
 	vmlogrdr_unregister_driver();
 	if (vmlogrdr_major) {
<span class="p_header">diff --git a/drivers/s390/char/vmur.c b/drivers/s390/char/vmur.c</span>
<span class="p_header">index 0efb27f..3974f34 100644</span>
<span class="p_header">--- a/drivers/s390/char/vmur.c</span>
<span class="p_header">+++ b/drivers/s390/char/vmur.c</span>
<span class="p_chunk">@@ -551,7 +551,7 @@</span> <span class="p_context"> static ssize_t diag14_read(struct file *file, char __user *ubuf, size_t count,</span>
 	*offs += copied;
 	rc = copied;
 fail:
<span class="p_del">-	free_page((unsigned long) buf);</span>
<span class="p_add">+	free_page(buf);</span>
 	return rc;
 }
 
<span class="p_chunk">@@ -636,7 +636,7 @@</span> <span class="p_context"> static int verify_uri_device(struct urdev *urd)</span>
 	rc = 0;
 
 fail_free_buf:
<span class="p_del">-	free_page((unsigned long) buf);</span>
<span class="p_add">+	free_page(buf);</span>
 fail_free_fcb:
 	kfree(fcb);
 	return rc;
<span class="p_header">diff --git a/drivers/s390/char/zcore.c b/drivers/s390/char/zcore.c</span>
<span class="p_header">index 823f41f..4a6f730 100644</span>
<span class="p_header">--- a/drivers/s390/char/zcore.c</span>
<span class="p_header">+++ b/drivers/s390/char/zcore.c</span>
<span class="p_chunk">@@ -626,7 +626,7 @@</span> <span class="p_context"> static int __init zcore_reipl_init(void)</span>
 	if (rc || csum_partial(ipl_block, ipl_block-&gt;hdr.len, 0) !=
 	    ipib_info.checksum) {
 		TRACE(&quot;Checksum does not match\n&quot;);
<span class="p_del">-		free_page((unsigned long) ipl_block);</span>
<span class="p_add">+		free_page(ipl_block);</span>
 		ipl_block = NULL;
 	}
 	return 0;
<span class="p_chunk">@@ -733,7 +733,7 @@</span> <span class="p_context"> static void __exit zcore_exit(void)</span>
 {
 	debug_unregister(zcore_dbf);
 	sclp_sdias_exit();
<span class="p_del">-	free_page((unsigned long) ipl_block);</span>
<span class="p_add">+	free_page(ipl_block);</span>
 	debugfs_remove(zcore_hsa_file);
 	debugfs_remove(zcore_reipl_file);
 	debugfs_remove(zcore_memmap_file);
<span class="p_header">diff --git a/drivers/s390/cio/chsc.c b/drivers/s390/cio/chsc.c</span>
<span class="p_header">index a831d18..e7640e4 100644</span>
<span class="p_header">--- a/drivers/s390/cio/chsc.c</span>
<span class="p_header">+++ b/drivers/s390/cio/chsc.c</span>
<span class="p_chunk">@@ -864,8 +864,8 @@</span> <span class="p_context"> chsc_secm(struct channel_subsystem *css, int enable)</span>
 		css-&gt;cub_addr1 = (void *)get_zeroed_page(GFP_KERNEL | GFP_DMA);
 		css-&gt;cub_addr2 = (void *)get_zeroed_page(GFP_KERNEL | GFP_DMA);
 		if (!css-&gt;cub_addr1 || !css-&gt;cub_addr2) {
<span class="p_del">-			free_page((unsigned long)css-&gt;cub_addr1);</span>
<span class="p_del">-			free_page((unsigned long)css-&gt;cub_addr2);</span>
<span class="p_add">+			free_page(css-&gt;cub_addr1);</span>
<span class="p_add">+			free_page(css-&gt;cub_addr2);</span>
 			return -ENOMEM;
 		}
 	}
<span class="p_chunk">@@ -882,8 +882,8 @@</span> <span class="p_context"> chsc_secm(struct channel_subsystem *css, int enable)</span>
 			chsc_remove_cmg_attr(css);
 	}
 	if (!css-&gt;cm_enabled) {
<span class="p_del">-		free_page((unsigned long)css-&gt;cub_addr1);</span>
<span class="p_del">-		free_page((unsigned long)css-&gt;cub_addr2);</span>
<span class="p_add">+		free_page(css-&gt;cub_addr1);</span>
<span class="p_add">+		free_page(css-&gt;cub_addr2);</span>
 	}
 	return ret;
 }
<span class="p_chunk">@@ -1068,16 +1068,16 @@</span> <span class="p_context"> int __init chsc_init(void)</span>
 		goto out_err;
 	return ret;
 out_err:
<span class="p_del">-	free_page((unsigned long)chsc_page);</span>
<span class="p_del">-	free_page((unsigned long)sei_page);</span>
<span class="p_add">+	free_page(chsc_page);</span>
<span class="p_add">+	free_page(sei_page);</span>
 	return ret;
 }
 
 void __init chsc_init_cleanup(void)
 {
 	crw_unregister_handler(CRW_RSC_CSS);
<span class="p_del">-	free_page((unsigned long)chsc_page);</span>
<span class="p_del">-	free_page((unsigned long)sei_page);</span>
<span class="p_add">+	free_page(chsc_page);</span>
<span class="p_add">+	free_page(sei_page);</span>
 }
 
 int __chsc_enable_facility(struct chsc_sda_area *sda_area, int operation_code)
<span class="p_header">diff --git a/drivers/s390/cio/chsc_sch.c b/drivers/s390/cio/chsc_sch.c</span>
<span class="p_header">index 213159d..41ee3da 100644</span>
<span class="p_header">--- a/drivers/s390/cio/chsc_sch.c</span>
<span class="p_header">+++ b/drivers/s390/cio/chsc_sch.c</span>
<span class="p_chunk">@@ -361,7 +361,7 @@</span> <span class="p_context"> out_free:</span>
 	snprintf(dbf, sizeof(dbf), &quot;ret:%d&quot;, ret);
 	CHSC_LOG(0, dbf);
 	kfree(request);
<span class="p_del">-	free_page((unsigned long)chsc_area);</span>
<span class="p_add">+	free_page(chsc_area);</span>
 	return ret;
 }
 
<span class="p_chunk">@@ -393,7 +393,7 @@</span> <span class="p_context"> static int chsc_ioctl_on_close_set(void __user *user_area)</span>
 	goto out_unlock;
 
 out_free_chsc:
<span class="p_del">-	free_page((unsigned long)on_close_chsc_area);</span>
<span class="p_add">+	free_page(on_close_chsc_area);</span>
 	on_close_chsc_area = NULL;
 out_free_request:
 	kfree(on_close_request);
<span class="p_chunk">@@ -415,7 +415,7 @@</span> <span class="p_context"> static int chsc_ioctl_on_close_remove(void)</span>
 		ret = -ENOENT;
 		goto out_unlock;
 	}
<span class="p_del">-	free_page((unsigned long)on_close_chsc_area);</span>
<span class="p_add">+	free_page(on_close_chsc_area);</span>
 	on_close_chsc_area = NULL;
 	kfree(on_close_request);
 	on_close_request = NULL;
<span class="p_chunk">@@ -454,7 +454,7 @@</span> <span class="p_context"> static int chsc_ioctl_start_sync(void __user *user_area)</span>
 	else
 		ret = 0;
 out_free:
<span class="p_del">-	free_page((unsigned long)chsc_area);</span>
<span class="p_add">+	free_page(chsc_area);</span>
 	return ret;
 }
 
<span class="p_chunk">@@ -516,7 +516,7 @@</span> <span class="p_context"> static int chsc_ioctl_info_channel_path(void __user *user_cd)</span>
 		ret = 0;
 out_free:
 	kfree(cd);
<span class="p_del">-	free_page((unsigned long)scpcd_area);</span>
<span class="p_add">+	free_page(scpcd_area);</span>
 	return ret;
 }
 
<span class="p_chunk">@@ -578,7 +578,7 @@</span> <span class="p_context"> static int chsc_ioctl_info_cu(void __user *user_cd)</span>
 		ret = 0;
 out_free:
 	kfree(cd);
<span class="p_del">-	free_page((unsigned long)scucd_area);</span>
<span class="p_add">+	free_page(scucd_area);</span>
 	return ret;
 }
 
<span class="p_chunk">@@ -642,7 +642,7 @@</span> <span class="p_context"> static int chsc_ioctl_info_sch_cu(void __user *user_cud)</span>
 		ret = 0;
 out_free:
 	kfree(cud);
<span class="p_del">-	free_page((unsigned long)sscud_area);</span>
<span class="p_add">+	free_page(sscud_area);</span>
 	return ret;
 }
 
<span class="p_chunk">@@ -702,7 +702,7 @@</span> <span class="p_context"> static int chsc_ioctl_conf_info(void __user *user_ci)</span>
 		ret = 0;
 out_free:
 	kfree(ci);
<span class="p_del">-	free_page((unsigned long)sci_area);</span>
<span class="p_add">+	free_page(sci_area);</span>
 	return ret;
 }
 
<span class="p_chunk">@@ -785,7 +785,7 @@</span> <span class="p_context"> static int chsc_ioctl_conf_comp_list(void __user *user_ccl)</span>
 		ret = 0;
 out_free:
 	kfree(ccl);
<span class="p_del">-	free_page((unsigned long)sccl_area);</span>
<span class="p_add">+	free_page(sccl_area);</span>
 	return ret;
 }
 
<span class="p_chunk">@@ -815,7 +815,7 @@</span> <span class="p_context"> static int chsc_ioctl_chpd(void __user *user_chpd)</span>
 		ret = -EFAULT;
 out_free:
 	kfree(chpd);
<span class="p_del">-	free_page((unsigned long)scpd_area);</span>
<span class="p_add">+	free_page(scpd_area);</span>
 	return ret;
 }
 
<span class="p_chunk">@@ -874,7 +874,7 @@</span> <span class="p_context"> static int chsc_ioctl_dcal(void __user *user_dcal)</span>
 		ret = 0;
 out_free:
 	kfree(dcal);
<span class="p_del">-	free_page((unsigned long)sdcal_area);</span>
<span class="p_add">+	free_page(sdcal_area);</span>
 	return ret;
 }
 
<span class="p_chunk">@@ -947,7 +947,7 @@</span> <span class="p_context"> static int chsc_release(struct inode *inode, struct file *filp)</span>
 	}
 	snprintf(dbf, sizeof(dbf), &quot;relret:%d&quot;, ret);
 	CHSC_LOG(0, dbf);
<span class="p_del">-	free_page((unsigned long)on_close_chsc_area);</span>
<span class="p_add">+	free_page(on_close_chsc_area);</span>
 	on_close_chsc_area = NULL;
 	kfree(on_close_request);
 	on_close_request = NULL;
<span class="p_header">diff --git a/drivers/s390/cio/qdio_main.c b/drivers/s390/cio/qdio_main.c</span>
<span class="p_header">index 4bb5262..86c4599 100644</span>
<span class="p_header">--- a/drivers/s390/cio/qdio_main.c</span>
<span class="p_header">+++ b/drivers/s390/cio/qdio_main.c</span>
<span class="p_chunk">@@ -1836,7 +1836,7 @@</span> <span class="p_context"> int qdio_pnso_brinfo(struct subchannel_id schid,</span>
 	(*response) = rr-&gt;response.code;
 
 out:
<span class="p_del">-	free_page((unsigned long)rr);</span>
<span class="p_add">+	free_page(rr);</span>
 	return rc;
 }
 EXPORT_SYMBOL_GPL(qdio_pnso_brinfo);
<span class="p_header">diff --git a/drivers/s390/cio/qdio_setup.c b/drivers/s390/cio/qdio_setup.c</span>
<span class="p_header">index 48b3866..637d1a8 100644</span>
<span class="p_header">--- a/drivers/s390/cio/qdio_setup.c</span>
<span class="p_header">+++ b/drivers/s390/cio/qdio_setup.c</span>
<span class="p_chunk">@@ -44,7 +44,7 @@</span> <span class="p_context"> void qdio_free_buffers(struct qdio_buffer **buf, unsigned int count)</span>
 	int pos;
 
 	for (pos = 0; pos &lt; count; pos += QBUFF_PER_PAGE)
<span class="p_del">-		free_page((unsigned long) buf[pos]);</span>
<span class="p_add">+		free_page(buf[pos]);</span>
 }
 EXPORT_SYMBOL_GPL(qdio_free_buffers);
 
<span class="p_chunk">@@ -326,7 +326,7 @@</span> <span class="p_context"> int qdio_setup_get_ssqd(struct qdio_irq *irq_ptr,</span>
 
 out:
 	if (!irq_ptr)
<span class="p_del">-		free_page((unsigned long)ssqd);</span>
<span class="p_add">+		free_page(ssqd);</span>
 
 	return rc;
 }
<span class="p_chunk">@@ -364,7 +364,7 @@</span> <span class="p_context"> void qdio_release_memory(struct qdio_irq *irq_ptr)</span>
 	for (i = 0; i &lt; QDIO_MAX_QUEUES_PER_IRQ; i++) {
 		q = irq_ptr-&gt;input_qs[i];
 		if (q) {
<span class="p_del">-			free_page((unsigned long) q-&gt;slib);</span>
<span class="p_add">+			free_page(q-&gt;slib);</span>
 			kmem_cache_free(qdio_q_cache, q);
 		}
 	}
<span class="p_chunk">@@ -384,13 +384,13 @@</span> <span class="p_context"> void qdio_release_memory(struct qdio_irq *irq_ptr)</span>
 
 				qdio_disable_async_operation(&amp;q-&gt;u.out);
 			}
<span class="p_del">-			free_page((unsigned long) q-&gt;slib);</span>
<span class="p_add">+			free_page(q-&gt;slib);</span>
 			kmem_cache_free(qdio_q_cache, q);
 		}
 	}
<span class="p_del">-	free_page((unsigned long) irq_ptr-&gt;qdr);</span>
<span class="p_del">-	free_page(irq_ptr-&gt;chsc_page);</span>
<span class="p_del">-	free_page((unsigned long) irq_ptr);</span>
<span class="p_add">+	free_page(irq_ptr-&gt;qdr);</span>
<span class="p_add">+	free_page((void *)irq_ptr-&gt;chsc_page);</span>
<span class="p_add">+	free_page(irq_ptr);</span>
 }
 
 static void __qdio_allocate_fill_qdr(struct qdio_irq *irq_ptr,
<span class="p_header">diff --git a/drivers/s390/cio/scm.c b/drivers/s390/cio/scm.c</span>
<span class="p_header">index 15268ed..db1812e 100644</span>
<span class="p_header">--- a/drivers/s390/cio/scm.c</span>
<span class="p_header">+++ b/drivers/s390/cio/scm.c</span>
<span class="p_chunk">@@ -247,7 +247,7 @@</span> <span class="p_context"> int scm_update_information(void)</span>
 		token = scm_info-&gt;restok;
 	} while (token);
 
<span class="p_del">-	free_page((unsigned long)scm_info);</span>
<span class="p_add">+	free_page(scm_info);</span>
 
 	return ret;
 }
<span class="p_header">diff --git a/drivers/s390/crypto/zcrypt_api.c b/drivers/s390/crypto/zcrypt_api.c</span>
<span class="p_header">index 9f8fa42..0d6b831 100644</span>
<span class="p_header">--- a/drivers/s390/crypto/zcrypt_api.c</span>
<span class="p_header">+++ b/drivers/s390/crypto/zcrypt_api.c</span>
<span class="p_chunk">@@ -1393,7 +1393,7 @@</span> <span class="p_context"> static int zcrypt_rng_device_add(void)</span>
 	return 0;
 
 out_free:
<span class="p_del">-	free_page((unsigned long) zcrypt_rng_buffer);</span>
<span class="p_add">+	free_page(zcrypt_rng_buffer);</span>
 out:
 	mutex_unlock(&amp;zcrypt_rng_mutex);
 	return rc;
<span class="p_chunk">@@ -1405,7 +1405,7 @@</span> <span class="p_context"> static void zcrypt_rng_device_remove(void)</span>
 	zcrypt_rng_device_count--;
 	if (zcrypt_rng_device_count == 0) {
 		hwrng_unregister(&amp;zcrypt_rng_dev);
<span class="p_del">-		free_page((unsigned long) zcrypt_rng_buffer);</span>
<span class="p_add">+		free_page(zcrypt_rng_buffer);</span>
 	}
 	mutex_unlock(&amp;zcrypt_rng_mutex);
 }
<span class="p_header">diff --git a/drivers/s390/crypto/zcrypt_msgtype6.c b/drivers/s390/crypto/zcrypt_msgtype6.c</span>
<span class="p_header">index 9a2dd47..6c6a435 100644</span>
<span class="p_header">--- a/drivers/s390/crypto/zcrypt_msgtype6.c</span>
<span class="p_header">+++ b/drivers/s390/crypto/zcrypt_msgtype6.c</span>
<span class="p_chunk">@@ -941,7 +941,7 @@</span> <span class="p_context"> static long zcrypt_msgtype6_modexpo(struct zcrypt_device *zdev,</span>
 		/* Signal pending. */
 		ap_cancel_message(zdev-&gt;ap_dev, &amp;ap_msg);
 out_free:
<span class="p_del">-	free_page((unsigned long) ap_msg.message);</span>
<span class="p_add">+	free_page(ap_msg.message);</span>
 	return rc;
 }
 
<span class="p_chunk">@@ -985,7 +985,7 @@</span> <span class="p_context"> static long zcrypt_msgtype6_modexpo_crt(struct zcrypt_device *zdev,</span>
 		/* Signal pending. */
 		ap_cancel_message(zdev-&gt;ap_dev, &amp;ap_msg);
 out_free:
<span class="p_del">-	free_page((unsigned long) ap_msg.message);</span>
<span class="p_add">+	free_page(ap_msg.message);</span>
 	return rc;
 }
 
<span class="p_header">diff --git a/drivers/s390/crypto/zcrypt_pcixcc.c b/drivers/s390/crypto/zcrypt_pcixcc.c</span>
<span class="p_header">index f418527..83e407f 100644</span>
<span class="p_header">--- a/drivers/s390/crypto/zcrypt_pcixcc.c</span>
<span class="p_header">+++ b/drivers/s390/crypto/zcrypt_pcixcc.c</span>
<span class="p_chunk">@@ -200,7 +200,7 @@</span> <span class="p_context"> static int zcrypt_pcixcc_mcl(struct ap_device *ap_dev)</span>
 	else
 		rc = ZCRYPT_PCIXCC_MCL3;
 out_free:
<span class="p_del">-	free_page((unsigned long) reply);</span>
<span class="p_add">+	free_page(reply);</span>
 	return rc;
 }
 
<span class="p_chunk">@@ -253,7 +253,7 @@</span> <span class="p_context"> static int zcrypt_pcixcc_rng_supported(struct ap_device *ap_dev)</span>
 	else
 		rc = 0;
 out_free:
<span class="p_del">-	free_page((unsigned long) ap_msg.message);</span>
<span class="p_add">+	free_page(ap_msg.message);</span>
 	return rc;
 }
 
<span class="p_header">diff --git a/drivers/s390/net/qeth_core_main.c b/drivers/s390/net/qeth_core_main.c</span>
<span class="p_header">index 31ac53f..c753f8f 100644</span>
<span class="p_header">--- a/drivers/s390/net/qeth_core_main.c</span>
<span class="p_header">+++ b/drivers/s390/net/qeth_core_main.c</span>
<span class="p_chunk">@@ -268,8 +268,7 @@</span> <span class="p_context"> static int qeth_alloc_buffer_pool(struct qeth_card *card)</span>
 			ptr = (void *) __get_free_page(GFP_KERNEL);
 			if (!ptr) {
 				while (j &gt; 0)
<span class="p_del">-					free_page((unsigned long)</span>
<span class="p_del">-						  pool_entry-&gt;elements[--j]);</span>
<span class="p_add">+					free_page(pool_entry-&gt;elements[--j]);</span>
 				kfree(pool_entry);
 				qeth_free_buffer_pool(card);
 				return -ENOMEM;
<span class="p_chunk">@@ -1311,7 +1310,7 @@</span> <span class="p_context"> static void qeth_free_buffer_pool(struct qeth_card *card)</span>
 	list_for_each_entry_safe(pool_entry, tmp,
 				 &amp;card-&gt;qdio.init_pool.entry_list, init_list){
 		for (i = 0; i &lt; QETH_MAX_BUFFER_ELEMENTS(card); ++i)
<span class="p_del">-			free_page((unsigned long)pool_entry-&gt;elements[i]);</span>
<span class="p_add">+			free_page(pool_entry-&gt;elements[i]);</span>
 		list_del(&amp;pool_entry-&gt;init_list);
 		kfree(pool_entry);
 	}
<span class="p_chunk">@@ -2763,7 +2762,7 @@</span> <span class="p_context"> static inline struct qeth_buffer_pool_entry *qeth_find_free_buffer_pool_entry(</span>
 			if (!page) {
 				return NULL;
 			} else {
<span class="p_del">-				free_page((unsigned long)entry-&gt;elements[i]);</span>
<span class="p_add">+				free_page(entry-&gt;elements[i]);</span>
 				entry-&gt;elements[i] = page_address(page);
 				if (card-&gt;options.performance_stats)
 					card-&gt;perf_stats.sg_alloc_page_rx++;
<span class="p_chunk">@@ -3180,7 +3179,7 @@</span> <span class="p_context"> static void qeth_get_trap_id(struct qeth_card *card, struct qeth_trap_id *tid)</span>
 		EBCASC(info322-&gt;vm[0].name, sizeof(info322-&gt;vm[0].name));
 		memcpy(tid-&gt;vmname, info322-&gt;vm[0].name, sizeof(tid-&gt;vmname));
 	}
<span class="p_del">-	free_page(info);</span>
<span class="p_add">+	free_page((void *)info);</span>
 	return;
 }
 
<span class="p_header">diff --git a/drivers/s390/scsi/zfcp_aux.c b/drivers/s390/scsi/zfcp_aux.c</span>
<span class="p_header">index c00ac46..a3671dba 100644</span>
<span class="p_header">--- a/drivers/s390/scsi/zfcp_aux.c</span>
<span class="p_header">+++ b/drivers/s390/scsi/zfcp_aux.c</span>
<span class="p_chunk">@@ -550,7 +550,7 @@</span> <span class="p_context"> void zfcp_sg_free_table(struct scatterlist *sg, int count)</span>
 
 	for (i = 0; i &lt; count; i++, sg++)
 		if (sg)
<span class="p_del">-			free_page((unsigned long) sg_virt(sg));</span>
<span class="p_add">+			free_page(sg_virt(sg));</span>
 		else
 			break;
 }
<span class="p_header">diff --git a/drivers/scsi/cxlflash/main.c b/drivers/scsi/cxlflash/main.c</span>
<span class="p_header">index 1e5bf0c..b91d769 100644</span>
<span class="p_header">--- a/drivers/scsi/cxlflash/main.c</span>
<span class="p_header">+++ b/drivers/scsi/cxlflash/main.c</span>
<span class="p_chunk">@@ -619,7 +619,7 @@</span> <span class="p_context"> static void free_mem(struct cxlflash_cfg *cfg)</span>
 		for (i = 0; i &lt; CXLFLASH_NUM_CMDS; i++) {
 			buf = afu-&gt;cmd[i].buf;
 			if (!((u64)buf &amp; (PAGE_SIZE - 1)))
<span class="p_del">-				free_page((ulong)buf);</span>
<span class="p_add">+				free_page(buf);</span>
 		}
 
 		free_pages((ulong)afu, get_order(sizeof(struct afu)));
<span class="p_header">diff --git a/drivers/scsi/cxlflash/superpipe.c b/drivers/scsi/cxlflash/superpipe.c</span>
<span class="p_header">index cac2e6a..0083441 100644</span>
<span class="p_header">--- a/drivers/scsi/cxlflash/superpipe.c</span>
<span class="p_header">+++ b/drivers/scsi/cxlflash/superpipe.c</span>
<span class="p_chunk">@@ -733,7 +733,7 @@</span> <span class="p_context"> static void destroy_context(struct cxlflash_cfg *cfg,</span>
 	}
 
 	/* Free memory associated with context */
<span class="p_del">-	free_page((ulong)ctxi-&gt;rht_start);</span>
<span class="p_add">+	free_page(ctxi-&gt;rht_start);</span>
 	kfree(ctxi-&gt;rht_needs_ws);
 	kfree(ctxi-&gt;rht_lun);
 	kfree(ctxi);
<span class="p_header">diff --git a/drivers/scsi/ibmvscsi/ibmvfc.c b/drivers/scsi/ibmvscsi/ibmvfc.c</span>
<span class="p_header">index 6aa317c..166d834 100644</span>
<span class="p_header">--- a/drivers/scsi/ibmvscsi/ibmvfc.c</span>
<span class="p_header">+++ b/drivers/scsi/ibmvscsi/ibmvfc.c</span>
<span class="p_chunk">@@ -665,7 +665,7 @@</span> <span class="p_context"> static void ibmvfc_release_crq_queue(struct ibmvfc_host *vhost)</span>
 	vhost-&gt;state = IBMVFC_NO_CRQ;
 	vhost-&gt;logged_in = 0;
 	dma_unmap_single(vhost-&gt;dev, crq-&gt;msg_token, PAGE_SIZE, DMA_BIDIRECTIONAL);
<span class="p_del">-	free_page((unsigned long)crq-&gt;msgs);</span>
<span class="p_add">+	free_page(crq-&gt;msgs);</span>
 }
 
 /**
<span class="p_chunk">@@ -4565,7 +4565,7 @@</span> <span class="p_context"> req_irq_failed:</span>
 reg_crq_failed:
 	dma_unmap_single(dev, crq-&gt;msg_token, PAGE_SIZE, DMA_BIDIRECTIONAL);
 map_failed:
<span class="p_del">-	free_page((unsigned long)crq-&gt;msgs);</span>
<span class="p_add">+	free_page(crq-&gt;msgs);</span>
 	return retrc;
 }
 
<span class="p_chunk">@@ -4590,7 +4590,7 @@</span> <span class="p_context"> static void ibmvfc_free_mem(struct ibmvfc_host *vhost)</span>
 	dma_pool_destroy(vhost-&gt;sg_pool);
 	dma_unmap_single(vhost-&gt;dev, async_q-&gt;msg_token,
 			 async_q-&gt;size * sizeof(*async_q-&gt;msgs), DMA_BIDIRECTIONAL);
<span class="p_del">-	free_page((unsigned long)async_q-&gt;msgs);</span>
<span class="p_add">+	free_page(async_q-&gt;msgs);</span>
 	LEAVE;
 }
 
<span class="p_chunk">@@ -4680,7 +4680,7 @@</span> <span class="p_context"> unmap_async_crq:</span>
 	dma_unmap_single(dev, async_q-&gt;msg_token,
 			 async_q-&gt;size * sizeof(*async_q-&gt;msgs), DMA_BIDIRECTIONAL);
 free_async_crq:
<span class="p_del">-	free_page((unsigned long)async_q-&gt;msgs);</span>
<span class="p_add">+	free_page(async_q-&gt;msgs);</span>
 nomem:
 	LEAVE;
 	return -ENOMEM;
<span class="p_header">diff --git a/drivers/scsi/ibmvscsi/ibmvscsi.c b/drivers/scsi/ibmvscsi/ibmvscsi.c</span>
<span class="p_header">index adfef9d..88a4eff 100644</span>
<span class="p_header">--- a/drivers/scsi/ibmvscsi/ibmvscsi.c</span>
<span class="p_header">+++ b/drivers/scsi/ibmvscsi/ibmvscsi.c</span>
<span class="p_chunk">@@ -165,7 +165,7 @@</span> <span class="p_context"> static void ibmvscsi_release_crq_queue(struct crq_queue *queue,</span>
 	dma_unmap_single(hostdata-&gt;dev,
 			 queue-&gt;msg_token,
 			 queue-&gt;size * sizeof(*queue-&gt;msgs), DMA_BIDIRECTIONAL);
<span class="p_del">-	free_page((unsigned long)queue-&gt;msgs);</span>
<span class="p_add">+	free_page(queue-&gt;msgs);</span>
 }
 
 /**
<span class="p_chunk">@@ -410,7 +410,7 @@</span> <span class="p_context"> static int ibmvscsi_init_crq_queue(struct crq_queue *queue,</span>
 			 queue-&gt;msg_token,
 			 queue-&gt;size * sizeof(*queue-&gt;msgs), DMA_BIDIRECTIONAL);
       map_failed:
<span class="p_del">-	free_page((unsigned long)queue-&gt;msgs);</span>
<span class="p_add">+	free_page(queue-&gt;msgs);</span>
       malloc_failed:
 	return -1;
 }
<span class="p_header">diff --git a/drivers/scsi/ipr.c b/drivers/scsi/ipr.c</span>
<span class="p_header">index 536cd5a..1a05ba8 100644</span>
<span class="p_header">--- a/drivers/scsi/ipr.c</span>
<span class="p_header">+++ b/drivers/scsi/ipr.c</span>
<span class="p_chunk">@@ -3237,7 +3237,7 @@</span> <span class="p_context"> static void ipr_release_dump(struct kref *kref)</span>
 	spin_unlock_irqrestore(ioa_cfg-&gt;host-&gt;host_lock, lock_flags);
 
 	for (i = 0; i &lt; dump-&gt;ioa_dump.next_page_index; i++)
<span class="p_del">-		free_page((unsigned long) dump-&gt;ioa_dump.ioa_data[i]);</span>
<span class="p_add">+		free_page(dump-&gt;ioa_dump.ioa_data[i]);</span>
 
 	vfree(dump-&gt;ioa_dump.ioa_data);
 	kfree(dump);
<span class="p_header">diff --git a/drivers/scsi/scsi_devinfo.c b/drivers/scsi/scsi_devinfo.c</span>
<span class="p_header">index 2c1160c7..2f93f80 100644</span>
<span class="p_header">--- a/drivers/scsi/scsi_devinfo.c</span>
<span class="p_header">+++ b/drivers/scsi/scsi_devinfo.c</span>
<span class="p_chunk">@@ -724,7 +724,7 @@</span> <span class="p_context"> static ssize_t proc_scsi_devinfo_write(struct file *file,</span>
 	scsi_dev_info_list_add_str(buffer);
 
 out:
<span class="p_del">-	free_page((unsigned long)buffer);</span>
<span class="p_add">+	free_page(buffer);</span>
 	return err;
 }
 
<span class="p_header">diff --git a/drivers/scsi/scsi_proc.c b/drivers/scsi/scsi_proc.c</span>
<span class="p_header">index 251598e..e0e0e5d 100644</span>
<span class="p_header">--- a/drivers/scsi/scsi_proc.c</span>
<span class="p_header">+++ b/drivers/scsi/scsi_proc.c</span>
<span class="p_chunk">@@ -66,7 +66,7 @@</span> <span class="p_context"> static ssize_t proc_scsi_host_write(struct file *file, const char __user *buf,</span>
 		ret = shost-&gt;hostt-&gt;write_info(shost, page, count);
 	}
 out:
<span class="p_del">-	free_page((unsigned long)page);</span>
<span class="p_add">+	free_page(page);</span>
 	return ret;
 }
 
<span class="p_chunk">@@ -366,7 +366,7 @@</span> <span class="p_context"> static ssize_t proc_scsi_write(struct file *file, const char __user *buf,</span>
 		err = length;
 
  out:
<span class="p_del">-	free_page((unsigned long)buffer);</span>
<span class="p_add">+	free_page(buffer);</span>
 	return err;
 }
 
<span class="p_header">diff --git a/drivers/scsi/xen-scsifront.c b/drivers/scsi/xen-scsifront.c</span>
<span class="p_header">index 9dc8687..d59486a 100644</span>
<span class="p_header">--- a/drivers/scsi/xen-scsifront.c</span>
<span class="p_header">+++ b/drivers/scsi/xen-scsifront.c</span>
<span class="p_chunk">@@ -729,7 +729,7 @@</span> <span class="p_context"> static int scsifront_alloc_ring(struct vscsifrnt_info *info)</span>
 
 	err = xenbus_grant_ring(dev, sring, 1, &amp;gref);
 	if (err &lt; 0) {
<span class="p_del">-		free_page((unsigned long)sring);</span>
<span class="p_add">+		free_page(sring);</span>
 		xenbus_dev_fatal(dev, err,
 			&quot;fail to grant shared ring (Front to Back)&quot;);
 		return err;
<span class="p_header">diff --git a/drivers/spi/spi-ep93xx.c b/drivers/spi/spi-ep93xx.c</span>
<span class="p_header">index bb00be8..5b59d23 100644</span>
<span class="p_header">--- a/drivers/spi/spi-ep93xx.c</span>
<span class="p_header">+++ b/drivers/spi/spi-ep93xx.c</span>
<span class="p_chunk">@@ -835,7 +835,7 @@</span> <span class="p_context"> fail_release_rx:</span>
 	dma_release_channel(espi-&gt;dma_rx);
 	espi-&gt;dma_rx = NULL;
 fail_free_page:
<span class="p_del">-	free_page((unsigned long)espi-&gt;zeropage);</span>
<span class="p_add">+	free_page(espi-&gt;zeropage);</span>
 
 	return ret;
 }
<span class="p_chunk">@@ -852,7 +852,7 @@</span> <span class="p_context"> static void ep93xx_spi_release_dma(struct ep93xx_spi *espi)</span>
 	}
 
 	if (espi-&gt;zeropage)
<span class="p_del">-		free_page((unsigned long)espi-&gt;zeropage);</span>
<span class="p_add">+		free_page(espi-&gt;zeropage);</span>
 }
 
 static int ep93xx_spi_probe(struct platform_device *pdev)
<span class="p_header">diff --git a/drivers/spi/spi-sh-msiof.c b/drivers/spi/spi-sh-msiof.c</span>
<span class="p_header">index a7934ab..b8286e7 100644</span>
<span class="p_header">--- a/drivers/spi/spi-sh-msiof.c</span>
<span class="p_header">+++ b/drivers/spi/spi-sh-msiof.c</span>
<span class="p_chunk">@@ -1118,9 +1118,9 @@</span> <span class="p_context"> static int sh_msiof_request_dma(struct sh_msiof_spi_priv *p)</span>
 unmap_tx_page:
 	dma_unmap_single(tx_dev, p-&gt;tx_dma_addr, PAGE_SIZE, DMA_TO_DEVICE);
 free_rx_page:
<span class="p_del">-	free_page((unsigned long)p-&gt;rx_dma_page);</span>
<span class="p_add">+	free_page(p-&gt;rx_dma_page);</span>
 free_tx_page:
<span class="p_del">-	free_page((unsigned long)p-&gt;tx_dma_page);</span>
<span class="p_add">+	free_page(p-&gt;tx_dma_page);</span>
 free_rx_chan:
 	dma_release_channel(master-&gt;dma_rx);
 free_tx_chan:
<span class="p_chunk">@@ -1142,8 +1142,8 @@</span> <span class="p_context"> static void sh_msiof_release_dma(struct sh_msiof_spi_priv *p)</span>
 			 PAGE_SIZE, DMA_FROM_DEVICE);
 	dma_unmap_single(master-&gt;dma_tx-&gt;device-&gt;dev, p-&gt;tx_dma_addr,
 			 PAGE_SIZE, DMA_TO_DEVICE);
<span class="p_del">-	free_page((unsigned long)p-&gt;rx_dma_page);</span>
<span class="p_del">-	free_page((unsigned long)p-&gt;tx_dma_page);</span>
<span class="p_add">+	free_page(p-&gt;rx_dma_page);</span>
<span class="p_add">+	free_page(p-&gt;tx_dma_page);</span>
 	dma_release_channel(master-&gt;dma_rx);
 	dma_release_channel(master-&gt;dma_tx);
 }
<span class="p_header">diff --git a/drivers/staging/comedi/comedi_buf.c b/drivers/staging/comedi/comedi_buf.c</span>
<span class="p_header">index 90c2801..f3625bb 100644</span>
<span class="p_header">--- a/drivers/staging/comedi/comedi_buf.c</span>
<span class="p_header">+++ b/drivers/staging/comedi/comedi_buf.c</span>
<span class="p_chunk">@@ -48,7 +48,7 @@</span> <span class="p_context"> static void comedi_buf_map_kref_release(struct kref *kref)</span>
 						  buf-&gt;dma_addr);
 #endif
 			} else {
<span class="p_del">-				free_page((unsigned long)buf-&gt;virt_addr);</span>
<span class="p_add">+				free_page(buf-&gt;virt_addr);</span>
 			}
 		}
 		vfree(bm-&gt;page_list);
<span class="p_header">diff --git a/drivers/staging/lustre/lustre/llite/llite_lib.c b/drivers/staging/lustre/lustre/llite/llite_lib.c</span>
<span class="p_header">index 4a8c759..92259be 100644</span>
<span class="p_header">--- a/drivers/staging/lustre/lustre/llite/llite_lib.c</span>
<span class="p_header">+++ b/drivers/staging/lustre/lustre/llite/llite_lib.c</span>
<span class="p_chunk">@@ -2286,5 +2286,5 @@</span> <span class="p_context"> void ll_dirty_page_discard_warn(struct page *page, int ioret)</span>
 		dput(dentry);
 
 	if (buf != NULL)
<span class="p_del">-		free_page((unsigned long)buf);</span>
<span class="p_add">+		free_page(buf);</span>
 }
<span class="p_header">diff --git a/drivers/staging/rdma/ehca/ehca_iverbs.h b/drivers/staging/rdma/ehca/ehca_iverbs.h</span>
<span class="p_header">index 80e6a3d..f493ac4 100644</span>
<span class="p_header">--- a/drivers/staging/rdma/ehca/ehca_iverbs.h</span>
<span class="p_header">+++ b/drivers/staging/rdma/ehca/ehca_iverbs.h</span>
<span class="p_chunk">@@ -210,7 +210,7 @@</span> <span class="p_context"> void *ehca_alloc_fw_ctrlblock(gfp_t flags);</span>
 void ehca_free_fw_ctrlblock(void *ptr);
 #else
 #define ehca_alloc_fw_ctrlblock(flags) ((void *)get_zeroed_page(flags))
<span class="p_del">-#define ehca_free_fw_ctrlblock(ptr) free_page((unsigned long)(ptr))</span>
<span class="p_add">+#define ehca_free_fw_ctrlblock(ptr) free_page(ptr)</span>
 #endif
 
 void ehca_recover_sqp(struct ib_qp *sqp);
<span class="p_header">diff --git a/drivers/staging/rdma/ehca/ehca_pd.c b/drivers/staging/rdma/ehca/ehca_pd.c</span>
<span class="p_header">index 351577a..c3424f4 100644</span>
<span class="p_header">--- a/drivers/staging/rdma/ehca/ehca_pd.c</span>
<span class="p_header">+++ b/drivers/staging/rdma/ehca/ehca_pd.c</span>
<span class="p_chunk">@@ -92,7 +92,7 @@</span> <span class="p_context"> int ehca_dealloc_pd(struct ib_pd *pd)</span>
 		list_splice(&amp;my_pd-&gt;full[i], &amp;my_pd-&gt;free[i]);
 		list_for_each_entry_safe(page, tmp, &amp;my_pd-&gt;free[i], list) {
 			leftovers = 1;
<span class="p_del">-			free_page(page-&gt;page);</span>
<span class="p_add">+			free_page((void *)page-&gt;page);</span>
 			kmem_cache_free(small_qp_cache, page);
 		}
 	}
<span class="p_header">diff --git a/drivers/staging/rdma/ehca/ipz_pt_fn.c b/drivers/staging/rdma/ehca/ipz_pt_fn.c</span>
<span class="p_header">index 7ffc748..0742740 100644</span>
<span class="p_header">--- a/drivers/staging/rdma/ehca/ipz_pt_fn.c</span>
<span class="p_header">+++ b/drivers/staging/rdma/ehca/ipz_pt_fn.c</span>
<span class="p_chunk">@@ -120,7 +120,7 @@</span> <span class="p_context"> static int alloc_queue_pages(struct ipz_queue *queue, const u32 nr_of_pages)</span>
 out:
 	for (f = 0; f &lt; nr_of_pages &amp;&amp; queue-&gt;queue_pages[f];
 	     f += PAGES_PER_KPAGE)
<span class="p_del">-		free_page((unsigned long)(queue-&gt;queue_pages)[f]);</span>
<span class="p_add">+		free_page(queue-&gt;queue_pages[f]);</span>
 	return 0;
 }
 
<span class="p_chunk">@@ -196,7 +196,7 @@</span> <span class="p_context"> static void free_small_queue_page(struct ipz_queue *queue, struct ehca_pd *pd)</span>
 	mutex_unlock(&amp;pd-&gt;lock);
 
 	if (free_page) {
<span class="p_del">-		free_page(page-&gt;page);</span>
<span class="p_add">+		free_page((void *)page-&gt;page);</span>
 		kmem_cache_free(small_qp_cache, page);
 	}
 }
<span class="p_chunk">@@ -264,7 +264,7 @@</span> <span class="p_context"> int ipz_queue_dtor(struct ehca_pd *pd, struct ipz_queue *queue)</span>
 	else {
 		nr_pages = queue-&gt;queue_length / queue-&gt;pagesize;
 		for (i = 0; i &lt; nr_pages; i += PAGES_PER_KPAGE)
<span class="p_del">-			free_page((unsigned long)queue-&gt;queue_pages[i]);</span>
<span class="p_add">+			free_page(queue-&gt;queue_pages[i]);</span>
 	}
 
 	kvfree(queue-&gt;queue_pages);
<span class="p_header">diff --git a/drivers/staging/rdma/hfi1/qp.c b/drivers/staging/rdma/hfi1/qp.c</span>
<span class="p_header">index f8c3616..6310b3c 100644</span>
<span class="p_header">--- a/drivers/staging/rdma/hfi1/qp.c</span>
<span class="p_header">+++ b/drivers/staging/rdma/hfi1/qp.c</span>
<span class="p_chunk">@@ -128,7 +128,7 @@</span> <span class="p_context"> static void get_map_page(struct hfi1_qpn_table *qpt, struct qpn_map *map)</span>
 
 	spin_lock(&amp;qpt-&gt;lock);
 	if (map-&gt;page)
<span class="p_del">-		free_page(page);</span>
<span class="p_add">+		free_page((void *)page);</span>
 	else
 		map-&gt;page = (void *)page;
 	spin_unlock(&amp;qpt-&gt;lock);
<span class="p_chunk">@@ -1341,7 +1341,7 @@</span> <span class="p_context"> static void free_qpn_table(struct hfi1_qpn_table *qpt)</span>
 	int i;
 
 	for (i = 0; i &lt; ARRAY_SIZE(qpt-&gt;map); i++)
<span class="p_del">-		free_page((unsigned long) qpt-&gt;map[i].page);</span>
<span class="p_add">+		free_page(qpt-&gt;map[i].page);</span>
 }
 
 /**
<span class="p_header">diff --git a/drivers/staging/rdma/ipath/ipath_qp.c b/drivers/staging/rdma/ipath/ipath_qp.c</span>
<span class="p_header">index 280cd2d..8ca0b76 100644</span>
<span class="p_header">--- a/drivers/staging/rdma/ipath/ipath_qp.c</span>
<span class="p_header">+++ b/drivers/staging/rdma/ipath/ipath_qp.c</span>
<span class="p_chunk">@@ -94,7 +94,7 @@</span> <span class="p_context"> static void get_map_page(struct ipath_qp_table *qpt, struct qpn_map *map)</span>
 
 	spin_lock_irqsave(&amp;qpt-&gt;lock, flags);
 	if (map-&gt;page)
<span class="p_del">-		free_page(page);</span>
<span class="p_add">+		free_page((void *)page);</span>
 	else
 		map-&gt;page = (void *)page;
 	spin_unlock_irqrestore(&amp;qpt-&gt;lock, flags);
<span class="p_chunk">@@ -285,7 +285,7 @@</span> <span class="p_context"> unsigned ipath_free_all_qps(struct ipath_qp_table *qpt)</span>
 
 	for (n = 0; n &lt; ARRAY_SIZE(qpt-&gt;map); n++)
 		if (qpt-&gt;map[n].page)
<span class="p_del">-			free_page((unsigned long) qpt-&gt;map[n].page);</span>
<span class="p_add">+			free_page(qpt-&gt;map[n].page);</span>
 	return qp_inuse;
 }
 
<span class="p_header">diff --git a/drivers/staging/unisys/visorbus/visorchannel.c b/drivers/staging/unisys/visorbus/visorchannel.c</span>
<span class="p_header">index a4e117f..486bef0 100644</span>
<span class="p_header">--- a/drivers/staging/unisys/visorbus/visorchannel.c</span>
<span class="p_header">+++ b/drivers/staging/unisys/visorbus/visorchannel.c</span>
<span class="p_chunk">@@ -301,7 +301,7 @@</span> <span class="p_context"> visorchannel_clear(struct visorchannel *channel, ulong offset, u8 ch,</span>
 	err = 0;
 
 cleanup:
<span class="p_del">-	free_page((unsigned long)buf);</span>
<span class="p_add">+	free_page(buf);</span>
 	return err;
 }
 EXPORT_SYMBOL_GPL(visorchannel_clear);
<span class="p_header">diff --git a/drivers/target/target_core_file.c b/drivers/target/target_core_file.c</span>
<span class="p_header">index e319570..ca682ec 100644</span>
<span class="p_header">--- a/drivers/target/target_core_file.c</span>
<span class="p_header">+++ b/drivers/target/target_core_file.c</span>
<span class="p_chunk">@@ -469,7 +469,7 @@</span> <span class="p_context"> fd_do_prot_unmap(struct se_cmd *cmd, sector_t lba, sector_t nolb)</span>
 
 	rc = fd_do_prot_fill(cmd-&gt;se_dev, lba, nolb, buf, PAGE_SIZE);
 
<span class="p_del">-	free_page((unsigned long)buf);</span>
<span class="p_add">+	free_page(buf);</span>
 
 	return rc;
 }
<span class="p_header">diff --git a/drivers/tty/amiserial.c b/drivers/tty/amiserial.c</span>
<span class="p_header">index e53d9a5..d245a36 100644</span>
<span class="p_header">--- a/drivers/tty/amiserial.c</span>
<span class="p_header">+++ b/drivers/tty/amiserial.c</span>
<span class="p_chunk">@@ -527,12 +527,12 @@</span> <span class="p_context"> static int startup(struct tty_struct *tty, struct serial_state *info)</span>
 	local_irq_save(flags);
 
 	if (port-&gt;flags &amp; ASYNC_INITIALIZED) {
<span class="p_del">-		free_page(page);</span>
<span class="p_add">+		free_page((void *)page);</span>
 		goto errout;
 	}
 
 	if (info-&gt;xmit.buf)
<span class="p_del">-		free_page(page);</span>
<span class="p_add">+		free_page((void *)page);</span>
 	else
 		info-&gt;xmit.buf = (unsigned char *) page;
 
<span class="p_chunk">@@ -628,7 +628,7 @@</span> <span class="p_context"> static void shutdown(struct tty_struct *tty, struct serial_state *info)</span>
 	free_irq(IRQ_AMIGA_VERTB, info);
 
 	if (info-&gt;xmit.buf) {
<span class="p_del">-		free_page((unsigned long) info-&gt;xmit.buf);</span>
<span class="p_add">+		free_page(info-&gt;xmit.buf);</span>
 		info-&gt;xmit.buf = NULL;
 	}
 
<span class="p_header">diff --git a/drivers/tty/cyclades.c b/drivers/tty/cyclades.c</span>
<span class="p_header">index d4a1331..3310706 100644</span>
<span class="p_header">--- a/drivers/tty/cyclades.c</span>
<span class="p_header">+++ b/drivers/tty/cyclades.c</span>
<span class="p_chunk">@@ -1288,7 +1288,7 @@</span> <span class="p_context"> static int cy_startup(struct cyclades_port *info, struct tty_struct *tty)</span>
 	}
 
 	if (info-&gt;port.xmit_buf)
<span class="p_del">-		free_page(page);</span>
<span class="p_add">+		free_page((void *)page);</span>
 	else
 		info-&gt;port.xmit_buf = (unsigned char *)page;
 
<span class="p_chunk">@@ -1383,7 +1383,7 @@</span> <span class="p_context"> static int cy_startup(struct cyclades_port *info, struct tty_struct *tty)</span>
 
 errout:
 	spin_unlock_irqrestore(&amp;card-&gt;card_lock, flags);
<span class="p_del">-	free_page(page);</span>
<span class="p_add">+	free_page((void *)page);</span>
 	return retval;
 }				/* startup */
 
<span class="p_chunk">@@ -1438,7 +1438,7 @@</span> <span class="p_context"> static void cy_shutdown(struct cyclades_port *info, struct tty_struct *tty)</span>
 			unsigned char *temp;
 			temp = info-&gt;port.xmit_buf;
 			info-&gt;port.xmit_buf = NULL;
<span class="p_del">-			free_page((unsigned long)temp);</span>
<span class="p_add">+			free_page(temp);</span>
 		}
 		if (tty-&gt;termios.c_cflag &amp; HUPCL)
 			cyy_change_rts_dtr(info, 0, TIOCM_RTS | TIOCM_DTR);
<span class="p_chunk">@@ -1466,7 +1466,7 @@</span> <span class="p_context"> static void cy_shutdown(struct cyclades_port *info, struct tty_struct *tty)</span>
 			unsigned char *temp;
 			temp = info-&gt;port.xmit_buf;
 			info-&gt;port.xmit_buf = NULL;
<span class="p_del">-			free_page((unsigned long)temp);</span>
<span class="p_add">+			free_page(temp);</span>
 		}
 
 		if (tty-&gt;termios.c_cflag &amp; HUPCL)
<span class="p_header">diff --git a/drivers/tty/hvc/hvc_iucv.c b/drivers/tty/hvc/hvc_iucv.c</span>
<span class="p_header">index 8b70a16..e17db99 100644</span>
<span class="p_header">--- a/drivers/tty/hvc/hvc_iucv.c</span>
<span class="p_header">+++ b/drivers/tty/hvc/hvc_iucv.c</span>
<span class="p_chunk">@@ -1158,7 +1158,7 @@</span> <span class="p_context"> static int __init hvc_iucv_alloc(int id, unsigned int is_console)</span>
 out_error_dev:
 	hvc_remove(priv-&gt;hvc);
 out_error_hvc:
<span class="p_del">-	free_page((unsigned long) priv-&gt;sndbuf);</span>
<span class="p_add">+	free_page(priv-&gt;sndbuf);</span>
 	kfree(priv);
 
 	return rc;
<span class="p_chunk">@@ -1171,7 +1171,7 @@</span> <span class="p_context"> static void __init hvc_iucv_destroy(struct hvc_iucv_private *priv)</span>
 {
 	hvc_remove(priv-&gt;hvc);
 	device_unregister(priv-&gt;dev);
<span class="p_del">-	free_page((unsigned long) priv-&gt;sndbuf);</span>
<span class="p_add">+	free_page(priv-&gt;sndbuf);</span>
 	kfree(priv);
 }
 
<span class="p_header">diff --git a/drivers/tty/hvc/hvc_xen.c b/drivers/tty/hvc/hvc_xen.c</span>
<span class="p_header">index fa816b7..4f7716d 100644</span>
<span class="p_header">--- a/drivers/tty/hvc/hvc_xen.c</span>
<span class="p_header">+++ b/drivers/tty/hvc/hvc_xen.c</span>
<span class="p_chunk">@@ -341,7 +341,7 @@</span> <span class="p_context"> static void xencons_disconnect_backend(struct xencons_info *info)</span>
 
 static void xencons_free(struct xencons_info *info)
 {
<span class="p_del">-	free_page((unsigned long)info-&gt;intf);</span>
<span class="p_add">+	free_page(info-&gt;intf);</span>
 	info-&gt;intf = NULL;
 	info-&gt;vtermno = 0;
 	kfree(info);
<span class="p_header">diff --git a/drivers/tty/hvc/hvcs.c b/drivers/tty/hvc/hvcs.c</span>
<span class="p_header">index 5997b17..fb3f4cd 100644</span>
<span class="p_header">--- a/drivers/tty/hvc/hvcs.c</span>
<span class="p_header">+++ b/drivers/tty/hvc/hvcs.c</span>
<span class="p_chunk">@@ -1548,7 +1548,7 @@</span> <span class="p_context"> static int hvcs_initialize(void)</span>
 	return 0;
 
 kthread_fail:
<span class="p_del">-	free_page((unsigned long)hvcs_pi_buff);</span>
<span class="p_add">+	free_page(hvcs_pi_buff);</span>
 buff_alloc_fail:
 	tty_unregister_driver(hvcs_tty_driver);
 register_fail:
<span class="p_chunk">@@ -1597,7 +1597,7 @@</span> <span class="p_context"> static void __exit hvcs_module_exit(void)</span>
 	kthread_stop(hvcs_task);
 
 	spin_lock(&amp;hvcs_pi_lock);
<span class="p_del">-	free_page((unsigned long)hvcs_pi_buff);</span>
<span class="p_add">+	free_page(hvcs_pi_buff);</span>
 	hvcs_pi_buff = NULL;
 	spin_unlock(&amp;hvcs_pi_lock);
 
<span class="p_header">diff --git a/drivers/tty/mxser.c b/drivers/tty/mxser.c</span>
<span class="p_header">index 4c4a236..b730857 100644</span>
<span class="p_header">--- a/drivers/tty/mxser.c</span>
<span class="p_header">+++ b/drivers/tty/mxser.c</span>
<span class="p_chunk">@@ -873,7 +873,7 @@</span> <span class="p_context"> static int mxser_activate(struct tty_port *port, struct tty_struct *tty)</span>
 
 	if (!info-&gt;ioaddr || !info-&gt;type) {
 		set_bit(TTY_IO_ERROR, &amp;tty-&gt;flags);
<span class="p_del">-		free_page(page);</span>
<span class="p_add">+		free_page((void *)page);</span>
 		spin_unlock_irqrestore(&amp;info-&gt;slock, flags);
 		return 0;
 	}
<span class="p_chunk">@@ -969,7 +969,7 @@</span> <span class="p_context"> static void mxser_shutdown_port(struct tty_port *port)</span>
 	 * Free the xmit buffer, if necessary
 	 */
 	if (info-&gt;port.xmit_buf) {
<span class="p_del">-		free_page((unsigned long) info-&gt;port.xmit_buf);</span>
<span class="p_add">+		free_page(info-&gt;port.xmit_buf);</span>
 		info-&gt;port.xmit_buf = NULL;
 	}
 
<span class="p_header">diff --git a/drivers/tty/rocket.c b/drivers/tty/rocket.c</span>
<span class="p_header">index 802eac7..2ed96e3 100644</span>
<span class="p_header">--- a/drivers/tty/rocket.c</span>
<span class="p_header">+++ b/drivers/tty/rocket.c</span>
<span class="p_chunk">@@ -899,7 +899,7 @@</span> <span class="p_context"> static int rp_open(struct tty_struct *tty, struct file *filp)</span>
 	 * We must not sleep from here until the port is marked fully in use.
 	 */
 	if (info-&gt;xmit_buf)
<span class="p_del">-		free_page(page);</span>
<span class="p_add">+		free_page((void *)page);</span>
 	else
 		info-&gt;xmit_buf = (unsigned char *) page;
 
<span class="p_chunk">@@ -1038,7 +1038,7 @@</span> <span class="p_context"> static void rp_close(struct tty_struct *tty, struct file *filp)</span>
 		wake_up_interruptible(&amp;port-&gt;open_wait);
 	} else {
 		if (info-&gt;xmit_buf) {
<span class="p_del">-			free_page((unsigned long) info-&gt;xmit_buf);</span>
<span class="p_add">+			free_page(info-&gt;xmit_buf);</span>
 			info-&gt;xmit_buf = NULL;
 		}
 	}
<span class="p_header">diff --git a/drivers/tty/serial/68328serial.c b/drivers/tty/serial/68328serial.c</span>
<span class="p_header">index 0140ba4..4485466 100644</span>
<span class="p_header">--- a/drivers/tty/serial/68328serial.c</span>
<span class="p_header">+++ b/drivers/tty/serial/68328serial.c</span>
<span class="p_chunk">@@ -436,7 +436,7 @@</span> <span class="p_context"> static void shutdown(struct m68k_serial *info, struct tty_struct *tty)</span>
 	local_irq_save(flags);
 	
 	if (info-&gt;xmit_buf) {
<span class="p_del">-		free_page((unsigned long) info-&gt;xmit_buf);</span>
<span class="p_add">+		free_page(info-&gt;xmit_buf);</span>
 		info-&gt;xmit_buf = 0;
 	}
 
<span class="p_header">diff --git a/drivers/tty/serial/crisv10.c b/drivers/tty/serial/crisv10.c</span>
<span class="p_header">index f13f2eb..8e792c1 100644</span>
<span class="p_header">--- a/drivers/tty/serial/crisv10.c</span>
<span class="p_header">+++ b/drivers/tty/serial/crisv10.c</span>
<span class="p_chunk">@@ -2603,12 +2603,12 @@</span> <span class="p_context"> startup(struct e100_serial * info)</span>
 
 	if (info-&gt;port.flags &amp; ASYNC_INITIALIZED) {
 		local_irq_restore(flags);
<span class="p_del">-		free_page(xmit_page);</span>
<span class="p_add">+		free_page((void *)xmit_page);</span>
 		return 0;
 	}
 
 	if (info-&gt;xmit.buf)
<span class="p_del">-		free_page(xmit_page);</span>
<span class="p_add">+		free_page((void *)xmit_page);</span>
 	else
 		info-&gt;xmit.buf = (unsigned char *) xmit_page;
 
<span class="p_chunk">@@ -2758,7 +2758,7 @@</span> <span class="p_context"> shutdown(struct e100_serial * info)</span>
 	local_irq_save(flags);
 
 	if (info-&gt;xmit.buf) {
<span class="p_del">-		free_page((unsigned long)info-&gt;xmit.buf);</span>
<span class="p_add">+		free_page(info-&gt;xmit.buf);</span>
 		info-&gt;xmit.buf = NULL;
 	}
 
<span class="p_header">diff --git a/drivers/tty/serial/men_z135_uart.c b/drivers/tty/serial/men_z135_uart.c</span>
<span class="p_header">index 3141aa2..df3c6ad 100644</span>
<span class="p_header">--- a/drivers/tty/serial/men_z135_uart.c</span>
<span class="p_header">+++ b/drivers/tty/serial/men_z135_uart.c</span>
<span class="p_chunk">@@ -855,7 +855,7 @@</span> <span class="p_context"> static int men_z135_probe(struct mcb_device *mdev,</span>
 	return 0;
 
 err:
<span class="p_del">-	free_page((unsigned long) uart-&gt;rxbuf);</span>
<span class="p_add">+	free_page(uart-&gt;rxbuf);</span>
 	dev_err(dev, &quot;Failed to add UART: %d\n&quot;, err);
 
 	return err;
<span class="p_chunk">@@ -872,7 +872,7 @@</span> <span class="p_context"> static void men_z135_remove(struct mcb_device *mdev)</span>
 
 	line--;
 	uart_remove_one_port(&amp;men_z135_driver, &amp;uart-&gt;port);
<span class="p_del">-	free_page((unsigned long) uart-&gt;rxbuf);</span>
<span class="p_add">+	free_page(uart-&gt;rxbuf);</span>
 }
 
 static const struct mcb_device_id men_z135_ids[] = {
<span class="p_header">diff --git a/drivers/tty/serial/pch_uart.c b/drivers/tty/serial/pch_uart.c</span>
<span class="p_header">index ea4ffc2..7e461e0 100644</span>
<span class="p_header">--- a/drivers/tty/serial/pch_uart.c</span>
<span class="p_header">+++ b/drivers/tty/serial/pch_uart.c</span>
<span class="p_chunk">@@ -1845,7 +1845,7 @@</span> <span class="p_context"> init_port_hal_free:</span>
 #ifdef CONFIG_SERIAL_PCH_UART_CONSOLE
 	pch_uart_ports[board-&gt;line_no] = NULL;
 #endif
<span class="p_del">-	free_page((unsigned long)rxbuf);</span>
<span class="p_add">+	free_page(rxbuf);</span>
 init_port_free_txbuf:
 	kfree(priv);
 init_port_alloc_err:
<span class="p_chunk">@@ -1861,7 +1861,7 @@</span> <span class="p_context"> static void pch_uart_exit_port(struct eg20t_port *priv)</span>
 		debugfs_remove(priv-&gt;debugfs);
 #endif
 	uart_remove_one_port(&amp;pch_uart_driver, &amp;priv-&gt;port);
<span class="p_del">-	free_page((unsigned long)priv-&gt;rxbuf.buf);</span>
<span class="p_add">+	free_page(priv-&gt;rxbuf.buf);</span>
 }
 
 static void pch_uart_pci_remove(struct pci_dev *pdev)
<span class="p_header">diff --git a/drivers/tty/serial/serial_core.c b/drivers/tty/serial/serial_core.c</span>
<span class="p_header">index def5199..9bc0284 100644</span>
<span class="p_header">--- a/drivers/tty/serial/serial_core.c</span>
<span class="p_header">+++ b/drivers/tty/serial/serial_core.c</span>
<span class="p_chunk">@@ -257,7 +257,7 @@</span> <span class="p_context"> static void uart_shutdown(struct tty_struct *tty, struct uart_state *state)</span>
 	 * Free the transmit buffer page.
 	 */
 	if (state-&gt;xmit.buf) {
<span class="p_del">-		free_page((unsigned long)state-&gt;xmit.buf);</span>
<span class="p_add">+		free_page(state-&gt;xmit.buf);</span>
 		state-&gt;xmit.buf = NULL;
 	}
 }
<span class="p_header">diff --git a/drivers/tty/synclink.c b/drivers/tty/synclink.c</span>
<span class="p_header">index 6188059..6e52c8f 100644</span>
<span class="p_header">--- a/drivers/tty/synclink.c</span>
<span class="p_header">+++ b/drivers/tty/synclink.c</span>
<span class="p_chunk">@@ -1824,7 +1824,7 @@</span> <span class="p_context"> static void shutdown(struct mgsl_struct * info)</span>
 	del_timer_sync(&amp;info-&gt;tx_timer);
 
 	if (info-&gt;xmit_buf) {
<span class="p_del">-		free_page((unsigned long) info-&gt;xmit_buf);</span>
<span class="p_add">+		free_page(info-&gt;xmit_buf);</span>
 		info-&gt;xmit_buf = NULL;
 	}
 
<span class="p_header">diff --git a/drivers/tty/tty_port.c b/drivers/tty/tty_port.c</span>
<span class="p_header">index 482f33f..3fe48c7 100644</span>
<span class="p_header">--- a/drivers/tty/tty_port.c</span>
<span class="p_header">+++ b/drivers/tty/tty_port.c</span>
<span class="p_chunk">@@ -113,7 +113,7 @@</span> <span class="p_context"> void tty_port_free_xmit_buf(struct tty_port *port)</span>
 {
 	mutex_lock(&amp;port-&gt;buf_mutex);
 	if (port-&gt;xmit_buf != NULL) {
<span class="p_del">-		free_page((unsigned long)port-&gt;xmit_buf);</span>
<span class="p_add">+		free_page(port-&gt;xmit_buf);</span>
 		port-&gt;xmit_buf = NULL;
 	}
 	mutex_unlock(&amp;port-&gt;buf_mutex);
<span class="p_chunk">@@ -143,7 +143,7 @@</span> <span class="p_context"> static void tty_port_destructor(struct kref *kref)</span>
 	if (WARN_ON(port-&gt;itty))
 		return;
 	if (port-&gt;xmit_buf)
<span class="p_del">-		free_page((unsigned long)port-&gt;xmit_buf);</span>
<span class="p_add">+		free_page(port-&gt;xmit_buf);</span>
 	tty_port_destroy(port);
 	if (port-&gt;ops &amp;&amp; port-&gt;ops-&gt;destruct)
 		port-&gt;ops-&gt;destruct(port);
<span class="p_header">diff --git a/drivers/tty/vt/vc_screen.c b/drivers/tty/vt/vc_screen.c</span>
<span class="p_header">index 14a2b5f..5d25934 100644</span>
<span class="p_header">--- a/drivers/tty/vt/vc_screen.c</span>
<span class="p_header">+++ b/drivers/tty/vt/vc_screen.c</span>
<span class="p_chunk">@@ -366,7 +366,7 @@</span> <span class="p_context"> vcs_read(struct file *file, char __user *buf, size_t count, loff_t *ppos)</span>
 		ret = read;
 unlock_out:
 	console_unlock();
<span class="p_del">-	free_page((unsigned long) con_buf);</span>
<span class="p_add">+	free_page(con_buf);</span>
 	return ret;
 }
 
<span class="p_chunk">@@ -554,7 +554,7 @@</span> <span class="p_context"> vcs_write(struct file *file, const char __user *buf, size_t count, loff_t *ppos)</span>
 
 unlock_out:
 	console_unlock();
<span class="p_del">-	free_page((unsigned long) con_buf);</span>
<span class="p_add">+	free_page(con_buf);</span>
 	return ret;
 }
 
<span class="p_header">diff --git a/drivers/usb/atm/cxacru.c b/drivers/usb/atm/cxacru.c</span>
<span class="p_header">index 1173f9c..f03bc30 100644</span>
<span class="p_header">--- a/drivers/usb/atm/cxacru.c</span>
<span class="p_header">+++ b/drivers/usb/atm/cxacru.c</span>
<span class="p_chunk">@@ -978,7 +978,7 @@</span> <span class="p_context"> static int cxacru_fw(struct usb_device *usb_dev, enum cxacru_fw_request fw,</span>
 	ret = 0;
 
 cleanup:
<span class="p_del">-	free_page((unsigned long) buf);</span>
<span class="p_add">+	free_page(buf);</span>
 	return ret;
 }
 
<span class="p_chunk">@@ -1217,8 +1217,8 @@</span> <span class="p_context"> static int cxacru_bind(struct usbatm_data *usbatm_instance,</span>
 	return 0;
 
  fail:
<span class="p_del">-	free_page((unsigned long) instance-&gt;snd_buf);</span>
<span class="p_del">-	free_page((unsigned long) instance-&gt;rcv_buf);</span>
<span class="p_add">+	free_page(instance-&gt;snd_buf);</span>
<span class="p_add">+	free_page(instance-&gt;rcv_buf);</span>
 	usb_free_urb(instance-&gt;snd_urb);
 	usb_free_urb(instance-&gt;rcv_urb);
 	kfree(instance);
<span class="p_chunk">@@ -1259,8 +1259,8 @@</span> <span class="p_context"> static void cxacru_unbind(struct usbatm_data *usbatm_instance,</span>
 	usb_free_urb(instance-&gt;snd_urb);
 	usb_free_urb(instance-&gt;rcv_urb);
 
<span class="p_del">-	free_page((unsigned long) instance-&gt;snd_buf);</span>
<span class="p_del">-	free_page((unsigned long) instance-&gt;rcv_buf);</span>
<span class="p_add">+	free_page(instance-&gt;snd_buf);</span>
<span class="p_add">+	free_page(instance-&gt;rcv_buf);</span>
 
 	kfree(instance);
 
<span class="p_header">diff --git a/drivers/usb/atm/speedtch.c b/drivers/usb/atm/speedtch.c</span>
<span class="p_header">index 0270d13..681599f 100644</span>
<span class="p_header">--- a/drivers/usb/atm/speedtch.c</span>
<span class="p_header">+++ b/drivers/usb/atm/speedtch.c</span>
<span class="p_chunk">@@ -354,7 +354,7 @@</span> <span class="p_context"> static int speedtch_upload_firmware(struct speedtch_instance_data *instance,</span>
 	ret = 0;
 
 out_free:
<span class="p_del">-	free_page((unsigned long)buffer);</span>
<span class="p_add">+	free_page(buffer);</span>
 out:
 	return ret;
 }
<span class="p_header">diff --git a/drivers/usb/core/devio.c b/drivers/usb/core/devio.c</span>
<span class="p_header">index 38ae877c..c2cef46 100644</span>
<span class="p_header">--- a/drivers/usb/core/devio.c</span>
<span class="p_header">+++ b/drivers/usb/core/devio.c</span>
<span class="p_chunk">@@ -1047,7 +1047,7 @@</span> <span class="p_context"> static int proc_control(struct usb_dev_state *ps, void __user *arg)</span>
 	}
 	ret = i;
  done:
<span class="p_del">-	free_page((unsigned long) tbuf);</span>
<span class="p_add">+	free_page(tbuf);</span>
 	usbfs_decrease_memory_usage(PAGE_SIZE + sizeof(struct urb) +
 			sizeof(struct usb_ctrlrequest));
 	return ret;
<span class="p_header">diff --git a/drivers/usb/host/ohci-dbg.c b/drivers/usb/host/ohci-dbg.c</span>
<span class="p_header">index c3eded3..1e8397f 100644</span>
<span class="p_header">--- a/drivers/usb/host/ohci-dbg.c</span>
<span class="p_header">+++ b/drivers/usb/host/ohci-dbg.c</span>
<span class="p_chunk">@@ -730,7 +730,7 @@</span> <span class="p_context"> static int debug_close(struct inode *inode, struct file *file)</span>
 
 	if (buf) {
 		if (buf-&gt;page)
<span class="p_del">-			free_page((unsigned long)buf-&gt;page);</span>
<span class="p_add">+			free_page(buf-&gt;page);</span>
 		kfree(buf);
 	}
 
<span class="p_header">diff --git a/drivers/usb/misc/rio500.c b/drivers/usb/misc/rio500.c</span>
<span class="p_header">index 13731d5..3c49061 100644</span>
<span class="p_header">--- a/drivers/usb/misc/rio500.c</span>
<span class="p_header">+++ b/drivers/usb/misc/rio500.c</span>
<span class="p_chunk">@@ -146,7 +146,7 @@</span> <span class="p_context"> static long ioctl_rio(struct file *file, unsigned int cmd, unsigned long arg)</span>
 		}
 		if (copy_from_user(buffer, rio_cmd.buffer, rio_cmd.length)) {
 			retval = -EFAULT;
<span class="p_del">-			free_page((unsigned long) buffer);</span>
<span class="p_add">+			free_page(buffer);</span>
 			goto err_out;
 		}
 
<span class="p_chunk">@@ -180,7 +180,7 @@</span> <span class="p_context"> static long ioctl_rio(struct file *file, unsigned int cmd, unsigned long arg)</span>
 					result, buffer[0]);
 				if (copy_to_user(rio_cmd.buffer, buffer,
 						 rio_cmd.length)) {
<span class="p_del">-					free_page((unsigned long) buffer);</span>
<span class="p_add">+					free_page(buffer);</span>
 					retval = -EFAULT;
 					goto err_out;
 				}
<span class="p_chunk">@@ -195,7 +195,7 @@</span> <span class="p_context"> static long ioctl_rio(struct file *file, unsigned int cmd, unsigned long arg)</span>
 			   be swapped at the app level */
 
 		}
<span class="p_del">-		free_page((unsigned long) buffer);</span>
<span class="p_add">+		free_page(buffer);</span>
 		break;
 
 	case RIO_SEND_COMMAND:
<span class="p_chunk">@@ -216,7 +216,7 @@</span> <span class="p_context"> static long ioctl_rio(struct file *file, unsigned int cmd, unsigned long arg)</span>
 			goto err_out;
 		}
 		if (copy_from_user(buffer, rio_cmd.buffer, rio_cmd.length)) {
<span class="p_del">-			free_page((unsigned long)buffer);</span>
<span class="p_add">+			free_page(buffer);</span>
 			retval = -EFAULT;
 			goto err_out;
 		}
<span class="p_chunk">@@ -253,7 +253,7 @@</span> <span class="p_context"> static long ioctl_rio(struct file *file, unsigned int cmd, unsigned long arg)</span>
 			}
 
 		}
<span class="p_del">-		free_page((unsigned long) buffer);</span>
<span class="p_add">+		free_page(buffer);</span>
 		break;
 
 	default:
<span class="p_header">diff --git a/drivers/usb/mon/mon_bin.c b/drivers/usb/mon/mon_bin.c</span>
<span class="p_header">index 3598f1a..bd463eb 100644</span>
<span class="p_header">--- a/drivers/usb/mon/mon_bin.c</span>
<span class="p_header">+++ b/drivers/usb/mon/mon_bin.c</span>
<span class="p_chunk">@@ -1311,7 +1311,7 @@</span> <span class="p_context"> static int mon_alloc_buff(struct mon_pgmap *map, int npages)</span>
 		vaddr = get_zeroed_page(GFP_KERNEL);
 		if (vaddr == 0) {
 			while (n-- != 0)
<span class="p_del">-				free_page((unsigned long) map[n].ptr);</span>
<span class="p_add">+				free_page(map[n].ptr);</span>
 			return -ENOMEM;
 		}
 		map[n].ptr = (unsigned char *) vaddr;
<span class="p_chunk">@@ -1325,7 +1325,7 @@</span> <span class="p_context"> static void mon_free_buff(struct mon_pgmap *map, int npages)</span>
 	int n;
 
 	for (n = 0; n &lt; npages; n++)
<span class="p_del">-		free_page((unsigned long) map[n].ptr);</span>
<span class="p_add">+		free_page(map[n].ptr);</span>
 }
 
 int mon_bin_add(struct mon_bus *mbus, const struct usb_bus *ubus)
<span class="p_header">diff --git a/drivers/usb/serial/usb_wwan.c b/drivers/usb/serial/usb_wwan.c</span>
<span class="p_header">index be9cb61..de9ff1b 100644</span>
<span class="p_header">--- a/drivers/usb/serial/usb_wwan.c</span>
<span class="p_header">+++ b/drivers/usb/serial/usb_wwan.c</span>
<span class="p_chunk">@@ -562,7 +562,7 @@</span> <span class="p_context"> bail_out_error2:</span>
 bail_out_error:
 	for (i = 0; i &lt; N_IN_URB; i++) {
 		usb_free_urb(portdata-&gt;in_urbs[i]);
<span class="p_del">-		free_page((unsigned long)portdata-&gt;in_buffer[i]);</span>
<span class="p_add">+		free_page(portdata-&gt;in_buffer[i]);</span>
 	}
 	kfree(portdata);
 
<span class="p_chunk">@@ -580,7 +580,7 @@</span> <span class="p_context"> int usb_wwan_port_remove(struct usb_serial_port *port)</span>
 
 	for (i = 0; i &lt; N_IN_URB; i++) {
 		usb_free_urb(portdata-&gt;in_urbs[i]);
<span class="p_del">-		free_page((unsigned long)portdata-&gt;in_buffer[i]);</span>
<span class="p_add">+		free_page(portdata-&gt;in_buffer[i]);</span>
 	}
 	for (i = 0; i &lt; N_OUT_URB; i++) {
 		usb_free_urb(portdata-&gt;out_urbs[i]);
<span class="p_header">diff --git a/drivers/uwb/hwa-rc.c b/drivers/uwb/hwa-rc.c</span>
<span class="p_header">index 0257f35..2d3334f 100644</span>
<span class="p_header">--- a/drivers/uwb/hwa-rc.c</span>
<span class="p_header">+++ b/drivers/uwb/hwa-rc.c</span>
<span class="p_chunk">@@ -720,7 +720,7 @@</span> <span class="p_context"> error_neep_submit:</span>
 	usb_free_urb(hwarc-&gt;neep_urb);
 	hwarc-&gt;neep_urb = NULL;
 error_urb_alloc:
<span class="p_del">-	free_page((unsigned long)hwarc-&gt;rd_buffer);</span>
<span class="p_add">+	free_page(hwarc-&gt;rd_buffer);</span>
 	hwarc-&gt;rd_buffer = NULL;
 error_rd_buffer:
 	return -ENOMEM;
<span class="p_chunk">@@ -736,7 +736,7 @@</span> <span class="p_context"> static void hwarc_neep_release(struct uwb_rc *rc)</span>
 	usb_free_urb(hwarc-&gt;neep_urb);
 	hwarc-&gt;neep_urb = NULL;
 
<span class="p_del">-	free_page((unsigned long)hwarc-&gt;rd_buffer);</span>
<span class="p_add">+	free_page(hwarc-&gt;rd_buffer);</span>
 	hwarc-&gt;rd_buffer = NULL;
 }
 
<span class="p_header">diff --git a/drivers/video/fbdev/xen-fbfront.c b/drivers/video/fbdev/xen-fbfront.c</span>
<span class="p_header">index 0567d51..b126f77 100644</span>
<span class="p_header">--- a/drivers/video/fbdev/xen-fbfront.c</span>
<span class="p_header">+++ b/drivers/video/fbdev/xen-fbfront.c</span>
<span class="p_chunk">@@ -529,7 +529,7 @@</span> <span class="p_context"> static int xenfb_remove(struct xenbus_device *dev)</span>
 		fb_dealloc_cmap(&amp;info-&gt;fb_info-&gt;cmap);
 		framebuffer_release(info-&gt;fb_info);
 	}
<span class="p_del">-	free_page((unsigned long)info-&gt;page);</span>
<span class="p_add">+	free_page(info-&gt;page);</span>
 	vfree(info-&gt;gfns);
 	vfree(info-&gt;fb);
 	kfree(info);
<span class="p_header">diff --git a/drivers/xen/events/events_base.c b/drivers/xen/events/events_base.c</span>
<span class="p_header">index 524c221..0fe5889 100644</span>
<span class="p_header">--- a/drivers/xen/events/events_base.c</span>
<span class="p_header">+++ b/drivers/xen/events/events_base.c</span>
<span class="p_chunk">@@ -1693,7 +1693,7 @@</span> <span class="p_context"> void __init xen_init_IRQ(void)</span>
 		rc = HYPERVISOR_physdev_op(PHYSDEVOP_pirq_eoi_gmfn_v2, &amp;eoi_gmfn);
 		/* TODO: No PVH support for PIRQ EOI */
 		if (rc != 0) {
<span class="p_del">-			free_page((unsigned long) pirq_eoi_map);</span>
<span class="p_add">+			free_page(pirq_eoi_map);</span>
 			pirq_eoi_map = NULL;
 		} else
 			pirq_needs_eoi = pirq_check_eoi_map;
<span class="p_header">diff --git a/drivers/xen/events/events_fifo.c b/drivers/xen/events/events_fifo.c</span>
<span class="p_header">index e3e9e3d..722c2a0 100644</span>
<span class="p_header">--- a/drivers/xen/events/events_fifo.c</span>
<span class="p_header">+++ b/drivers/xen/events/events_fifo.c</span>
<span class="p_chunk">@@ -125,7 +125,7 @@</span> <span class="p_context"> static void free_unused_array_pages(void)</span>
 	for (i = event_array_pages; i &lt; MAX_EVENT_ARRAY_PAGES; i++) {
 		if (!event_array[i])
 			break;
<span class="p_del">-		free_page((unsigned long)event_array[i]);</span>
<span class="p_add">+		free_page(event_array[i]);</span>
 		event_array[i] = NULL;
 	}
 }
<span class="p_chunk">@@ -353,7 +353,7 @@</span> <span class="p_context"> static void evtchn_fifo_resume(void)</span>
 		 * used.
 		 */
 		if (!cpu_online(cpu)) {
<span class="p_del">-			free_page((unsigned long)control_block);</span>
<span class="p_add">+			free_page(control_block);</span>
 			per_cpu(cpu_control_block, cpu) = NULL;
 			continue;
 		}
<span class="p_chunk">@@ -404,7 +404,7 @@</span> <span class="p_context"> static int evtchn_fifo_alloc_control_block(unsigned cpu)</span>
 	return 0;
 
   error:
<span class="p_del">-	free_page((unsigned long)control_block);</span>
<span class="p_add">+	free_page(control_block);</span>
 	return ret;
 }
 
<span class="p_header">diff --git a/drivers/xen/evtchn.c b/drivers/xen/evtchn.c</span>
<span class="p_header">index 38272ad..bcd5f54 100644</span>
<span class="p_header">--- a/drivers/xen/evtchn.c</span>
<span class="p_header">+++ b/drivers/xen/evtchn.c</span>
<span class="p_chunk">@@ -308,7 +308,7 @@</span> <span class="p_context"> static ssize_t evtchn_write(struct file *file, const char __user *buf,</span>
 	rc = count;
 
  out:
<span class="p_del">-	free_page((unsigned long)kbuf);</span>
<span class="p_add">+	free_page(kbuf);</span>
 	return rc;
 }
 
<span class="p_header">diff --git a/drivers/xen/grant-table.c b/drivers/xen/grant-table.c</span>
<span class="p_header">index c49f79ed..1189c13 100644</span>
<span class="p_header">--- a/drivers/xen/grant-table.c</span>
<span class="p_header">+++ b/drivers/xen/grant-table.c</span>
<span class="p_chunk">@@ -384,7 +384,7 @@</span> <span class="p_context"> void gnttab_end_foreign_access(grant_ref_t ref, int readonly,</span>
 	if (gnttab_end_foreign_access_ref(ref, readonly)) {
 		put_free_entry(ref);
 		if (page != 0)
<span class="p_del">-			free_page(page);</span>
<span class="p_add">+			free_page((void *)page);</span>
 	} else
 		gnttab_add_deferred(ref, readonly,
 				    page ? virt_to_page(page) : NULL);
<span class="p_chunk">@@ -599,7 +599,7 @@</span> <span class="p_context"> static int grow_gnttab_list(unsigned int more_frames)</span>
 
 grow_nomem:
 	while (i-- &gt; nr_glist_frames)
<span class="p_del">-		free_page((unsigned long) gnttab_list[i]);</span>
<span class="p_add">+		free_page(gnttab_list[i]);</span>
 	return -ENOMEM;
 }
 
<span class="p_chunk">@@ -1139,7 +1139,7 @@</span> <span class="p_context"> int gnttab_init(void)</span>
 
  ini_nomem:
 	for (i--; i &gt;= 0; i--)
<span class="p_del">-		free_page((unsigned long)gnttab_list[i]);</span>
<span class="p_add">+		free_page(gnttab_list[i]);</span>
 	kfree(gnttab_list);
 	return ret;
 }
<span class="p_header">diff --git a/drivers/xen/xenbus/xenbus_probe.c b/drivers/xen/xenbus/xenbus_probe.c</span>
<span class="p_header">index 33a31cf..43eae6a 100644</span>
<span class="p_header">--- a/drivers/xen/xenbus/xenbus_probe.c</span>
<span class="p_header">+++ b/drivers/xen/xenbus/xenbus_probe.c</span>
<span class="p_chunk">@@ -730,7 +730,7 @@</span> <span class="p_context"> static int __init xenstored_local_init(void)</span>
 
  out_err:
 	if (page != 0)
<span class="p_del">-		free_page(page);</span>
<span class="p_add">+		free_page((void *)page);</span>
 	return err;
 }
 
<span class="p_header">diff --git a/fs/affs/inode.c b/fs/affs/inode.c</span>
<span class="p_header">index 1734950..dcfa753 100644</span>
<span class="p_header">--- a/fs/affs/inode.c</span>
<span class="p_header">+++ b/fs/affs/inode.c</span>
<span class="p_chunk">@@ -274,7 +274,7 @@</span> <span class="p_context"> affs_evict_inode(struct inode *inode)</span>
 		pr_debug(&quot;freeing ext cache\n&quot;);
 		AFFS_I(inode)-&gt;i_lc = NULL;
 		AFFS_I(inode)-&gt;i_ac = NULL;
<span class="p_del">-		free_page(cache_page);</span>
<span class="p_add">+		free_page((void *)cache_page);</span>
 	}
 	affs_brelse(AFFS_I(inode)-&gt;i_ext_bh);
 	AFFS_I(inode)-&gt;i_ext_last = ~1;
<span class="p_header">diff --git a/fs/afs/mntpt.c b/fs/afs/mntpt.c</span>
<span class="p_header">index ccd0b21..f077aee 100644</span>
<span class="p_header">--- a/fs/afs/mntpt.c</span>
<span class="p_header">+++ b/fs/afs/mntpt.c</span>
<span class="p_chunk">@@ -205,17 +205,17 @@</span> <span class="p_context"> static struct vfsmount *afs_mntpt_do_automount(struct dentry *mntpt)</span>
 	mnt = vfs_kern_mount(&amp;afs_fs_type, 0, devname, options);
 	_debug(&quot;--- mount result %p ---&quot;, mnt);
 
<span class="p_del">-	free_page((unsigned long) devname);</span>
<span class="p_del">-	free_page((unsigned long) options);</span>
<span class="p_add">+	free_page(devname);</span>
<span class="p_add">+	free_page(options);</span>
 	_leave(&quot; = %p&quot;, mnt);
 	return mnt;
 
 error:
 	page_cache_release(page);
 error_no_page:
<span class="p_del">-	free_page((unsigned long) options);</span>
<span class="p_add">+	free_page(options);</span>
 error_no_options:
<span class="p_del">-	free_page((unsigned long) devname);</span>
<span class="p_add">+	free_page(devname);</span>
 error_no_devname:
 	_leave(&quot; = %d&quot;, ret);
 	return ERR_PTR(ret);
<span class="p_header">diff --git a/fs/bfs/inode.c b/fs/bfs/inode.c</span>
<span class="p_header">index fdcb4d6..590b7bb 100644</span>
<span class="p_header">--- a/fs/bfs/inode.c</span>
<span class="p_header">+++ b/fs/bfs/inode.c</span>
<span class="p_chunk">@@ -313,7 +313,7 @@</span> <span class="p_context"> void bfs_dump_imap(const char *prefix, struct super_block *s)</span>
 	}
 	printf(&quot;BFS-fs: %s: lasti=%08lx &lt;%s&gt;\n&quot;,
 				prefix, BFS_SB(s)-&gt;si_lasti, tmpbuf);
<span class="p_del">-	free_page((unsigned long)tmpbuf);</span>
<span class="p_add">+	free_page(tmpbuf);</span>
 #endif
 }
 
<span class="p_header">diff --git a/fs/binfmt_misc.c b/fs/binfmt_misc.c</span>
<span class="p_header">index 78f005f..a7ab050 100644</span>
<span class="p_header">--- a/fs/binfmt_misc.c</span>
<span class="p_header">+++ b/fs/binfmt_misc.c</span>
<span class="p_chunk">@@ -615,7 +615,7 @@</span> <span class="p_context"> bm_entry_read(struct file *file, char __user *buf, size_t nbytes, loff_t *ppos)</span>
 
 	res = simple_read_from_buffer(buf, nbytes, ppos, page, strlen(page));
 
<span class="p_del">-	free_page((unsigned long) page);</span>
<span class="p_add">+	free_page(page);</span>
 	return res;
 }
 
<span class="p_header">diff --git a/fs/compat.c b/fs/compat.c</span>
<span class="p_header">index 6fd272d..c4708ae 100644</span>
<span class="p_header">--- a/fs/compat.c</span>
<span class="p_header">+++ b/fs/compat.c</span>
<span class="p_chunk">@@ -825,7 +825,7 @@</span> <span class="p_context"> COMPAT_SYSCALL_DEFINE5(mount, const char __user *, dev_name,</span>
 			flags, (void*)data_page);
 
  out3:
<span class="p_del">-	free_page(data_page);</span>
<span class="p_add">+	free_page((void *)data_page);</span>
  out2:
 	kfree(kernel_dev);
  out1:
<span class="p_header">diff --git a/fs/configfs/file.c b/fs/configfs/file.c</span>
<span class="p_header">index d39099e..c4a3c5c 100644</span>
<span class="p_header">--- a/fs/configfs/file.c</span>
<span class="p_header">+++ b/fs/configfs/file.c</span>
<span class="p_chunk">@@ -296,7 +296,7 @@</span> <span class="p_context"> static int configfs_release(struct inode * inode, struct file * filp)</span>
 
 	if (buffer) {
 		if (buffer-&gt;page)
<span class="p_del">-			free_page((unsigned long)buffer-&gt;page);</span>
<span class="p_add">+			free_page(buffer-&gt;page);</span>
 		mutex_destroy(&amp;buffer-&gt;mutex);
 		kfree(buffer);
 	}
<span class="p_header">diff --git a/fs/configfs/symlink.c b/fs/configfs/symlink.c</span>
<span class="p_header">index ec5c832..a04bf59 100644</span>
<span class="p_header">--- a/fs/configfs/symlink.c</span>
<span class="p_header">+++ b/fs/configfs/symlink.c</span>
<span class="p_chunk">@@ -292,7 +292,7 @@</span> <span class="p_context"> static const char *configfs_follow_link(struct dentry *dentry, void **cookie)</span>
 		return *cookie = (void *)page;
 	}
 
<span class="p_del">-	free_page(page);</span>
<span class="p_add">+	free_page((void *)page);</span>
 	return ERR_PTR(error);
 }
 
<span class="p_header">diff --git a/fs/ext4/super.c b/fs/ext4/super.c</span>
<span class="p_header">index c9ab67d..f785c13 100644</span>
<span class="p_header">--- a/fs/ext4/super.c</span>
<span class="p_header">+++ b/fs/ext4/super.c</span>
<span class="p_chunk">@@ -3064,7 +3064,7 @@</span> <span class="p_context"> int ext4_calculate_overhead(struct super_block *sb)</span>
 
 	sbi-&gt;s_overhead = overhead;
 	smp_wmb();
<span class="p_del">-	free_page((unsigned long) buf);</span>
<span class="p_add">+	free_page(buf);</span>
 	return 0;
 }
 
<span class="p_header">diff --git a/fs/fuse/dir.c b/fs/fuse/dir.c</span>
<span class="p_header">index 5e2e087..37b4ae3 100644</span>
<span class="p_header">--- a/fs/fuse/dir.c</span>
<span class="p_header">+++ b/fs/fuse/dir.c</span>
<span class="p_chunk">@@ -1385,7 +1385,7 @@</span> <span class="p_context"> static const char *fuse_follow_link(struct dentry *dentry, void **cookie)</span>
 	args.out.args[0].value = link;
 	ret = fuse_simple_request(fc, &amp;args);
 	if (ret &lt; 0) {
<span class="p_del">-		free_page((unsigned long) link);</span>
<span class="p_add">+		free_page(link);</span>
 		link = ERR_PTR(ret);
 	} else {
 		link[ret] = &#39;\0&#39;;
<span class="p_header">diff --git a/fs/fuse/file.c b/fs/fuse/file.c</span>
<span class="p_header">index 570ca40..a07709b 100644</span>
<span class="p_header">--- a/fs/fuse/file.c</span>
<span class="p_header">+++ b/fs/fuse/file.c</span>
<span class="p_chunk">@@ -2599,7 +2599,7 @@</span> <span class="p_context"> long fuse_do_ioctl(struct file *file, unsigned int cmd, unsigned long arg,</span>
  out:
 	if (req)
 		fuse_put_request(fc, req);
<span class="p_del">-	free_page((unsigned long) iov_page);</span>
<span class="p_add">+	free_page(iov_page);</span>
 	while (num_pages)
 		__free_page(pages[--num_pages]);
 	kfree(pages);
<span class="p_header">diff --git a/fs/isofs/dir.c b/fs/isofs/dir.c</span>
<span class="p_header">index b943cbd..2d495b5 100644</span>
<span class="p_header">--- a/fs/isofs/dir.c</span>
<span class="p_header">+++ b/fs/isofs/dir.c</span>
<span class="p_chunk">@@ -261,7 +261,7 @@</span> <span class="p_context"> static int isofs_readdir(struct file *file, struct dir_context *ctx)</span>
 
 	result = do_isofs_readdir(inode, file, ctx, tmpname, tmpde);
 
<span class="p_del">-	free_page((unsigned long) tmpname);</span>
<span class="p_add">+	free_page(tmpname);</span>
 	return result;
 }
 
<span class="p_header">diff --git a/fs/jfs/jfs_dtree.c b/fs/jfs/jfs_dtree.c</span>
<span class="p_header">index d88576e..e585852 100644</span>
<span class="p_header">--- a/fs/jfs/jfs_dtree.c</span>
<span class="p_header">+++ b/fs/jfs/jfs_dtree.c</span>
<span class="p_chunk">@@ -3324,13 +3324,13 @@</span> <span class="p_context"> skip_one:</span>
 
 		DT_GETPAGE(ip, bn, mp, PSIZE, p, rc);
 		if (rc) {
<span class="p_del">-			free_page(dirent_buf);</span>
<span class="p_add">+			free_page((void *)dirent_buf);</span>
 			return rc;
 		}
 	}
 
       out:
<span class="p_del">-	free_page(dirent_buf);</span>
<span class="p_add">+	free_page((void *)dirent_buf);</span>
 
 	return rc;
 }
<span class="p_header">diff --git a/fs/jfs/jfs_logmgr.c b/fs/jfs/jfs_logmgr.c</span>
<span class="p_header">index a69bdf2..f635c17 100644</span>
<span class="p_header">--- a/fs/jfs/jfs_logmgr.c</span>
<span class="p_header">+++ b/fs/jfs/jfs_logmgr.c</span>
<span class="p_chunk">@@ -1845,7 +1845,7 @@</span> <span class="p_context"> static int lbmLogInit(struct jfs_log * log)</span>
 			lbuf = kmalloc(sizeof(struct lbuf), GFP_KERNEL);
 			if (lbuf == NULL) {
 				if (offset == 0)
<span class="p_del">-					free_page((unsigned long) buffer);</span>
<span class="p_add">+					free_page(buffer);</span>
 				goto error;
 			}
 			if (offset) /* we already have one reference */
<span class="p_header">diff --git a/fs/kernfs/symlink.c b/fs/kernfs/symlink.c</span>
<span class="p_header">index db27252..e98d520 100644</span>
<span class="p_header">--- a/fs/kernfs/symlink.c</span>
<span class="p_header">+++ b/fs/kernfs/symlink.c</span>
<span class="p_chunk">@@ -120,7 +120,7 @@</span> <span class="p_context"> static const char *kernfs_iop_follow_link(struct dentry *dentry, void **cookie)</span>
 		return ERR_PTR(-ENOMEM);
 	error = kernfs_getlink(dentry, (char *)page);
 	if (unlikely(error &lt; 0)) {
<span class="p_del">-		free_page((unsigned long)page);</span>
<span class="p_add">+		free_page((void *)page);</span>
 		return ERR_PTR(error);
 	}
 	return *cookie = (char *)page;
<span class="p_header">diff --git a/fs/libfs.c b/fs/libfs.c</span>
<span class="p_header">index c7cbfb0..1a790b9 100644</span>
<span class="p_header">--- a/fs/libfs.c</span>
<span class="p_header">+++ b/fs/libfs.c</span>
<span class="p_chunk">@@ -709,7 +709,7 @@</span> <span class="p_context"> char *simple_transaction_get(struct file *file, const char __user *buf, size_t s</span>
 	/* only one write allowed per open */
 	if (file-&gt;private_data) {
 		spin_unlock(&amp;simple_transaction_lock);
<span class="p_del">-		free_page((unsigned long)ar);</span>
<span class="p_add">+		free_page(ar);</span>
 		return ERR_PTR(-EBUSY);
 	}
 
<span class="p_chunk">@@ -736,7 +736,7 @@</span> <span class="p_context"> EXPORT_SYMBOL(simple_transaction_read);</span>
 
 int simple_transaction_release(struct inode *inode, struct file *file)
 {
<span class="p_del">-	free_page((unsigned long)file-&gt;private_data);</span>
<span class="p_add">+	free_page(file-&gt;private_data);</span>
 	return 0;
 }
 EXPORT_SYMBOL(simple_transaction_release);
<span class="p_chunk">@@ -1027,7 +1027,7 @@</span> <span class="p_context"> EXPORT_SYMBOL(kfree_put_link);</span>
 
 void free_page_put_link(struct inode *unused, void *cookie)
 {
<span class="p_del">-	free_page((unsigned long) cookie);</span>
<span class="p_add">+	free_page(cookie);</span>
 }
 EXPORT_SYMBOL(free_page_put_link);
 
<span class="p_header">diff --git a/fs/namespace.c b/fs/namespace.c</span>
<span class="p_header">index 0570729..55df421 100644</span>
<span class="p_header">--- a/fs/namespace.c</span>
<span class="p_header">+++ b/fs/namespace.c</span>
<span class="p_chunk">@@ -2625,7 +2625,7 @@</span> <span class="p_context"> int copy_mount_options(const void __user * data, unsigned long *where)</span>
 
 	i = size - exact_copy_from_user((void *)page, data, size);
 	if (!i) {
<span class="p_del">-		free_page(page);</span>
<span class="p_add">+		free_page((void *)page);</span>
 		return -EFAULT;
 	}
 	if (i != PAGE_SIZE)
<span class="p_chunk">@@ -2915,7 +2915,7 @@</span> <span class="p_context"> SYSCALL_DEFINE5(mount, char __user *, dev_name, char __user *, dir_name,</span>
 	ret = do_mount(kernel_dev, dir_name, kernel_type, flags,
 		(void *) data_page);
 
<span class="p_del">-	free_page(data_page);</span>
<span class="p_add">+	free_page((void *)data_page);</span>
 out_data:
 	kfree(kernel_dev);
 out_dev:
<span class="p_header">diff --git a/fs/nfs/namespace.c b/fs/nfs/namespace.c</span>
<span class="p_header">index c8162c6..faa1ce5 100644</span>
<span class="p_header">--- a/fs/nfs/namespace.c</span>
<span class="p_header">+++ b/fs/nfs/namespace.c</span>
<span class="p_chunk">@@ -263,7 +263,7 @@</span> <span class="p_context"> struct vfsmount *nfs_do_submount(struct dentry *dentry, struct nfs_fh *fh,</span>
 		goto free_page;
 	mnt = nfs_do_clone_mount(NFS_SB(dentry-&gt;d_sb), devname, &amp;mountdata);
 free_page:
<span class="p_del">-	free_page((unsigned long)page);</span>
<span class="p_add">+	free_page(page);</span>
 out:
 	dprintk(&quot;%s: done\n&quot;, __func__);
 
<span class="p_header">diff --git a/fs/nfs/nfs4namespace.c b/fs/nfs/nfs4namespace.c</span>
<span class="p_header">index f592672..82b1537 100644</span>
<span class="p_header">--- a/fs/nfs/nfs4namespace.c</span>
<span class="p_header">+++ b/fs/nfs/nfs4namespace.c</span>
<span class="p_chunk">@@ -338,8 +338,8 @@</span> <span class="p_context"> static struct vfsmount *nfs_follow_referral(struct dentry *dentry,</span>
 	}
 
 out:
<span class="p_del">-	free_page((unsigned long) page);</span>
<span class="p_del">-	free_page((unsigned long) page2);</span>
<span class="p_add">+	free_page(page);</span>
<span class="p_add">+	free_page(page2);</span>
 	dprintk(&quot;%s: done\n&quot;, __func__);
 	return mnt;
 }
<span class="p_chunk">@@ -517,7 +517,7 @@</span> <span class="p_context"> int nfs4_replace_transport(struct nfs_server *server,</span>
 	}
 
 out:
<span class="p_del">-	free_page((unsigned long)page);</span>
<span class="p_del">-	free_page((unsigned long)page2);</span>
<span class="p_add">+	free_page(page);</span>
<span class="p_add">+	free_page(page2);</span>
 	return error;
 }
<span class="p_header">diff --git a/fs/nfs/super.c b/fs/nfs/super.c</span>
<span class="p_header">index f126828..ba0ad91 100644</span>
<span class="p_header">--- a/fs/nfs/super.c</span>
<span class="p_header">+++ b/fs/nfs/super.c</span>
<span class="p_chunk">@@ -789,7 +789,7 @@</span> <span class="p_context"> int nfs_show_devname(struct seq_file *m, struct dentry *root)</span>
 		err = PTR_ERR(devname);
 	else
 		seq_escape(m, devname, &quot; \t\n\\&quot;);
<span class="p_del">-	free_page((unsigned long)page);</span>
<span class="p_add">+	free_page(page);</span>
 	return err;
 }
 EXPORT_SYMBOL_GPL(nfs_show_devname);
<span class="p_header">diff --git a/fs/nfsd/vfs.c b/fs/nfsd/vfs.c</span>
<span class="p_header">index 994d66f..e9df47b 100644</span>
<span class="p_header">--- a/fs/nfsd/vfs.c</span>
<span class="p_header">+++ b/fs/nfsd/vfs.c</span>
<span class="p_chunk">@@ -1860,7 +1860,7 @@</span> <span class="p_context"> static __be32 nfsd_buffered_readdir(struct file *file, nfsd_filldir_t func,</span>
 		offset = vfs_llseek(file, 0, SEEK_CUR);
 	}
 
<span class="p_del">-	free_page((unsigned long)(buf.dirent));</span>
<span class="p_add">+	free_page(buf.dirent);</span>
 
 	if (host_err)
 		return nfserrno(host_err);
<span class="p_header">diff --git a/fs/ocfs2/dlm/dlmdebug.c b/fs/ocfs2/dlm/dlmdebug.c</span>
<span class="p_header">index 8251360..f172c20 100644</span>
<span class="p_header">--- a/fs/ocfs2/dlm/dlmdebug.c</span>
<span class="p_header">+++ b/fs/ocfs2/dlm/dlmdebug.c</span>
<span class="p_chunk">@@ -332,7 +332,7 @@</span> <span class="p_context"> void dlm_print_one_mle(struct dlm_master_list_entry *mle)</span>
 	buf = (char *) get_zeroed_page(GFP_NOFS);
 	if (buf) {
 		dump_mle(mle, buf, PAGE_SIZE - 1);
<span class="p_del">-		free_page((unsigned long)buf);</span>
<span class="p_add">+		free_page(buf);</span>
 	}
 }
 
<span class="p_chunk">@@ -369,7 +369,7 @@</span> <span class="p_context"> static void dlm_debug_get(struct dlm_debug_ctxt *dc)</span>
 
 static int debug_release(struct inode *inode, struct file *file)
 {
<span class="p_del">-	free_page((unsigned long)file-&gt;private_data);</span>
<span class="p_add">+	free_page(file-&gt;private_data);</span>
 	return 0;
 }
 
<span class="p_header">diff --git a/fs/ocfs2/dlm/dlmdomain.c b/fs/ocfs2/dlm/dlmdomain.c</span>
<span class="p_header">index 2ee7fe7..841d822 100644</span>
<span class="p_header">--- a/fs/ocfs2/dlm/dlmdomain.c</span>
<span class="p_header">+++ b/fs/ocfs2/dlm/dlmdomain.c</span>
<span class="p_chunk">@@ -79,7 +79,7 @@</span> <span class="p_context"> static inline void byte_copymap(u8 dmap[], unsigned long smap[],</span>
 static void dlm_free_pagevec(void **vec, int pages)
 {
 	while (pages--)
<span class="p_del">-		free_page((unsigned long)vec[pages]);</span>
<span class="p_add">+		free_page(vec[pages]);</span>
 	kfree(vec);
 }
 
<span class="p_header">diff --git a/fs/ocfs2/dlm/dlmmaster.c b/fs/ocfs2/dlm/dlmmaster.c</span>
<span class="p_header">index ce38b4c..a0edd7e 100644</span>
<span class="p_header">--- a/fs/ocfs2/dlm/dlmmaster.c</span>
<span class="p_header">+++ b/fs/ocfs2/dlm/dlmmaster.c</span>
<span class="p_chunk">@@ -2679,7 +2679,7 @@</span> <span class="p_context"> leave:</span>
 		wake_up(&amp;res-&gt;wq);
 
 	if (mres)
<span class="p_del">-		free_page((unsigned long)mres);</span>
<span class="p_add">+		free_page(mres);</span>
 
 	dlm_put(dlm);
 
<span class="p_header">diff --git a/fs/ocfs2/dlm/dlmrecovery.c b/fs/ocfs2/dlm/dlmrecovery.c</span>
<span class="p_header">index 9e4f862..7368158 100644</span>
<span class="p_header">--- a/fs/ocfs2/dlm/dlmrecovery.c</span>
<span class="p_header">+++ b/fs/ocfs2/dlm/dlmrecovery.c</span>
<span class="p_chunk">@@ -952,7 +952,7 @@</span> <span class="p_context"> static void dlm_request_all_locks_worker(struct dlm_work_item *item, void *data)</span>
 		}
 	}
 leave:
<span class="p_del">-	free_page((unsigned long)data);</span>
<span class="p_add">+	free_page(data);</span>
 }
 
 
<span class="p_header">diff --git a/fs/overlayfs/copy_up.c b/fs/overlayfs/copy_up.c</span>
<span class="p_header">index 0a89834..b3f1da5 100644</span>
<span class="p_header">--- a/fs/overlayfs/copy_up.c</span>
<span class="p_header">+++ b/fs/overlayfs/copy_up.c</span>
<span class="p_chunk">@@ -145,7 +145,7 @@</span> <span class="p_context"> static char *ovl_read_symlink(struct dentry *realdentry)</span>
 				    (char __user *)buf, PAGE_SIZE - 1);
 	set_fs(old_fs);
 	if (res &lt; 0) {
<span class="p_del">-		free_page((unsigned long) buf);</span>
<span class="p_add">+		free_page(buf);</span>
 		goto err;
 	}
 	buf[res] = &#39;\0&#39;;
<span class="p_chunk">@@ -359,7 +359,7 @@</span> <span class="p_context"> out_unlock:</span>
 
 out_free_link:
 	if (link)
<span class="p_del">-		free_page((unsigned long) link);</span>
<span class="p_add">+		free_page(link);</span>
 
 	return err;
 }
<span class="p_header">diff --git a/fs/proc/base.c b/fs/proc/base.c</span>
<span class="p_header">index bd3e9e6..a9828e5 100644</span>
<span class="p_header">--- a/fs/proc/base.c</span>
<span class="p_header">+++ b/fs/proc/base.c</span>
<span class="p_chunk">@@ -387,7 +387,7 @@</span> <span class="p_context"> skip_argv_envp:</span>
 	}
 
 out_free_page:
<span class="p_del">-	free_page((unsigned long)page);</span>
<span class="p_add">+	free_page(page);</span>
 out_mmput:
 	mmput(mm);
 	if (rv &gt; 0)
<span class="p_chunk">@@ -892,7 +892,7 @@</span> <span class="p_context"> static ssize_t mem_rw(struct file *file, char __user *buf,</span>
 
 	mmput(mm);
 free:
<span class="p_del">-	free_page((unsigned long) page);</span>
<span class="p_add">+	free_page(page);</span>
 	return copied;
 }
 
<span class="p_chunk">@@ -997,7 +997,7 @@</span> <span class="p_context"> static ssize_t environ_read(struct file *file, char __user *buf,</span>
 	mmput(mm);
 
 free:
<span class="p_del">-	free_page((unsigned long) page);</span>
<span class="p_add">+	free_page(page);</span>
 	return ret;
 }
 
<span class="p_chunk">@@ -1604,7 +1604,7 @@</span> <span class="p_context"> static int do_proc_readlink(struct path *path, char __user *buffer, int buflen)</span>
 	if (copy_to_user(buffer, pathname, len))
 		len = -EFAULT;
  out:
<span class="p_del">-	free_page((unsigned long)tmp);</span>
<span class="p_add">+	free_page(tmp);</span>
 	return len;
 }
 
<span class="p_chunk">@@ -2393,7 +2393,7 @@</span> <span class="p_context"> static ssize_t proc_pid_attr_write(struct file * file, const char __user * buf,</span>
 				      (void*)page, count);
 	mutex_unlock(&amp;task-&gt;signal-&gt;cred_guard_mutex);
 out_free:
<span class="p_del">-	free_page((unsigned long) page);</span>
<span class="p_add">+	free_page(page);</span>
 out:
 	put_task_struct(task);
 out_no_task:
<span class="p_header">diff --git a/fs/select.c b/fs/select.c</span>
<span class="p_header">index 0155473..6acb0ae 100644</span>
<span class="p_header">--- a/fs/select.c</span>
<span class="p_header">+++ b/fs/select.c</span>
<span class="p_chunk">@@ -150,7 +150,7 @@</span> <span class="p_context"> void poll_freewait(struct poll_wqueues *pwq)</span>
 		} while (entry &gt; p-&gt;entries);
 		old = p;
 		p = p-&gt;next;
<span class="p_del">-		free_page((unsigned long) old);</span>
<span class="p_add">+		free_page(old);</span>
 	}
 }
 EXPORT_SYMBOL(poll_freewait);
<span class="p_header">diff --git a/include/asm-generic/page.h b/include/asm-generic/page.h</span>
<span class="p_header">index 37d1fe2..6c731ec 100644</span>
<span class="p_header">--- a/include/asm-generic/page.h</span>
<span class="p_header">+++ b/include/asm-generic/page.h</span>
<span class="p_chunk">@@ -25,7 +25,7 @@</span> <span class="p_context"></span>
 #ifndef __ASSEMBLY__
 
 #define get_user_page(vaddr)		__get_free_page(GFP_KERNEL)
<span class="p_del">-#define free_user_page(page, addr)	free_page(addr)</span>
<span class="p_add">+#define free_user_page(page, addr)	free_page((void *)addr)</span>
 
 #define clear_page(page)	memset((page), 0, PAGE_SIZE)
 #define copy_page(to,from)	memcpy((to), (from), PAGE_SIZE)
<span class="p_header">diff --git a/include/linux/gfp.h b/include/linux/gfp.h</span>
<span class="p_header">index 8942af0..54c6efd 100644</span>
<span class="p_header">--- a/include/linux/gfp.h</span>
<span class="p_header">+++ b/include/linux/gfp.h</span>
<span class="p_chunk">@@ -500,7 +500,7 @@</span> <span class="p_context"> extern void __free_kmem_pages(struct page *page, unsigned int order);</span>
 extern void free_kmem_pages(unsigned long addr, unsigned int order);
 
 #define __free_page(page) __free_pages((page), 0)
<span class="p_del">-#define free_page(addr) free_pages((addr), 0)</span>
<span class="p_add">+#define free_page(addr) free_pages((unsigned long)(addr), 0)</span>
 
 void page_alloc_init(void);
 void drain_zone_pages(struct zone *zone, struct per_cpu_pages *pcp);
<span class="p_header">diff --git a/include/linux/security.h b/include/linux/security.h</span>
<span class="p_header">index 2f4c1f7..c1ad479 100644</span>
<span class="p_header">--- a/include/linux/security.h</span>
<span class="p_header">+++ b/include/linux/security.h</span>
<span class="p_chunk">@@ -1623,7 +1623,7 @@</span> <span class="p_context"> static inline char *alloc_secdata(void)</span>
 
 static inline void free_secdata(void *secdata)
 {
<span class="p_del">-	free_page((unsigned long)secdata);</span>
<span class="p_add">+	free_page(secdata);</span>
 }
 
 #else
<span class="p_header">diff --git a/kernel/events/ring_buffer.c b/kernel/events/ring_buffer.c</span>
<span class="p_header">index adfdc05..825c4724 100644</span>
<span class="p_header">--- a/kernel/events/ring_buffer.c</span>
<span class="p_header">+++ b/kernel/events/ring_buffer.c</span>
<span class="p_chunk">@@ -650,9 +650,9 @@</span> <span class="p_context"> struct ring_buffer *rb_alloc(int nr_pages, long watermark, int cpu, int flags)</span>
 
 fail_data_pages:
 	for (i--; i &gt;= 0; i--)
<span class="p_del">-		free_page((unsigned long)rb-&gt;data_pages[i]);</span>
<span class="p_add">+		free_page(rb-&gt;data_pages[i]);</span>
 
<span class="p_del">-	free_page((unsigned long)rb-&gt;user_page);</span>
<span class="p_add">+	free_page(rb-&gt;user_page);</span>
 
 fail_user_page:
 	kfree(rb);
<span class="p_header">diff --git a/kernel/groups.c b/kernel/groups.c</span>
<span class="p_header">index 74d431d..88f7e1a8 100644</span>
<span class="p_header">--- a/kernel/groups.c</span>
<span class="p_header">+++ b/kernel/groups.c</span>
<span class="p_chunk">@@ -40,7 +40,7 @@</span> <span class="p_context"> struct group_info *groups_alloc(int gidsetsize)</span>
 
 out_undo_partial_alloc:
 	while (--i &gt;= 0) {
<span class="p_del">-		free_page((unsigned long)group_info-&gt;blocks[i]);</span>
<span class="p_add">+		free_page(group_info-&gt;blocks[i]);</span>
 	}
 	kfree(group_info);
 	return NULL;
<span class="p_chunk">@@ -53,7 +53,7 @@</span> <span class="p_context"> void groups_free(struct group_info *group_info)</span>
 	if (group_info-&gt;blocks[0] != group_info-&gt;small_block) {
 		int i;
 		for (i = 0; i &lt; group_info-&gt;nblocks; i++)
<span class="p_del">-			free_page((unsigned long)group_info-&gt;blocks[i]);</span>
<span class="p_add">+			free_page(group_info-&gt;blocks[i]);</span>
 	}
 	kfree(group_info);
 }
<span class="p_header">diff --git a/kernel/power/swap.c b/kernel/power/swap.c</span>
<span class="p_header">index 12cd989..5bbe897 100644</span>
<span class="p_header">--- a/kernel/power/swap.c</span>
<span class="p_header">+++ b/kernel/power/swap.c</span>
<span class="p_chunk">@@ -384,7 +384,7 @@</span> <span class="p_context"> static int write_page(void *buf, sector_t offset, struct hib_bio_batch *hb)</span>
 static void release_swap_writer(struct swap_map_handle *handle)
 {
 	if (handle-&gt;cur)
<span class="p_del">-		free_page((unsigned long)handle-&gt;cur);</span>
<span class="p_add">+		free_page(handle-&gt;cur);</span>
 	handle-&gt;cur = NULL;
 }
 
<span class="p_chunk">@@ -853,7 +853,7 @@</span> <span class="p_context"> out_clean:</span>
 				kthread_stop(data[thr].thr);
 		vfree(data);
 	}
<span class="p_del">-	if (page) free_page((unsigned long)page);</span>
<span class="p_add">+	if (page) free_page(page);</span>
 
 	return ret;
 }
<span class="p_chunk">@@ -938,7 +938,7 @@</span> <span class="p_context"> static void release_swap_reader(struct swap_map_handle *handle)</span>
 
 	while (handle-&gt;maps) {
 		if (handle-&gt;maps-&gt;map)
<span class="p_del">-			free_page((unsigned long)handle-&gt;maps-&gt;map);</span>
<span class="p_add">+			free_page(handle-&gt;maps-&gt;map);</span>
 		tmp = handle-&gt;maps;
 		handle-&gt;maps = handle-&gt;maps-&gt;next;
 		kfree(tmp);
<span class="p_chunk">@@ -1010,7 +1010,7 @@</span> <span class="p_context"> static int swap_read_page(struct swap_map_handle *handle, void *buf,</span>
 		return error;
 	if (++handle-&gt;k &gt;= MAP_PAGE_ENTRIES) {
 		handle-&gt;k = 0;
<span class="p_del">-		free_page((unsigned long)handle-&gt;maps-&gt;map);</span>
<span class="p_add">+		free_page(handle-&gt;maps-&gt;map);</span>
 		tmp = handle-&gt;maps;
 		handle-&gt;maps = handle-&gt;maps-&gt;next;
 		kfree(tmp);
<span class="p_chunk">@@ -1440,7 +1440,7 @@</span> <span class="p_context"> out_finish:</span>
 	swsusp_show_speed(start, stop, nr_to_read, &quot;Read&quot;);
 out_clean:
 	for (i = 0; i &lt; ring_size; i++)
<span class="p_del">-		free_page((unsigned long)page[i]);</span>
<span class="p_add">+		free_page(page[i]);</span>
 	if (crc) {
 		if (crc-&gt;thr)
 			kthread_stop(crc-&gt;thr);
<span class="p_header">diff --git a/kernel/sysctl.c b/kernel/sysctl.c</span>
<span class="p_header">index dc6858d..8e9cfe4 100644</span>
<span class="p_header">--- a/kernel/sysctl.c</span>
<span class="p_header">+++ b/kernel/sysctl.c</span>
<span class="p_chunk">@@ -2128,7 +2128,7 @@</span> <span class="p_context"> static int __do_proc_dointvec(void *tbl_data, struct ctl_table *table,</span>
 		left -= proc_skip_spaces(&amp;kbuf);
 free:
 	if (write) {
<span class="p_del">-		free_page(page);</span>
<span class="p_add">+		free_page((void *)page);</span>
 		if (first)
 			return err ? : -EINVAL;
 	}
<span class="p_chunk">@@ -2388,7 +2388,7 @@</span> <span class="p_context"> static int __do_proc_doulongvec_minmax(void *data, struct ctl_table *table, int</span>
 		left -= proc_skip_spaces(&amp;kbuf);
 free:
 	if (write) {
<span class="p_del">-		free_page(page);</span>
<span class="p_add">+		free_page((void *)page);</span>
 		if (first)
 			return err ? : -EINVAL;
 	}
<span class="p_chunk">@@ -2661,7 +2661,7 @@</span> <span class="p_context"> int proc_do_large_bitmap(struct ctl_table *table, int write,</span>
 		if (!kbuf)
 			return -ENOMEM;
 		if (copy_from_user(kbuf, buffer, left)) {
<span class="p_del">-			free_page(page);</span>
<span class="p_add">+			free_page((void *)page);</span>
 			return -EFAULT;
                 }
 		kbuf[left] = 0;
<span class="p_chunk">@@ -2669,7 +2669,7 @@</span> <span class="p_context"> int proc_do_large_bitmap(struct ctl_table *table, int write,</span>
 		tmp_bitmap = kzalloc(BITS_TO_LONGS(bitmap_len) * sizeof(unsigned long),
 				     GFP_KERNEL);
 		if (!tmp_bitmap) {
<span class="p_del">-			free_page(page);</span>
<span class="p_add">+			free_page((void *)page);</span>
 			return -ENOMEM;
 		}
 		proc_skip_char(&amp;kbuf, &amp;left, &#39;\n&#39;);
<span class="p_chunk">@@ -2713,7 +2713,7 @@</span> <span class="p_context"> int proc_do_large_bitmap(struct ctl_table *table, int write,</span>
 			first = 0;
 			proc_skip_char(&amp;kbuf, &amp;left, &#39;\n&#39;);
 		}
<span class="p_del">-		free_page(page);</span>
<span class="p_add">+		free_page((void *)page);</span>
 	} else {
 		unsigned long bit_a, bit_b = 0;
 
<span class="p_header">diff --git a/kernel/trace/ftrace.c b/kernel/trace/ftrace.c</span>
<span class="p_header">index 3f743b1..14703bb 100644</span>
<span class="p_header">--- a/kernel/trace/ftrace.c</span>
<span class="p_header">+++ b/kernel/trace/ftrace.c</span>
<span class="p_chunk">@@ -744,7 +744,7 @@</span> <span class="p_context"> int ftrace_profile_pages_init(struct ftrace_profile_stat *stat)</span>
 		unsigned long tmp = (unsigned long)pg;
 
 		pg = pg-&gt;next;
<span class="p_del">-		free_page(tmp);</span>
<span class="p_add">+		free_page((void *)tmp);</span>
 	}
 
 	stat-&gt;pages = NULL;
<span class="p_header">diff --git a/kernel/trace/ring_buffer.c b/kernel/trace/ring_buffer.c</span>
<span class="p_header">index 9c6045a..26aad80 100644</span>
<span class="p_header">--- a/kernel/trace/ring_buffer.c</span>
<span class="p_header">+++ b/kernel/trace/ring_buffer.c</span>
<span class="p_chunk">@@ -341,7 +341,7 @@</span> <span class="p_context"> size_t ring_buffer_page_len(void *page)</span>
  */
 static void free_buffer_page(struct buffer_page *bpage)
 {
<span class="p_del">-	free_page((unsigned long)bpage-&gt;page);</span>
<span class="p_add">+	free_page(bpage-&gt;page);</span>
 	kfree(bpage);
 }
 
<span class="p_chunk">@@ -4437,7 +4437,7 @@</span> <span class="p_context"> EXPORT_SYMBOL_GPL(ring_buffer_alloc_read_page);</span>
  */
 void ring_buffer_free_read_page(struct ring_buffer *buffer, void *data)
 {
<span class="p_del">-	free_page((unsigned long)data);</span>
<span class="p_add">+	free_page(data);</span>
 }
 EXPORT_SYMBOL_GPL(ring_buffer_free_read_page);
 
<span class="p_header">diff --git a/kernel/trace/trace_events.c b/kernel/trace/trace_events.c</span>
<span class="p_header">index 4f6ef69..f2e26df 100644</span>
<span class="p_header">--- a/kernel/trace/trace_events.c</span>
<span class="p_header">+++ b/kernel/trace/trace_events.c</span>
<span class="p_chunk">@@ -1345,7 +1345,7 @@</span> <span class="p_context"> event_filter_write(struct file *filp, const char __user *ubuf, size_t cnt,</span>
 		return -ENOMEM;
 
 	if (copy_from_user(buf, ubuf, cnt)) {
<span class="p_del">-		free_page((unsigned long) buf);</span>
<span class="p_add">+		free_page(buf);</span>
 		return -EFAULT;
 	}
 	buf[cnt] = &#39;\0&#39;;
<span class="p_chunk">@@ -1356,7 +1356,7 @@</span> <span class="p_context"> event_filter_write(struct file *filp, const char __user *ubuf, size_t cnt,</span>
 		err = apply_event_filter(file, buf);
 	mutex_unlock(&amp;event_mutex);
 
<span class="p_del">-	free_page((unsigned long) buf);</span>
<span class="p_add">+	free_page(buf);</span>
 	if (err &lt; 0)
 		return err;
 
<span class="p_chunk">@@ -1512,13 +1512,13 @@</span> <span class="p_context"> subsystem_filter_write(struct file *filp, const char __user *ubuf, size_t cnt,</span>
 		return -ENOMEM;
 
 	if (copy_from_user(buf, ubuf, cnt)) {
<span class="p_del">-		free_page((unsigned long) buf);</span>
<span class="p_add">+		free_page(buf);</span>
 		return -EFAULT;
 	}
 	buf[cnt] = &#39;\0&#39;;
 
 	err = apply_subsystem_event_filter(dir, buf);
<span class="p_del">-	free_page((unsigned long) buf);</span>
<span class="p_add">+	free_page(buf);</span>
 	if (err &lt; 0)
 		return err;
 
<span class="p_header">diff --git a/kernel/trace/trace_events_filter.c b/kernel/trace/trace_events_filter.c</span>
<span class="p_header">index f93a219..234b5b9e 100644</span>
<span class="p_header">--- a/kernel/trace/trace_events_filter.c</span>
<span class="p_header">+++ b/kernel/trace/trace_events_filter.c</span>
<span class="p_chunk">@@ -684,7 +684,7 @@</span> <span class="p_context"> static void append_filter_err(struct filter_parse_state *ps,</span>
 
 	sprintf(pbuf, &quot;\nparse_error: %s\n&quot;, err_text[ps-&gt;lasterr]);
 	append_filter_string(filter, buf);
<span class="p_del">-	free_page((unsigned long) buf);</span>
<span class="p_add">+	free_page(buf);</span>
 }
 
 static inline struct event_filter *event_filter(struct trace_event_file *file)
<span class="p_header">diff --git a/kernel/trace/trace_events_trigger.c b/kernel/trace/trace_events_trigger.c</span>
<span class="p_header">index 42a4009..0796e61 100644</span>
<span class="p_header">--- a/kernel/trace/trace_events_trigger.c</span>
<span class="p_header">+++ b/kernel/trace/trace_events_trigger.c</span>
<span class="p_chunk">@@ -242,7 +242,7 @@</span> <span class="p_context"> static ssize_t event_trigger_regex_write(struct file *file,</span>
 		return -ENOMEM;
 
 	if (copy_from_user(buf, ubuf, cnt)) {
<span class="p_del">-		free_page((unsigned long)buf);</span>
<span class="p_add">+		free_page(buf);</span>
 		return -EFAULT;
 	}
 	buf[cnt] = &#39;\0&#39;;
<span class="p_chunk">@@ -252,13 +252,13 @@</span> <span class="p_context"> static ssize_t event_trigger_regex_write(struct file *file,</span>
 	event_file = event_file_data(file);
 	if (unlikely(!event_file)) {
 		mutex_unlock(&amp;event_mutex);
<span class="p_del">-		free_page((unsigned long)buf);</span>
<span class="p_add">+		free_page(buf);</span>
 		return -ENODEV;
 	}
 	ret = trigger_process_regex(event_file, buf);
 	mutex_unlock(&amp;event_mutex);
 
<span class="p_del">-	free_page((unsigned long)buf);</span>
<span class="p_add">+	free_page(buf);</span>
 	if (ret &lt; 0)
 		goto out;
 
<span class="p_header">diff --git a/kernel/trace/trace_uprobe.c b/kernel/trace/trace_uprobe.c</span>
<span class="p_header">index d2f6d0b..da18327 100644</span>
<span class="p_header">--- a/kernel/trace/trace_uprobe.c</span>
<span class="p_header">+++ b/kernel/trace/trace_uprobe.c</span>
<span class="p_chunk">@@ -722,7 +722,7 @@</span> <span class="p_context"> err:</span>
 	for_each_possible_cpu(cpu) {
 		if (cpu == err_cpu)
 			break;
<span class="p_del">-		free_page((unsigned long)per_cpu_ptr(uprobe_cpu_buffer, cpu)-&gt;buf);</span>
<span class="p_add">+		free_page(per_cpu_ptr(uprobe_cpu_buffer, cpu)-&gt;buf);</span>
 	}
 
 	free_percpu(uprobe_cpu_buffer);
<span class="p_chunk">@@ -752,8 +752,7 @@</span> <span class="p_context"> static void uprobe_buffer_disable(void)</span>
 
 	if (--uprobe_buffer_refcnt == 0) {
 		for_each_possible_cpu(cpu)
<span class="p_del">-			free_page((unsigned long)per_cpu_ptr(uprobe_cpu_buffer,</span>
<span class="p_del">-							     cpu)-&gt;buf);</span>
<span class="p_add">+			free_page(per_cpu_ptr(uprobe_cpu_buffer, cpu)-&gt;buf);</span>
 
 		free_percpu(uprobe_cpu_buffer);
 		uprobe_cpu_buffer = NULL;
<span class="p_header">diff --git a/kernel/user_namespace.c b/kernel/user_namespace.c</span>
<span class="p_header">index 88fefa6..b01948c 100644</span>
<span class="p_header">--- a/kernel/user_namespace.c</span>
<span class="p_header">+++ b/kernel/user_namespace.c</span>
<span class="p_chunk">@@ -757,7 +757,7 @@</span> <span class="p_context"> static ssize_t map_write(struct file *file, const char __user *buf,</span>
 out:
 	mutex_unlock(&amp;userns_state_mutex);
 	if (page)
<span class="p_del">-		free_page(page);</span>
<span class="p_add">+		free_page((void *)page);</span>
 	return ret;
 }
 
<span class="p_header">diff --git a/lib/scatterlist.c b/lib/scatterlist.c</span>
<span class="p_header">index bafa993..6f44c3e 100644</span>
<span class="p_header">--- a/lib/scatterlist.c</span>
<span class="p_header">+++ b/lib/scatterlist.c</span>
<span class="p_chunk">@@ -184,7 +184,7 @@</span> <span class="p_context"> static void sg_kfree(struct scatterlist *sg, unsigned int nents)</span>
 {
 	if (nents == SG_MAX_SINGLE_ALLOC) {
 		kmemleak_free(sg);
<span class="p_del">-		free_page((unsigned long) sg);</span>
<span class="p_add">+		free_page(sg);</span>
 	} else
 		kfree(sg);
 }
<span class="p_header">diff --git a/mm/memory.c b/mm/memory.c</span>
<span class="p_header">index c387430..47f8f87 100644</span>
<span class="p_header">--- a/mm/memory.c</span>
<span class="p_header">+++ b/mm/memory.c</span>
<span class="p_chunk">@@ -344,7 +344,7 @@</span> <span class="p_context"> static void tlb_remove_table_rcu(struct rcu_head *head)</span>
 	for (i = 0; i &lt; batch-&gt;nr; i++)
 		__tlb_remove_table(batch-&gt;tables[i]);
 
<span class="p_del">-	free_page((unsigned long)batch);</span>
<span class="p_add">+	free_page(batch);</span>
 }
 
 void tlb_table_flush(struct mmu_gather *tlb)
<span class="p_chunk">@@ -3772,7 +3772,7 @@</span> <span class="p_context"> void print_vma_addr(char *prefix, unsigned long ip)</span>
 			printk(&quot;%s%s[%lx+%lx]&quot;, prefix, kbasename(p),
 					vma-&gt;vm_start,
 					vma-&gt;vm_end - vma-&gt;vm_start);
<span class="p_del">-			free_page((unsigned long)buf);</span>
<span class="p_add">+			free_page(buf);</span>
 		}
 	}
 	up_read(&amp;mm-&gt;mmap_sem);
<span class="p_header">diff --git a/mm/migrate.c b/mm/migrate.c</span>
<span class="p_header">index 7890d0b..7aeba9a 100644</span>
<span class="p_header">--- a/mm/migrate.c</span>
<span class="p_header">+++ b/mm/migrate.c</span>
<span class="p_chunk">@@ -1389,7 +1389,7 @@</span> <span class="p_context"> static int do_pages_move(struct mm_struct *mm, nodemask_t task_nodes,</span>
 	err = 0;
 
 out_pm:
<span class="p_del">-	free_page((unsigned long)pm);</span>
<span class="p_add">+	free_page(pm);</span>
 out:
 	return err;
 }
<span class="p_header">diff --git a/mm/mincore.c b/mm/mincore.c</span>
<span class="p_header">index 14bb9fb..077ef0e 100644</span>
<span class="p_header">--- a/mm/mincore.c</span>
<span class="p_header">+++ b/mm/mincore.c</span>
<span class="p_chunk">@@ -264,6 +264,6 @@</span> <span class="p_context"> SYSCALL_DEFINE3(mincore, unsigned long, start, size_t, len,</span>
 		start += retval &lt;&lt; PAGE_SHIFT;
 		retval = 0;
 	}
<span class="p_del">-	free_page((unsigned long) tmp);</span>
<span class="p_add">+	free_page(tmp);</span>
 	return retval;
 }
<span class="p_header">diff --git a/mm/page_alloc.c b/mm/page_alloc.c</span>
<span class="p_header">index 9d666df..e68689c 100644</span>
<span class="p_header">--- a/mm/page_alloc.c</span>
<span class="p_header">+++ b/mm/page_alloc.c</span>
<span class="p_chunk">@@ -3458,7 +3458,7 @@</span> <span class="p_context"> static void *make_alloc_exact(unsigned long addr, unsigned int order,</span>
 
 		split_page(virt_to_page((void *)addr), order);
 		while (used &lt; alloc_end) {
<span class="p_del">-			free_page(used);</span>
<span class="p_add">+			free_page((void *)used);</span>
 			used += PAGE_SIZE;
 		}
 	}
<span class="p_chunk">@@ -3520,7 +3520,7 @@</span> <span class="p_context"> void free_pages_exact(void *virt, size_t size)</span>
 	unsigned long end = addr + PAGE_ALIGN(size);
 
 	while (addr &lt; end) {
<span class="p_del">-		free_page(addr);</span>
<span class="p_add">+		free_page((void *)addr);</span>
 		addr += PAGE_SIZE;
 	}
 }
<span class="p_header">diff --git a/mm/quicklist.c b/mm/quicklist.c</span>
<span class="p_header">index 9422129..d7d095c 100644</span>
<span class="p_header">--- a/mm/quicklist.c</span>
<span class="p_header">+++ b/mm/quicklist.c</span>
<span class="p_chunk">@@ -79,7 +79,7 @@</span> <span class="p_context"> void quicklist_trim(int nr, void (*dtor)(void *),</span>
 
 			if (dtor)
 				dtor(p);
<span class="p_del">-			free_page((unsigned long)p);</span>
<span class="p_add">+			free_page(p);</span>
 			pages_to_free--;
 		}
 	}
<span class="p_header">diff --git a/mm/slub.c b/mm/slub.c</span>
<span class="p_header">index 4699751..b50b454 100644</span>
<span class="p_header">--- a/mm/slub.c</span>
<span class="p_header">+++ b/mm/slub.c</span>
<span class="p_chunk">@@ -5290,7 +5290,7 @@</span> <span class="p_context"> static void memcg_propagate_slab_attrs(struct kmem_cache *s)</span>
 	}
 
 	if (buffer)
<span class="p_del">-		free_page((unsigned long)buffer);</span>
<span class="p_add">+		free_page(buffer);</span>
 #endif
 }
 
<span class="p_header">diff --git a/net/atm/mpoa_proc.c b/net/atm/mpoa_proc.c</span>
<span class="p_header">index 2df34eb..a2721ae 100644</span>
<span class="p_header">--- a/net/atm/mpoa_proc.c</span>
<span class="p_header">+++ b/net/atm/mpoa_proc.c</span>
<span class="p_chunk">@@ -221,7 +221,7 @@</span> <span class="p_context"> static ssize_t proc_mpc_write(struct file *file, const char __user *buff,</span>
 
 	for (p = page, len = 0; len &lt; nbytes; p++, len++) {
 		if (get_user(*p, buff++)) {
<span class="p_del">-			free_page((unsigned long)page);</span>
<span class="p_add">+			free_page(page);</span>
 			return -EFAULT;
 		}
 		if (*p == &#39;\0&#39; || *p == &#39;\n&#39;)
<span class="p_chunk">@@ -233,7 +233,7 @@</span> <span class="p_context"> static ssize_t proc_mpc_write(struct file *file, const char __user *buff,</span>
 	if (!parse_qos(page))
 		printk(&quot;mpoa: proc_mpc_write: could not parse &#39;%s&#39;\n&quot;, page);
 
<span class="p_del">-	free_page((unsigned long)page);</span>
<span class="p_add">+	free_page(page);</span>
 
 	return len;
 }
<span class="p_header">diff --git a/net/atm/proc.c b/net/atm/proc.c</span>
<span class="p_header">index bbb6461..2523c58 100644</span>
<span class="p_header">--- a/net/atm/proc.c</span>
<span class="p_header">+++ b/net/atm/proc.c</span>
<span class="p_chunk">@@ -398,7 +398,7 @@</span> <span class="p_context"> static ssize_t proc_dev_atm_read(struct file *file, char __user *buf,</span>
 			length = -EFAULT;
 		(*pos)++;
 	}
<span class="p_del">-	free_page(page);</span>
<span class="p_add">+	free_page((void *)page);</span>
 	return length;
 }
 
<span class="p_header">diff --git a/net/core/dev.c b/net/core/dev.c</span>
<span class="p_header">index ae00b89..7887d72 100644</span>
<span class="p_header">--- a/net/core/dev.c</span>
<span class="p_header">+++ b/net/core/dev.c</span>
<span class="p_chunk">@@ -1054,7 +1054,7 @@</span> <span class="p_context"> static int __dev_alloc_name(struct net *net, const char *name, char *buf)</span>
 		}
 
 		i = find_first_zero_bit(inuse, max_netdevices);
<span class="p_del">-		free_page((unsigned long) inuse);</span>
<span class="p_add">+		free_page(inuse);</span>
 	}
 
 	if (buf != name)
<span class="p_header">diff --git a/net/netfilter/nf_tables_api.c b/net/netfilter/nf_tables_api.c</span>
<span class="p_header">index 93cc473..6514ce1 100644</span>
<span class="p_header">--- a/net/netfilter/nf_tables_api.c</span>
<span class="p_header">+++ b/net/netfilter/nf_tables_api.c</span>
<span class="p_chunk">@@ -2438,7 +2438,7 @@</span> <span class="p_context"> cont:</span>
 			memset(inuse, 0, PAGE_SIZE);
 			goto cont;
 		}
<span class="p_del">-		free_page((unsigned long)inuse);</span>
<span class="p_add">+		free_page(inuse);</span>
 	}
 
 	snprintf(set-&gt;name, sizeof(set-&gt;name), name, min + n);
<span class="p_header">diff --git a/net/rds/cong.c b/net/rds/cong.c</span>
<span class="p_header">index e6144b8..15d4725 100644</span>
<span class="p_header">--- a/net/rds/cong.c</span>
<span class="p_header">+++ b/net/rds/cong.c</span>
<span class="p_chunk">@@ -167,7 +167,7 @@</span> <span class="p_context"> static struct rds_cong_map *rds_cong_from_addr(__be32 addr)</span>
 out:
 	if (map) {
 		for (i = 0; i &lt; RDS_CONG_MAP_PAGES &amp;&amp; map-&gt;m_page_addrs[i]; i++)
<span class="p_del">-			free_page(map-&gt;m_page_addrs[i]);</span>
<span class="p_add">+			free_page((void *)map-&gt;m_page_addrs[i]);</span>
 		kfree(map);
 	}
 
<span class="p_chunk">@@ -399,7 +399,7 @@</span> <span class="p_context"> void rds_cong_exit(void)</span>
 		rdsdebug(&quot;freeing map %p\n&quot;, map);
 		rb_erase(&amp;map-&gt;m_rb_node, &amp;rds_cong_tree);
 		for (i = 0; i &lt; RDS_CONG_MAP_PAGES &amp;&amp; map-&gt;m_page_addrs[i]; i++)
<span class="p_del">-			free_page(map-&gt;m_page_addrs[i]);</span>
<span class="p_add">+			free_page((void *)map-&gt;m_page_addrs[i]);</span>
 		kfree(map);
 	}
 }
<span class="p_header">diff --git a/net/sunrpc/backchannel_rqst.c b/net/sunrpc/backchannel_rqst.c</span>
<span class="p_header">index 229956b..be77bca 100644</span>
<span class="p_header">--- a/net/sunrpc/backchannel_rqst.c</span>
<span class="p_header">+++ b/net/sunrpc/backchannel_rqst.c</span>
<span class="p_chunk">@@ -63,9 +63,9 @@</span> <span class="p_context"> static void xprt_free_allocation(struct rpc_rqst *req)</span>
 	dprintk(&quot;RPC:        free allocations for req= %p\n&quot;, req);
 	WARN_ON_ONCE(test_bit(RPC_BC_PA_IN_USE, &amp;req-&gt;rq_bc_pa_state));
 	xbufp = &amp;req-&gt;rq_rcv_buf;
<span class="p_del">-	free_page((unsigned long)xbufp-&gt;head[0].iov_base);</span>
<span class="p_add">+	free_page(xbufp-&gt;head[0].iov_base);</span>
 	xbufp = &amp;req-&gt;rq_snd_buf;
<span class="p_del">-	free_page((unsigned long)xbufp-&gt;head[0].iov_base);</span>
<span class="p_add">+	free_page(xbufp-&gt;head[0].iov_base);</span>
 	kfree(req);
 }
 
<span class="p_header">diff --git a/net/sunrpc/xprtsock.c b/net/sunrpc/xprtsock.c</span>
<span class="p_header">index 2ffaf6a..dbbc520 100644</span>
<span class="p_header">--- a/net/sunrpc/xprtsock.c</span>
<span class="p_header">+++ b/net/sunrpc/xprtsock.c</span>
<span class="p_chunk">@@ -2529,7 +2529,7 @@</span> <span class="p_context"> static void bc_free(void *buffer)</span>
 		return;
 
 	buf = container_of(buffer, struct rpc_buffer, data);
<span class="p_del">-	free_page((unsigned long)buf);</span>
<span class="p_add">+	free_page(buf);</span>
 }
 
 /*
<span class="p_header">diff --git a/security/selinux/hooks.c b/security/selinux/hooks.c</span>
<span class="p_header">index d0cfaa9..dba9f5f 100644</span>
<span class="p_header">--- a/security/selinux/hooks.c</span>
<span class="p_header">+++ b/security/selinux/hooks.c</span>
<span class="p_chunk">@@ -1277,7 +1277,7 @@</span> <span class="p_context"> static int selinux_genfs_get_sid(struct dentry *dentry,</span>
 		}
 		rc = security_genfs_sid(sb-&gt;s_type-&gt;name, path, tclass, sid);
 	}
<span class="p_del">-	free_page((unsigned long)buffer);</span>
<span class="p_add">+	free_page(buffer);</span>
 	return rc;
 }
 
<span class="p_chunk">@@ -2579,7 +2579,7 @@</span> <span class="p_context"> static int selinux_sb_copy_data(char *orig, char *copy)</span>
 	} while (*in_end++);
 
 	strcpy(in_save, nosec_save);
<span class="p_del">-	free_page((unsigned long)nosec_save);</span>
<span class="p_add">+	free_page(nosec_save);</span>
 out:
 	return rc;
 }
<span class="p_header">diff --git a/security/selinux/selinuxfs.c b/security/selinux/selinuxfs.c</span>
<span class="p_header">index c02da25..c4de69b 100644</span>
<span class="p_header">--- a/security/selinux/selinuxfs.c</span>
<span class="p_header">+++ b/security/selinux/selinuxfs.c</span>
<span class="p_chunk">@@ -186,7 +186,7 @@</span> <span class="p_context"> static ssize_t sel_write_enforce(struct file *file, const char __user *buf,</span>
 	}
 	length = count;
 out:
<span class="p_del">-	free_page((unsigned long) page);</span>
<span class="p_add">+	free_page(page);</span>
 	return length;
 }
 #else
<span class="p_chunk">@@ -313,7 +313,7 @@</span> <span class="p_context"> static ssize_t sel_write_disable(struct file *file, const char __user *buf,</span>
 
 	length = count;
 out:
<span class="p_del">-	free_page((unsigned long) page);</span>
<span class="p_add">+	free_page(page);</span>
 	return length;
 }
 #else
<span class="p_chunk">@@ -644,7 +644,7 @@</span> <span class="p_context"> static ssize_t sel_write_checkreqprot(struct file *file, const char __user *buf,</span>
 	selinux_checkreqprot = new_value ? 1 : 0;
 	length = count;
 out:
<span class="p_del">-	free_page((unsigned long) page);</span>
<span class="p_add">+	free_page(page);</span>
 	return length;
 }
 static const struct file_operations sel_checkreqprot_ops = {
<span class="p_chunk">@@ -1068,7 +1068,7 @@</span> <span class="p_context"> static ssize_t sel_read_bool(struct file *filep, char __user *buf,</span>
 	ret = simple_read_from_buffer(buf, count, ppos, page, length);
 out:
 	mutex_unlock(&amp;sel_mutex);
<span class="p_del">-	free_page((unsigned long)page);</span>
<span class="p_add">+	free_page(page);</span>
 	return ret;
 }
 
<span class="p_chunk">@@ -1121,7 +1121,7 @@</span> <span class="p_context"> static ssize_t sel_write_bool(struct file *filep, const char __user *buf,</span>
 
 out:
 	mutex_unlock(&amp;sel_mutex);
<span class="p_del">-	free_page((unsigned long) page);</span>
<span class="p_add">+	free_page(page);</span>
 	return length;
 }
 
<span class="p_chunk">@@ -1176,7 +1176,7 @@</span> <span class="p_context"> static ssize_t sel_commit_bools_write(struct file *filep,</span>
 
 out:
 	mutex_unlock(&amp;sel_mutex);
<span class="p_del">-	free_page((unsigned long) page);</span>
<span class="p_add">+	free_page(page);</span>
 	return length;
 }
 
<span class="p_chunk">@@ -1257,10 +1257,10 @@</span> <span class="p_context"> static int sel_make_bools(void)</span>
 	bool_pending_names = names;
 	bool_pending_values = values;
 
<span class="p_del">-	free_page((unsigned long)page);</span>
<span class="p_add">+	free_page(page);</span>
 	return 0;
 out:
<span class="p_del">-	free_page((unsigned long)page);</span>
<span class="p_add">+	free_page(page);</span>
 
 	if (names) {
 		for (i = 0; i &lt; num; i++)
<span class="p_chunk">@@ -1326,7 +1326,7 @@</span> <span class="p_context"> static ssize_t sel_write_avc_cache_threshold(struct file *file,</span>
 
 	ret = count;
 out:
<span class="p_del">-	free_page((unsigned long)page);</span>
<span class="p_add">+	free_page(page);</span>
 	return ret;
 }
 
<span class="p_chunk">@@ -1343,7 +1343,7 @@</span> <span class="p_context"> static ssize_t sel_read_avc_hash_stats(struct file *filp, char __user *buf,</span>
 	length = avc_get_hash_stats(page);
 	if (length &gt;= 0)
 		length = simple_read_from_buffer(buf, count, ppos, page, length);
<span class="p_del">-	free_page((unsigned long)page);</span>
<span class="p_add">+	free_page(page);</span>
 
 	return length;
 }
<span class="p_header">diff --git a/security/smack/smack_lsm.c b/security/smack/smack_lsm.c</span>
<span class="p_header">index ff81026..1f7a580 100644</span>
<span class="p_header">--- a/security/smack/smack_lsm.c</span>
<span class="p_header">+++ b/security/smack/smack_lsm.c</span>
<span class="p_chunk">@@ -611,7 +611,7 @@</span> <span class="p_context"> static int smack_sb_copy_data(char *orig, char *smackopts)</span>
 	}
 
 	strcpy(orig, otheropts);
<span class="p_del">-	free_page((unsigned long)otheropts);</span>
<span class="p_add">+	free_page(otheropts);</span>
 
 	return 0;
 }
<span class="p_header">diff --git a/sound/drivers/dummy.c b/sound/drivers/dummy.c</span>
<span class="p_header">index 016e451..fb5730db 100644</span>
<span class="p_header">--- a/sound/drivers/dummy.c</span>
<span class="p_header">+++ b/sound/drivers/dummy.c</span>
<span class="p_chunk">@@ -619,7 +619,7 @@</span> <span class="p_context"> static void free_fake_buffer(void)</span>
 		int i;
 		for (i = 0; i &lt; 2; i++)
 			if (dummy_page[i]) {
<span class="p_del">-				free_page((unsigned long)dummy_page[i]);</span>
<span class="p_add">+				free_page(dummy_page[i]);</span>
 				dummy_page[i] = NULL;
 			}
 	}
<span class="p_header">diff --git a/sound/oss/msnd_pinnacle.c b/sound/oss/msnd_pinnacle.c</span>
<span class="p_header">index a8bb4a0..8aa54fc 100644</span>
<span class="p_header">--- a/sound/oss/msnd_pinnacle.c</span>
<span class="p_header">+++ b/sound/oss/msnd_pinnacle.c</span>
<span class="p_chunk">@@ -918,7 +918,7 @@</span> <span class="p_context"> static int dsp_read(char __user *buf, size_t len)</span>
 		n = msnd_fifo_read(&amp;dev.DARF, page, k);
 		spin_unlock_irqrestore(&amp;dev.lock, flags);
 		if (copy_to_user(buf, page, n)) {
<span class="p_del">-			free_page((unsigned long)page);</span>
<span class="p_add">+			free_page(page);</span>
 			return -EFAULT;
 		}
 		buf += n;
<span class="p_chunk">@@ -934,7 +934,7 @@</span> <span class="p_context"> static int dsp_read(char __user *buf, size_t len)</span>
 		}
 
 		if (dev.rec_ndelay) {
<span class="p_del">-			free_page((unsigned long)page);</span>
<span class="p_add">+			free_page(page);</span>
 			return count == len ? -EAGAIN : len - count;
 		}
 
<span class="p_chunk">@@ -946,12 +946,12 @@</span> <span class="p_context"> static int dsp_read(char __user *buf, size_t len)</span>
 					timeout) &lt;= 0)
 				clear_bit(F_READING, &amp;dev.flags);
 			if (signal_pending(current)) {
<span class="p_del">-				free_page((unsigned long)page);</span>
<span class="p_add">+				free_page(page);</span>
 				return -EINTR;
 			}
 		}
 	}
<span class="p_del">-	free_page((unsigned long)page);</span>
<span class="p_add">+	free_page(page);</span>
 	return len - count;
 }
 
<span class="p_chunk">@@ -973,7 +973,7 @@</span> <span class="p_context"> static int dsp_write(const char __user *buf, size_t len)</span>
 			k = count;
 
 		if (copy_from_user(page, buf, k)) {
<span class="p_del">-			free_page((unsigned long)page);</span>
<span class="p_add">+			free_page(page);</span>
 			return -EFAULT;
 		}
 
<span class="p_chunk">@@ -994,7 +994,7 @@</span> <span class="p_context"> static int dsp_write(const char __user *buf, size_t len)</span>
 		}
 
 		if (dev.play_ndelay) {
<span class="p_del">-			free_page((unsigned long)page);</span>
<span class="p_add">+			free_page(page);</span>
 			return count == len ? -EAGAIN : len - count;
 		}
 
<span class="p_chunk">@@ -1005,13 +1005,13 @@</span> <span class="p_context"> static int dsp_write(const char __user *buf, size_t len)</span>
 				test_bit(F_WRITEBLOCK, &amp;dev.flags),
 				timeout);
 			if (signal_pending(current)) {
<span class="p_del">-				free_page((unsigned long)page);</span>
<span class="p_add">+				free_page(page);</span>
 				return -EINTR;
 			}
 		}
 	}
 
<span class="p_del">-	free_page((unsigned long)page);</span>
<span class="p_add">+	free_page(page);</span>
 	return len - count;
 }
 
<span class="p_header">diff --git a/sound/oss/vidc.c b/sound/oss/vidc.c</span>
<span class="p_header">index 92ca5be..b73fcc3 100644</span>
<span class="p_header">--- a/sound/oss/vidc.c</span>
<span class="p_header">+++ b/sound/oss/vidc.c</span>
<span class="p_chunk">@@ -497,7 +497,7 @@</span> <span class="p_context"> irq_failed:</span>
 dma_failed:
 mem_failed:
 	for (i = 0; i &lt; 2; i++)
<span class="p_del">-		free_page(dma_buf[i]);</span>
<span class="p_add">+		free_page((void *)dma_buf[i]);</span>
 	sound_unload_mixerdev(audio_devs[adev]-&gt;mixer_dev);
 mixer_failed:
 	sound_unload_audiodev(adev);
<span class="p_chunk">@@ -528,7 +528,7 @@</span> <span class="p_context"> static void __exit unload_vidc(struct address_info *hw_config)</span>
 		sound_unload_mixerdev(audio_devs[adev]-&gt;mixer_dev);
 		sound_unload_audiodev(adev);
 		for (i = 0; i &lt; 2; i++)
<span class="p_del">-			free_page(dma_buf[i]);</span>
<span class="p_add">+			free_page((void *)dma_buf[i]);</span>
 	}
 }
 
<span class="p_header">diff --git a/sound/pci/emu10k1/memory.c b/sound/pci/emu10k1/memory.c</span>
<span class="p_header">index 4f1f69b..2c2b73d 100644</span>
<span class="p_header">--- a/sound/pci/emu10k1/memory.c</span>
<span class="p_header">+++ b/sound/pci/emu10k1/memory.c</span>
<span class="p_chunk">@@ -453,7 +453,7 @@</span> <span class="p_context"> static void __synth_free_pages(struct snd_emu10k1 *emu, int first_page,</span>
 	int page;
 
 	for (page = first_page; page &lt;= last_page; page++) {
<span class="p_del">-		free_page((unsigned long)emu-&gt;page_ptr_table[page]);</span>
<span class="p_add">+		free_page(emu-&gt;page_ptr_table[page]);</span>
 		emu-&gt;page_addr_table[page] = 0;
 		emu-&gt;page_ptr_table[page] = NULL;
 	}
<span class="p_header">diff --git a/tools/virtio/linux/kernel.h b/tools/virtio/linux/kernel.h</span>
<span class="p_header">index 4db7d56..9e64717 100644</span>
<span class="p_header">--- a/tools/virtio/linux/kernel.h</span>
<span class="p_header">+++ b/tools/virtio/linux/kernel.h</span>
<span class="p_chunk">@@ -77,9 +77,9 @@</span> <span class="p_context"> static inline unsigned long __get_free_page(gfp_t gfp)</span>
 	return (unsigned long)p;
 }
 
<span class="p_del">-static inline void free_page(unsigned long addr)</span>
<span class="p_add">+static inline void free_page(void *addr)</span>
 {
<span class="p_del">-	free((void *)addr);</span>
<span class="p_add">+	free(addr);</span>
 }
 
 #define container_of(ptr, type, member) ({			\
<span class="p_header">diff --git a/virt/kvm/coalesced_mmio.c b/virt/kvm/coalesced_mmio.c</span>
<span class="p_header">index 571c1ce..5fcb1ef 100644</span>
<span class="p_header">--- a/virt/kvm/coalesced_mmio.c</span>
<span class="p_header">+++ b/virt/kvm/coalesced_mmio.c</span>
<span class="p_chunk">@@ -130,7 +130,7 @@</span> <span class="p_context"> out_err:</span>
 void kvm_coalesced_mmio_free(struct kvm *kvm)
 {
 	if (kvm-&gt;coalesced_mmio_ring)
<span class="p_del">-		free_page((unsigned long)kvm-&gt;coalesced_mmio_ring);</span>
<span class="p_add">+		free_page(kvm-&gt;coalesced_mmio_ring);</span>
 }
 
 int kvm_vm_ioctl_register_coalesced_mmio(struct kvm *kvm,
<span class="p_header">diff --git a/virt/kvm/kvm_main.c b/virt/kvm/kvm_main.c</span>
<span class="p_header">index 484079e..e2353b2 100644</span>
<span class="p_header">--- a/virt/kvm/kvm_main.c</span>
<span class="p_header">+++ b/virt/kvm/kvm_main.c</span>
<span class="p_chunk">@@ -250,7 +250,7 @@</span> <span class="p_context"> int kvm_vcpu_init(struct kvm_vcpu *vcpu, struct kvm *kvm, unsigned id)</span>
 	return 0;
 
 fail_free_run:
<span class="p_del">-	free_page((unsigned long)vcpu-&gt;run);</span>
<span class="p_add">+	free_page(vcpu-&gt;run);</span>
 fail:
 	return r;
 }
<span class="p_chunk">@@ -260,7 +260,7 @@</span> <span class="p_context"> void kvm_vcpu_uninit(struct kvm_vcpu *vcpu)</span>
 {
 	put_pid(vcpu-&gt;pid);
 	kvm_arch_vcpu_uninit(vcpu);
<span class="p_del">-	free_page((unsigned long)vcpu-&gt;run);</span>
<span class="p_add">+	free_page(vcpu-&gt;run);</span>
 }
 EXPORT_SYMBOL_GPL(kvm_vcpu_uninit);
 

</pre>
</div>




  </div>
  <div id="footer">
   <a href="http://jk.ozlabs.org/projects/patchwork/">patchwork</a>
   patch tracking system
  </div>
 </body>
</html>



